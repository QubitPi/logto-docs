"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[41885],{27850:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>m,default:()=>A,frontMatter:()=>j,metadata:()=>r,toc:()=>_});const r=JSON.parse('{"id":"quick-starts/framework/flutterflow/README","title":"Logto SDK \u3092\u4f7f\u7528\u3057\u3066 FlutterFlow CustomAuthManager \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b","description":"FlutterFlow \u306b\u306f\u3001\u72ec\u81ea\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c (Authentication) \u3067\u304d\u308b \u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u6a5f\u80fd\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u7d44\u307f\u8fbc\u307f\u306e\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u306f\u3001\u5358\u4e00\u306e\u8a8d\u8a3c (Authentication) API \u547c\u3073\u51fa\u3057\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc (IdP) \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u8a8d\u8a3c (Authentication) \u30ea\u30af\u30a8\u30b9\u30c8\u306f Resource Owner Password Credentials \u30b0\u30e9\u30f3\u30c8\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3057\u3066\u306e\u307f\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u3053\u308c\u306f\u672c\u756a\u74b0\u5883\u3067\u306e\u4f7f\u7528\u306b\u306f\u63a8\u5968\u3055\u308c\u307e\u305b\u3093\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001\u5ec3\u6b62\u3055\u308c\u305f ropc \u30b0\u30e9\u30f3\u30c8\u30bf\u30a4\u30d7 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/quick-starts/framework/flutterflow/README.mdx","sourceDirName":"quick-starts/framework/flutterflow","slug":"/quick-starts/flutter-flow","permalink":"/ja/quick-starts/flutter-flow","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/ja/docusaurus-plugin-content-docs/current/quick-starts/framework/flutterflow/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/flutter-flow","sidebar_label":"FlutterFlow","sidebar_custom_props":{"description":"FlutterFlow \u306f\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30d5\u30e9\u30c3\u30bf\u30fc\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u30ed\u30fc\u30b3\u30fc\u30c9\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002"}},"sidebar":"quickStartSidebar","previous":{"title":"Flutter","permalink":"/ja/quick-starts/flutter"},"next":{"title":"Go","permalink":"/ja/quick-starts/go"}}');var i=n(25105),o=n(79621);function l(e){const t={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/auth/custom_auth/custom_auth_manager.dart\n\nimport 'dart:async';\n\nimport 'package:flutter/foundation.dart';\nimport 'package:http/http.dart' as http;\nimport 'package:logto_dart_sdk/logto_client.dart';\nimport 'package:logto_dart_sdk/src/modules/id_token.dart';\n\nimport 'custom_auth_user_provider.dart';\n\nexport 'custom_auth_manager.dart';\n\n\nclass CustomAuthManager {\n  late LogtoClient logtoClient;\n\n  final logtoConfig = const LogtoConfig(\n      appId: '<YOUR-APP-ID>',\n      endpoint: '<YOUR-LOGTO-ENDPOINT>');\n\n\n  // ...\n\n  FlutterFlowAuthAuthUser? _updateCurrentUser(\n      {bool loggedIn = false, String? uid, OpenIdClaims? idToken}) {\n    // \u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002\n    final updatedUser = FlutterFlowAuthAuthUser(\n      loggedIn: loggedIn,\n      uid: uid,\n      idToken: idToken,\n    );\n\n    flutterFlowAuthAuthUserSubject.add(updatedUser);\n\n    return updatedUser;\n  }\n\n  Future initialize() async {\n    logtoClient = LogtoClient(config: logtoConfig, httpClient: http.Client());\n\n    late OpenIdClaims? idToken;\n\n    try {\n      idToken = await logtoClient.idTokenClaims;\n    } catch (e) {\n      if (kDebugMode) {\n        print('\u8a8d\u8a3c (Authentication) \u306e\u521d\u671f\u5316\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: $e');\n      }\n    }\n\n    _updateCurrentUser(\n        loggedIn: idToken != null, uid: idToken?.subject, idToken: idToken);\n  }\n}\n\nFlutterFlowAuthAuthUser? currentUser;\nbool get loggedIn => currentUser?.loggedIn ?? false;\n\n"})})}function s(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function a(e){const t={code:"code",pre:"pre",...(0,o.R)(),...e.components};return(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/auth/custom_auth/custom_auth_user_provider.dart\n\nimport 'package:logto_dart_sdk/src/modules/id_token.dart';\nimport 'package:rxdart/rxdart.dart';\n\nimport 'custom_auth_manager.dart';\n\nclass FlutterFlowAuthAuthUser {\n  FlutterFlowAuthAuthUser({required this.loggedIn, this.uid, this.idToken});\n\n  bool loggedIn;\n  String? uid;\n  OpenIdClaims? idToken;\n}\n\n/// \u8a8d\u8a3c\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306e\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u751f\u6210\u3057\u307e\u3059\u3002\nBehaviorSubject<FlutterFlowAuthAuthUser> flutterFlowAuthAuthUserSubject =\n    BehaviorSubject.seeded(FlutterFlowAuthAuthUser(loggedIn: false));\nStream<FlutterFlowAuthAuthUser> flutterFlowAuthAuthUserStream() =>\n    flutterFlowAuthAuthUserSubject\n        .asBroadcastStream()\n        .map((user) => currentUser = user);\n\n"})})}function d(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function u(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(t.h3,{id:"flutter_secure_storage",children:"flutter_secure_storage"})}),(0,i.jsxs)(t.p,{children:["\u30af\u30ed\u30b9\u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306e\u6c38\u7d9a\u7684\u306a\u30bb\u30ad\u30e5\u30a2\u30c8\u30fc\u30af\u30f3\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5b9f\u88c5\u3059\u308b\u305f\u3081\u306b\u3001",(0,i.jsx)(t.a,{href:"https://pub.dev/packages/flutter_secure_storage",children:"flutter_secure_storage"})," \u3092\u4f7f\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u5185\u90e8\u3067\u306f\uff1a"]}),(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"iOS \u3067\u306f Keychain \u304c\u4f7f\u7528\u3055\u308c\u307e\u3059"}),"\n",(0,i.jsx)(t.li,{children:"Android \u3067\u306f AES \u6697\u53f7\u5316\u304c\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002"}),"\n"]}),(0,i.jsx)(t.h3,{id:"config-android-version",children:"Android \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a2d\u5b9a\uff1a"}),(0,i.jsx)(t.p,{children:"[project]/android/app/build.gradle \u3067 minSdkVersion \u3092 >= 18 \u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-kotlin",children:"  android {\n      ...\n\n      defaultConfig {\n          ...\n          minSdkVersion 18\n          ...\n      }\n  }\n"})}),(0,i.jsx)(t.h3,{id:"disable-autobackup",children:"\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u7121\u52b9\u306b\u3059\u308b\uff1a"}),(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Android \u306f Google Drive \u306b\u30c7\u30fc\u30bf\u3092\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u4f8b\u5916 java.security.InvalidKeyException",":Failed"," to unwrap key \u304c\u767a\u751f\u3059\u308b\u53ef\u80fd\u6027\u304c\u3042\u308a\u307e\u3059\u3002"]})}),(0,i.jsx)(t.p,{children:"\u3053\u308c\u3092\u907f\u3051\u308b\u305f\u3081\u306b\u3001\u30a2\u30d7\u30ea\u306e\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u7121\u52b9\u306b\u3059\u308b\u304b\u3001FlutterSecureStorage \u304b\u3089 sharedprefs \u3092\u9664\u5916\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"}),(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u7121\u52b9\u306b\u3059\u308b\u306b\u306f\u3001\u30a2\u30d7\u30ea\u306e\u30de\u30cb\u30d5\u30a7\u30b9\u30c8\u30d5\u30a1\u30a4\u30eb\u306b\u79fb\u52d5\u3057\u3001\u30d6\u30fc\u30eb\u5024 android",":allowBackup"," \u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff1a"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<manifest ... >\n    ...\n    <application\n      android:allowBackup="false"\n      android:fullBackupContent="false"\n      ...\n    >\n        ...\n    </application>\n</manifest>\n\n'})}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsx)(t.p,{children:"FlutterSecureStorage \u304b\u3089 sharedprefs \u3092\u9664\u5916\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsxs)(t.p,{children:["\u30a2\u30d7\u30ea\u306e android",":fullBackupContent"," \u3092\u6709\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u5834\u5408\u306f\u3001\u30d7\u30e9\u30b0\u30a4\u30f3\u3067\u4f7f\u7528\u3055\u308c\u308b prefs \u3092 ",(0,i.jsx)(t.a,{href:"https://developer.android.com/guide/topics/data/autobackup#IncludingFiles",children:"\u9664\u5916"})," \u3059\u308b\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u30eb\u30fc\u30eb\u3092\u8a2d\u5b9a\u3057\u307e\u3059\uff1a"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<application ...\n  android:fullBackupContent="@xml/backup_rules">\n</application>\n'})}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<?xml version="1.0" encoding="utf-8"?>\n<full-backup-content>\n  <exclude domain="sharedpref" path="FlutterSecureStorage"/>\n</full-backup-content>\n'})}),"\n",(0,i.jsxs)(t.p,{children:["\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001",(0,i.jsx)(t.a,{href:"https://pub.dev/packages/flutter_secure_storage#configure-android-version",children:"flutter_secure_storage"})," \u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}function h(e){const t={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,o.R)(),...e.components},{Details:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(n,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(t.h3,{id:"flutter_web_auth",children:"flutter_web_auth"})}),(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.a,{href:"https://pub.dev/packages/flutter_web_auth",children:"flutter_web_auth"})," \u306f Logto \u306e flutter SDK \u306e\u80cc\u5f8c\u3067\u4f7f\u7528\u3055\u308c\u307e\u3059\u3002Logto \u306e\u8a8d\u53ef (Authorization) \u30da\u30fc\u30b8\u3092\u958b\u304f\u305f\u3081\u306b\u3001\u305d\u306e webview \u30d9\u30fc\u30b9\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30b7\u30e7\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u306b\u4f9d\u5b58\u3057\u3066\u3044\u307e\u3059\u3002"]}),(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"\u3053\u306e\u30d7\u30e9\u30b0\u30a4\u30f3\u306f\u3001iOS 12+ \u304a\u3088\u3073 macOS 10.15+ \u3067\u306f ASWebAuthenticationSession\u3001iOS 11 \u3067\u306f SFAuthenticationSession\u3001Android \u3067\u306f Chrome Custom Tabs \u3092\u4f7f\u7528\u3057\u3001Web \u3067\u306f\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3092\u958b\u304d\u307e\u3059\u3002\niOS 8+ \u3067\u30d3\u30eb\u30c9\u3067\u304d\u307e\u3059\u304c\u3001\u73fe\u5728\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u308b\u306e\u306f iOS 11 \u4ee5\u4e0a\u306e\u307f\u3067\u3059\u3002"})}),(0,i.jsx)(t.h3,{id:"register-the-callback-url-on-android",children:"Android \u3067\u30b3\u30fc\u30eb\u30d0\u30c3\u30af URL \u3092\u767b\u9332\u3059\u308b"}),(0,i.jsx)(t.p,{children:"Logto \u306e\u30b5\u30a4\u30f3\u30a4\u30f3\u30a6\u30a7\u30d6\u30da\u30fc\u30b8\u304b\u3089\u30b3\u30fc\u30eb\u30d0\u30c3\u30af URL \u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30b5\u30a4\u30f3\u30a4\u30f3 redirectUri \u3092 AndroidManifest.xml \u306b\u767b\u9332\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-xml",children:'<activity android:name="com.linusu.flutter_web_auth.CallbackActivity" android:exported="true">\n    <intent-filter android:label="flutter_web_auth">\n        <action android:name="android.intent.action.VIEW"/>\n        <category android:name="android.intent.category.DEFAULT"/>\n        <category android:name="android.intent.category.BROWSABLE"/>\n        <data android:scheme="io.logto"/>\n    </intent-filter>\n</activity>\n'})})]})}function p(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}const g=n.p+"assets/images/flutter-flow-custom-authentication-29ea475c8e52fe77ef9348d6a769ffa8.png",x=n.p+"assets/images/flutter-flow-github-push-ac7fd20f25760f669a19dd9fe61906b3.png",j={slug:"/quick-starts/flutter-flow",sidebar_label:"FlutterFlow",sidebar_custom_props:{description:"FlutterFlow \u306f\u30cf\u30a4\u30d6\u30ea\u30c3\u30c9\u30d5\u30e9\u30c3\u30bf\u30fc\u30a2\u30d7\u30ea\u3092\u69cb\u7bc9\u3059\u308b\u305f\u3081\u306e\u30ed\u30fc\u30b3\u30fc\u30c9\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3067\u3059\u3002"}},m="Logto SDK \u3092\u4f7f\u7528\u3057\u3066 FlutterFlow CustomAuthManager \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b",f={},_=[{value:"\u524d\u63d0\u6761\u4ef6",id:"prerequisites",level:2},{value:"FlutterFlow \u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b",id:"enable-flutterflow-custom-code",level:2},{value:"FlutterFlow \u3067 UI \u3092\u4f5c\u6210\u3059\u308b",id:"create-your-ui-in-flutterflow",level:2},{value:"CustomAuthManager \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b",id:"customize-the-customauthmanager",level:2},{value:"Logto SDK \u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b",id:"install-logto-sdk-dependency",level:3},{value:"UserProvider \u3092\u66f4\u65b0\u3059\u308b",id:"update-the-userprovider",level:3},{value:"CustomAuthManager \u3067 logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u521d\u671f\u5316\u3059\u308b",id:"init-the-logto-client-in-customauthmanager",level:3},{value:"\u30b5\u30a4\u30f3\u30a4\u30f3\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b",id:"implement-the-sign-in-method",level:3},{value:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b",id:"implement-the-sign-out-method",level:3},{value:"\u8a8d\u8a3c (Authentication) \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30bd\u30c3\u30c9\u3092\u66f4\u65b0\u3059\u308b",id:"update-the-auth-util-methods",level:3},{value:"UI \u306b\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u3092\u7d71\u5408\u3059\u308b",id:"integrate-the-custom-authentication-in-your-ui",level:2},{value:"\u30db\u30fc\u30e0\u30da\u30fc\u30b8",id:"home-page",level:3},{value:"\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u30da\u30fc\u30b8",id:"user-profile-page",level:3},{value:"\u3055\u3089\u306a\u308b\u8aad\u307f\u7269",id:"further-readings",level:2},{value:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",id:"dependency-troubleshooting",level:2},{value:"flutter_secure_storage",id:"flutter_secure_storage",level:3},{value:"Android \u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u8a2d\u5b9a\uff1a",id:"config-android-version",level:3},{value:"\u81ea\u52d5\u30d0\u30c3\u30af\u30a2\u30c3\u30d7\u3092\u7121\u52b9\u306b\u3059\u308b\uff1a",id:"disable-autobackup",level:3},{value:"flutter_web_auth",id:"flutter_web_auth",level:3},{value:"Android \u3067\u30b3\u30fc\u30eb\u30d0\u30c3\u30af URL \u3092\u767b\u9332\u3059\u308b",id:"register-the-callback-url-on-android",level:3}];function w(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"logto-sdk-\u3092\u4f7f\u7528\u3057\u3066-flutterflow-customauthmanager-\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b",children:"Logto SDK \u3092\u4f7f\u7528\u3057\u3066 FlutterFlow CustomAuthManager \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b"})}),"\n",(0,i.jsxs)(t.p,{children:["FlutterFlow \u306b\u306f\u3001\u72ec\u81ea\u306e\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066\u30e6\u30fc\u30b6\u30fc\u3092\u8a8d\u8a3c (Authentication) \u3067\u304d\u308b ",(0,i.jsx)(t.a,{href:"https://docs.flutterflow.io/data-and-backend/custom-authentication",children:"\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication)"})," \u6a5f\u80fd\u304c\u7d44\u307f\u8fbc\u307e\u308c\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u7d44\u307f\u8fbc\u307f\u306e\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u306f\u3001\u5358\u4e00\u306e\u8a8d\u8a3c (Authentication) API \u547c\u3073\u51fa\u3057\u3067\u52d5\u4f5c\u3059\u308b\u3088\u3046\u306b\u8a2d\u8a08\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30b5\u30fc\u30c9\u30d1\u30fc\u30c6\u30a3\u306e\u30a2\u30a4\u30c7\u30f3\u30c6\u30a3\u30c6\u30a3\u30d7\u30ed\u30d0\u30a4\u30c0\u30fc (IdP) \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u8a8d\u8a3c (Authentication) \u30ea\u30af\u30a8\u30b9\u30c8\u306f ",(0,i.jsx)(t.code,{children:"Resource Owner Password Credentials"})," \u30b0\u30e9\u30f3\u30c8\u30bf\u30a4\u30d7\u3092\u4f7f\u7528\u3057\u3066\u306e\u307f\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u3001\u3053\u308c\u306f\u672c\u756a\u74b0\u5883\u3067\u306e\u4f7f\u7528\u306b\u306f\u63a8\u5968\u3055\u308c\u307e\u305b\u3093\u3002\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001",(0,i.jsx)(t.a,{href:"https://blog.logto.io/deprecated-ropc-grant-type/",children:"\u5ec3\u6b62\u3055\u308c\u305f ropc \u30b0\u30e9\u30f3\u30c8\u30bf\u30a4\u30d7"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,i.jsxs)(t.p,{children:["\u6a19\u6e96\u306e OpenID Connect (OIDC) \u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u306b\u306f\u3001\u8a8d\u53ef (Authorization)\u3001\u30c8\u30fc\u30af\u30f3\u4ea4\u63db\u3001\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u53d6\u5f97\u306a\u3069\u3001\u8907\u6570\u306e\u30b9\u30c6\u30c3\u30d7\u304c\u542b\u307e\u308c\u307e\u3059\u3002Logto \u306e\u3088\u3046\u306a IdP \u3092\u4f7f\u7528\u3057\u3066\u6a19\u6e96\u306e OIDC \u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u3092\u5b9f\u88c5\u3059\u308b\u306b\u306f\u3001FlutterFlow \u306e ",(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.p,{children:["\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001Logto ",(0,i.jsx)(t.a,{href:"/ja/quick-starts/flutter",children:"Flutter SDK"})," \u3092\u4f7f\u7528\u3057\u3066 FlutterFlow \u306e ",(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u65b9\u6cd5\u3092\u793a\u3057\u307e\u3059\u3002FlutterFlow UI \u30d3\u30eb\u30c0\u30fc\u306e\u5229\u70b9\u3092\u7dad\u6301\u3057\u306a\u304c\u3089\u3001\u6a19\u6e96\u306e OIDC \u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u306e\u305f\u3081\u306b Logto SDK \u3092\u6d3b\u7528\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(t.admonition,{type:"tip",children:(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Logto SDK \u30d1\u30c3\u30b1\u30fc\u30b8\u306f ",(0,i.jsx)(t.a,{href:"https://pub.dev/packages/logto_dart_sdk",children:"pub.dev"})," \u3068 Logto ",(0,i.jsx)(t.a,{href:"https://github.com/logto-io/dart",children:"GitHub \u30ea\u30dd\u30b8\u30c8\u30ea"})," \u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002"]}),"\n",(0,i.jsx)(t.li,{children:"SDK \u306f\u73fe\u5728\u3001Android \u304a\u3088\u3073 iOS \u30d7\u30e9\u30c3\u30c8\u30d5\u30a9\u30fc\u30e0\u306b\u306e\u307f\u9069\u3057\u3066\u3044\u307e\u3059\u3002"}),"\n"]})}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"\u524d\u63d0\u6761\u4ef6"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," \u30a2\u30ab\u30a6\u30f3\u30c8\u307e\u305f\u306f ",(0,i.jsx)(t.a,{href:"/introduction/set-up-logto-oss",children:"\u30bb\u30eb\u30d5\u30db\u30b9\u30c8 Logto"}),"\u3002"]}),"\n",(0,i.jsx)(t.li,{children:"Logto Flutter \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u4f5c\u6210\u3059\u308b\u3002"}),"\n",(0,i.jsx)(t.li,{children:"FlutterFlow \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3002"}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"enable-flutterflow-custom-code",children:"FlutterFlow \u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u3092\u6709\u52b9\u306b\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u306b\u306f\u3001FlutterFlow \u3067\u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002",(0,i.jsx)(t.a,{href:"https://docs.flutterflow.io/customizing-your-app/manage-custom-code-in-github",children:"GitHub \u3067\u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u3092\u7ba1\u7406\u3059\u308b"})," \u30ac\u30a4\u30c9\u306b\u5f93\u3063\u3066\u3001FlutterFlow \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092 GitHub \u3068\u540c\u671f\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"GitHub \u3067\u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u3092\u7ba1\u7406\u3059\u308b\u3053\u3068\u306f\u3001FlutterFlow \u306e\u30d7\u30ec\u30df\u30a2\u30e0\u6a5f\u80fd\u3067\u3059\u3002\u3053\u306e\u6a5f\u80fd\u3092\u6709\u52b9\u306b\u3059\u308b\u306b\u306f\u3001FlutterFlow \u3092\u30d7\u30ed\u30d7\u30e9\u30f3\u306b\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"})}),"\n",(0,i.jsx)(t.p,{children:"\u5b8c\u4e86\u3059\u308b\u3068\u3001GitHub FlutterFlow \u30ea\u30dd\u30b8\u30c8\u30ea\u306b\u6b21\u306e 3 \u3064\u306e\u7570\u306a\u308b\u30d6\u30e9\u30f3\u30c1\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\uff1a"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"main"}),": Flutter \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30a4\u30f3\u30d6\u30e9\u30f3\u30c1\u3002\u3053\u306e\u30d6\u30e9\u30f3\u30c1\u3092\u4f7f\u7528\u3057\u3066\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u3092\u30c7\u30d7\u30ed\u30a4\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"flutterflow"}),": ",(0,i.jsx)(t.code,{children:"FlutterFlow"})," \u304c FlutterFlow \u30a8\u30c7\u30a3\u30bf\u30fc\u304b\u3089\u306e\u5909\u66f4\u3092\u540c\u671f\u3059\u308b\u30d6\u30e9\u30f3\u30c1\u3002"]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"develop"}),": \u30ab\u30b9\u30bf\u30e0\u30b3\u30fc\u30c9\u3092\u4fee\u6b63\u3067\u304d\u308b\u30d6\u30e9\u30f3\u30c1\u3002"]}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"create-your-ui-in-flutterflow",children:"FlutterFlow \u3067 UI \u3092\u4f5c\u6210\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:["\u307e\u305a\u3001FlutterFlow \u3067 UI \u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u8981\u4ef6\u306b\u57fa\u3065\u3044\u3066 UI \u3092\u4f5c\u6210\u3059\u308b\u305f\u3081\u306b ",(0,i.jsx)(t.a,{href:"https://docs.flutterflow.io/",children:"FlutterFlow \u30c9\u30ad\u30e5\u30e1\u30f3\u30c8"})," \u3092\u53c2\u7167\u3067\u304d\u307e\u3059\u3002\u3053\u306e\u30c1\u30e5\u30fc\u30c8\u30ea\u30a2\u30eb\u3067\u306f\u3001\u6700\u4f4e\u9650\u306e\u8981\u4ef6\u3068\u3057\u3066\u6b21\u306e 2 \u3064\u306e\u30da\u30fc\u30b8\u3092\u4f5c\u6210\u3057\u307e\u3059\uff1a"]}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"\u30ed\u30b0\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u5099\u3048\u305f\u30b7\u30f3\u30d7\u30eb\u306a\u30db\u30fc\u30e0\u30da\u30fc\u30b8\u3002"}),"\n",(0,i.jsx)(t.li,{children:"\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u8868\u793a\u3057\u3001\u30ed\u30b0\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u5099\u3048\u305f\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u30da\u30fc\u30b8\u3002"}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"App Settings"})," -> ",(0,i.jsx)(t.code,{children:"Authentication"})," \u30da\u30fc\u30b8\u306b\u79fb\u52d5\u3057\u3001\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u3092\u6709\u52b9\u306b\u3057\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001FlutterFlow \u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b ",(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u304c\u4f5c\u6210\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)("img",{src:g,alt:"FlutterFlow \u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication)"})}),"\n",(0,i.jsxs)(t.p,{children:["UI \u304c\u6e96\u5099\u3067\u304d\u305f\u3089\u3001",(0,i.jsx)(t.code,{children:"integrations"})," -> ",(0,i.jsx)(t.code,{children:"GitHub"})," \u30da\u30fc\u30b8\u306b\u79fb\u52d5\u3057\u3001",(0,i.jsx)(t.code,{children:"Push to Repository"})," \u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u5909\u66f4\u3092 ",(0,i.jsx)(t.code,{children:"flutterflow"})," \u30d6\u30e9\u30f3\u30c1\u306b\u30d7\u30c3\u30b7\u30e5\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)("center",{children:(0,i.jsx)("img",{src:x,alt:"FlutterFlow GitHub \u30d7\u30c3\u30b7\u30e5"})}),"\n",(0,i.jsx)(t.h2,{id:"customize-the-customauthmanager",children:"CustomAuthManager \u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:["GitHub \u30ea\u30dd\u30b8\u30c8\u30ea\u3067 ",(0,i.jsx)(t.code,{children:"develop"})," \u30d6\u30e9\u30f3\u30c1\u306b\u5207\u308a\u66ff\u3048\u3001",(0,i.jsx)(t.code,{children:"flutterflow"})," \u30d6\u30e9\u30f3\u30c1\u304b\u3089\u6700\u65b0\u306e\u5909\u66f4\u3092\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002UI \u30da\u30fc\u30b8\u3068\u3001\u4e8b\u524d\u306b\u69cb\u7bc9\u3055\u308c\u305f ",(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3092\u542b\u3081\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(t.h3,{id:"install-logto-sdk-dependency",children:"Logto SDK \u4f9d\u5b58\u95a2\u4fc2\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b"}),"\n",(0,i.jsx)(t.p,{children:"\u30d7\u30ed\u30b8\u30a7\u30af\u30c8\u306b Logto SDK \u4f9d\u5b58\u95a2\u4fc2\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"  flutter pub add logto_dart_sdk\n"})}),"\n",(0,i.jsxs)(t.admonition,{type:"note",children:[(0,i.jsx)(t.p,{children:"\u30aa\u30d7\u30b7\u30e7\u30f3\u306e Http \u30d1\u30c3\u30b1\u30fc\u30b8\uff1a"}),(0,i.jsxs)(t.p,{children:["Logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306f API \u547c\u3073\u51fa\u3057\u3092\u884c\u3046\u305f\u3081\u306b http \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5fc5\u8981\u3068\u3057\u307e\u3059\u3002",(0,i.jsx)(t.code,{children:"http"})," \u30d1\u30c3\u30b1\u30fc\u30b8\u3084\u4ed6\u306e\u4efb\u610f\u306e http \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002"]}),(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-bash",children:"  flutter pub add http\n"})})]}),"\n",(0,i.jsx)(t.h3,{id:"update-the-userprovider",children:"UserProvider \u3092\u66f4\u65b0\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:["\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u3092\u4fdd\u5b58\u3059\u308b\u305f\u3081\u306b ",(0,i.jsx)(t.code,{children:"OpenIdClaims"})," \u30af\u30e9\u30b9\u3092 ",(0,i.jsx)(t.code,{children:"CustomAuthUserProvider"})," \u30af\u30e9\u30b9\u306b\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"OpenIdClaims"})," \u30af\u30e9\u30b9\u306f Logto SDK \u306e\u4e00\u90e8\u3067\u3042\u308a\u3001\u8a8d\u8a3c (Authentication) \u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u306e ",(0,i.jsx)(t.code,{children:"id_token"})," \u30af\u30ec\u30fc\u30e0\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(d,{}),"\n",(0,i.jsx)(t.h3,{id:"init-the-logto-client-in-customauthmanager",children:"CustomAuthManager \u3067 logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u521d\u671f\u5316\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3067 Logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u521d\u671f\u5316\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(s,{}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"initialize"})," \u30e1\u30bd\u30c3\u30c9\u306f Logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u521d\u671f\u5316\u3057\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u305f\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c (Authentication) \u72b6\u614b\u3067\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:["Logto SDK \u306f ",(0,i.jsx)(t.a,{href:"https://pub.dev/packages/flutter_secure_storage",children:"flutter_secure_storage"})," \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u4f7f\u7528\u3057\u3066\u3001\u30e6\u30fc\u30b6\u30fc\u8a8d\u8a3c (Authentication) \u60c5\u5831\u3092\u5b89\u5168\u306b\u4fdd\u5b58\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"implement-the-sign-in-method",children:"\u30b5\u30a4\u30f3\u30a4\u30f3\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b"}),"\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"LogtoClient.signIn"})," \u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3059\u3068\u3001\u6a19\u6e96\u306e OIDC \u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u304c\u958b\u59cb\u3055\u308c\u307e\u3059\u3002Logto \u30b5\u30a4\u30f3\u30a4\u30f3\u30da\u30fc\u30b8\u306f ",(0,i.jsx)(t.a,{href:"https://pub.dev/packages/flutter_web_auth",children:"flutter_web_auth"})," \u3092\u4f7f\u7528\u3057\u3066 WebView \u3067\u958b\u304b\u308c\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/auth/custom_auth/custom_auth_manager.dart\n\nFuture<FlutterFlowAuthAuthUser?> signIn(\n    String redirectUri,\n  ) async {\n    await logtoClient.signIn(redirectUri);\n\n    var idTokenClaims = await logtoClient.idTokenClaims;\n\n    return _updateCurrentUser(\n      loggedIn: idTokenClaims != null,\n      uid: idTokenClaims?.subject,\n      idToken: idTokenClaims,\n    );\n  }\n\n"})}),"\n",(0,i.jsxs)(t.p,{children:["LogtoClient \u306f\u8a8d\u53ef (Authorization)\u3001\u30c8\u30fc\u30af\u30f3\u4ea4\u63db\u3001\u30e6\u30fc\u30b6\u30fc\u60c5\u5831\u306e\u53d6\u5f97\u30b9\u30c6\u30c3\u30d7\u3092\u51e6\u7406\u3057\u307e\u3059\u3002\u30e6\u30fc\u30b6\u30fc\u304c\u8a8d\u8a3c (Authentication) \u3055\u308c\u308b\u3068\u3001",(0,i.jsx)(t.code,{children:"idTokenClaims"})," \u306f\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u4fdd\u5b58\u3055\u308c\u307e\u3059\u3002\nLogtoClient \u304b\u3089 ",(0,i.jsx)(t.code,{children:"idTokenClaims"})," \u3092\u53d6\u5f97\u3057\u3001\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u30b9\u30c8\u30ea\u30fc\u30e0\u3092\u66f4\u65b0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsx)(t.h3,{id:"implement-the-sign-out-method",children:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3059\u308b"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/auth/custom_auth/custom_auth_manager.dart\n\nFuture signOut() async {\n    await logtoClient.signOut();\n\n    flutterFlowAuthAuthUserSubject.add(\n      FlutterFlowAuthAuthUser(loggedIn: false),\n    );\n  }\n"})}),"\n",(0,i.jsx)(t.h3,{id:"update-the-auth-util-methods",children:"\u8a8d\u8a3c (Authentication) \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30e1\u30bd\u30c3\u30c9\u3092\u66f4\u65b0\u3059\u308b"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e ",(0,i.jsx)(t.code,{children:"authManager"})," \u30b2\u30c3\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.li,{children:["\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc uid \u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e ",(0,i.jsx)(t.code,{children:"currentUserUid"})," \u30b2\u30c3\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.li,{children:["\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u305f\u3081\u306e ",(0,i.jsx)(t.code,{children:"currentUserData"})," \u30b2\u30c3\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.li,{children:["Logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306e ",(0,i.jsx)(t.code,{children:"logtoClient"})," \u30b2\u30c3\u30bf\u30fc\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/auth/custom_auth/auth_util.dart\n\nimport 'package:logto_dart_sdk/logto_client.dart';\nimport 'package:logto_dart_sdk/src/modules/id_token.dart';\n\nimport 'custom_auth_manager.dart';\n\nexport 'custom_auth_manager.dart';\n\nfinal _authManager = CustomAuthManager();\nCustomAuthManager get authManager => _authManager;\nString get currentUserUid => currentUser?.uid ?? '';\nOpenIdClaims? get currentUserData => currentUser?.idToken;\nLogtoClient get logtoClient => _authManager.logtoClient;\n"})}),"\n",(0,i.jsx)(t.h2,{id:"integrate-the-custom-authentication-in-your-ui",children:"UI \u306b\u30ab\u30b9\u30bf\u30e0\u8a8d\u8a3c (Authentication) \u3092\u7d71\u5408\u3059\u308b"}),"\n",(0,i.jsx)(t.h3,{id:"home-page",children:"\u30db\u30fc\u30e0\u30da\u30fc\u30b8"}),"\n",(0,i.jsxs)(t.p,{children:["\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a4\u30f3\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3068\u304d\u306b\u8a8d\u8a3c (Authentication) \u30d5\u30ed\u30fc\u3092\u958b\u59cb\u3059\u308b\u305f\u3081\u306b ",(0,i.jsx)(t.code,{children:"authManager.signIn"})," \u30e1\u30bd\u30c3\u30c9\u3092\u547c\u3073\u51fa\u3057\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.blockquote,{children:["\n",(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.code,{children:"redirectUri"})," \u306f\u3001Logto \u30b5\u30a4\u30f3\u30a4\u30f3\u30da\u30fc\u30b8\u304b\u3089\u306e\u8a8d\u53ef (Authorization) \u30b3\u30fc\u30eb\u30d0\u30c3\u30af\u3092\u30ad\u30e3\u30d7\u30c1\u30e3\u3059\u308b\u305f\u3081\u306b\u4f7f\u7528\u3055\u308c\u308b\u30b3\u30fc\u30eb\u30d0\u30c3\u30af URL \u3067\u3059\u3002\nredirectUri \u306e\u8a73\u7d30\u306b\u3064\u3044\u3066\u306f\u3001",(0,i.jsx)(t.a,{href:"/ja/quick-starts/flutter#implement-sign-in",children:"Flutter SDK"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/pages/home_page/home_page_widget.dart\n\nfinal redirectUri = 'io.logto://callback';\n\n// ...\n\nFFButtonWidget(\n  onPressed: () async {\n    GoRouter.of(context).prepareAuthEvent();\n\n    await authManager.signIn(redirectUri);\n\n    context.replaceNamed('user');\n  },\n  text: 'Sign In',\n  // ...\n)\n"})}),"\n",(0,i.jsx)(t.h3,{id:"user-profile-page",children:"\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb\u30da\u30fc\u30b8"}),"\n",(0,i.jsx)(t.p,{children:"\u73fe\u5728\u306e\u30e6\u30fc\u30b6\u30fc\u30c7\u30fc\u30bf\u3068 Logto \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30a4\u30f3\u30b9\u30bf\u30f3\u30b9\u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u305f\u3081\u306b\u8a8d\u8a3c (Authentication) \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u30b2\u30c3\u30bf\u30fc\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/pages/user/user_widget.dart\n\nimport '/auth/custom_auth/auth_util.dart';\n\n// ...\n\nchildren: [\n  Text(\n    'User ID: $currentUserUid',\n  ),\n  Text(\n    'Display Name: ${currentUserData?.name}',\n  ),\n  Text(\n    'Username: ${currentUserData?.username}',\n  ),\n  Text(\n    'Email: ${currentUserData?.emailVerified ?? currentUserData?.email}',\n  ),\n]\n\n"})}),"\n",(0,i.jsx)(t.p,{children:"\u30e6\u30fc\u30b6\u30fc\u304c\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u305f\u3068\u304d\u306b\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u30e1\u30bd\u30c3\u30c9\u3092\u5b9f\u88c5\u3057\u307e\u3059\u3002"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{className:"language-dart",children:"// lib/pages/user/user_widget.dart\n\nFFButtonWidget(\n  onPressed: () async {\n    await authManager.signOut();\n\n    context.replaceNamed('HomePage');\n  },\n  text: 'Sign Out',\n  // ...\n)\n"})}),"\n",(0,i.jsx)(t.h2,{id:"further-readings",children:"\u3055\u3089\u306a\u308b\u8aad\u307f\u7269"}),"\n",(0,i.jsxs)(t.p,{children:["Logto SDK \u306f Logto API \u3068\u5bfe\u8a71\u3059\u308b\u305f\u3081\u306e\u3088\u308a\u591a\u304f\u306e\u30e1\u30bd\u30c3\u30c9\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002",(0,i.jsx)(t.code,{children:"CustomAuthManager"})," \u30af\u30e9\u30b9\u3092\u3055\u3089\u306b\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3057\u3066\u3001\u3088\u308a\u591a\u304f\u306e\u6a5f\u80fd\u3092\u5b9f\u88c5\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/ja/quick-starts/flutter#get-user-information",children:"\u30e6\u30fc\u30b6\u30fc\u30d7\u30ed\u30d5\u30a1\u30a4\u30eb"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"/ja/quick-starts/flutter#api-resources-and-organizations",children:"API \u30ea\u30bd\u30fc\u30b9 \u3068 \u7d44\u7e54"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"dependency-troubleshooting",children:"\u4f9d\u5b58\u95a2\u4fc2\u306e\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"}),"\n",(0,i.jsx)(c,{}),"\n",(0,i.jsx)(p,{})]})}function A(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(w,{...e})}):w(e)}},79621:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var r=n(58101);const i={},o=r.createContext(i);function l(e){const t=r.useContext(o);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(o.Provider,{value:t},e.children)}}}]);