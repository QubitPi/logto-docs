"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5925],{94105:(o,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"logto-oss/troubleshooting-oss","title":"OSS \u5411\u3051\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","description":"\u30d6\u30e9\u30a6\u30b6\u3067 Admin Console \u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\uff08\u30a8\u30e9\u30fc Crypto.subtle is unavailable... \u304c\u8868\u793a\u3055\u308c\u308b\uff09 \\\\","source":"@site/i18n/ja/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","sourceDirName":"logto-oss","slug":"/logto-oss/troubleshooting-oss","permalink":"/ja/logto-oss/troubleshooting-oss","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/ja/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_label":"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0","sidebar_position":9},"sidebar":"docsSidebar","previous":{"title":"\u30a2\u30c3\u30d7\u30b0\u30ec\u30fc\u30c9","permalink":"/ja/logto-oss/upgrading-oss-version"},"next":{"title":"\u8ca2\u732e","permalink":"/ja/logto-oss/contribution"}}');var s=n(25105),r=n(79621);const t={sidebar_label:"\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",sidebar_position:9},d="OSS \u5411\u3051\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",l={},c=[{value:"\u30d6\u30e9\u30a6\u30b6\u3067 Admin Console \u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\uff08\u30a8\u30e9\u30fc <code>Crypto.subtle is unavailable...</code> \u304c\u8868\u793a\u3055\u308c\u308b\uff09",id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",level:3},{value:"\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u3067 Admin Console \u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\uff08\u30a8\u30e9\u30fc <code>&quot;code&quot;: &quot;oidc.invalid_redirect_uri&quot;</code> \u304c\u8868\u793a\u3055\u308c\u308b\uff09",id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",level:3},{value:"Logto \u306e\u524d\u6bb5\u306b HTTPS \u30d7\u30ed\u30ad\u30b7\uff08\u4f8b\uff1aNginx\uff09\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u6642\u306b\u5931\u6557\u3059\u308b\uff08\u30a8\u30e9\u30fc <code>TypeError: Failed to fetch</code> \u304c\u8868\u793a\u3055\u308c\u308b\uff09",id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",level:3},{value:"CORS \u306e\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059",id:"im-facing-cors-issues",level:3},{value:"\u3053\u308c\u306f\u4f55\u3067\u3059\u304b\uff1f <code>Error: Invalid id token</code>",id:"what-is-this-again-error-invalid-id-token",level:3},{value:"Logto OSS \u306e Management API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f Cloud \u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u7570\u306a\u308a\u307e\u3059\u304b\uff1f",id:"does-the-management-api-endpoint-for-logto-oss-differ-from-the-cloud-version",level:3}];function a(o){const e={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...o.components},{Details:n}=e;return n||function(o,e){throw new Error("Expected "+(e?"component":"object")+" `"+o+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"oss-\u5411\u3051\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0",children:"OSS \u5411\u3051\u30c8\u30e9\u30d6\u30eb\u30b7\u30e5\u30fc\u30c6\u30a3\u30f3\u30b0"})}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsxs)(e.h3,{id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",children:["\u30d6\u30e9\u30a6\u30b6\u3067 Admin Console \u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\uff08\u30a8\u30e9\u30fc ",(0,s.jsx)(e.code,{children:"Crypto.subtle is unavailable..."})," \u304c\u8868\u793a\u3055\u308c\u308b\uff09"]})}),(0,s.jsxs)(e.p,{children:["Admin Console \u306f ",(0,s.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",children:"Web Crypto API"})," \u3092\u4f7f\u7528\u3057\u3066\u304a\u308a\u3001",(0,s.jsx)(e.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",children:"\u30bb\u30ad\u30e5\u30a2\u30b3\u30f3\u30c6\u30ad\u30b9\u30c8"}),"\uff08HTTPS \u307e\u305f\u306f ",(0,s.jsx)(e.code,{children:"localhost"})," \u3067\u306e HTTP\uff09\u304c\u5fc5\u8981\u3067\u3059\u3002"]}),(0,s.jsx)(e.p,{children:"IP \u30a2\u30c9\u30ec\u30b9\u3084\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u3067 HTTP \u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d6\u30e9\u30a6\u30b6\u306f Admin Console \u3092\u8aad\u307f\u8fbc\u3080\u3053\u3068\u304c\u3067\u304d\u307e\u305b\u3093\u3002"})]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsxs)(e.h3,{id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",children:["\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u30d6\u30e9\u30a6\u30b6\u3067 Admin Console \u3092\u8aad\u307f\u8fbc\u3081\u307e\u305b\u3093\uff08\u30a8\u30e9\u30fc ",(0,s.jsx)(e.code,{children:'"code": "oidc.invalid_redirect_uri"'})," \u304c\u8868\u793a\u3055\u308c\u308b\uff09"]})}),(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.code,{children:"localhost"})," \u3067\u306f\u306a\u304f\u30ab\u30b9\u30bf\u30e0\u30c9\u30e1\u30a4\u30f3\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u74b0\u5883\u5909\u6570 ",(0,s.jsx)(e.code,{children:"ENDPOINT"})," \u3092 Logto \u306e URL \u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u308c\u306f OIDC \u306e\u30ea\u30c0\u30a4\u30ec\u30af\u30c8 URI \u306e\u53b3\u683c\u306a\u8981\u4ef6\u306b\u3088\u308b\u3082\u306e\u3067\u3059\u3002\u8a73\u7d30\u306f ",(0,s.jsx)(e.a,{href:"/concepts/core-service/configuration/",children:"\u8a2d\u5b9a"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]})]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsxs)(e.h3,{id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",children:["Logto \u306e\u524d\u6bb5\u306b HTTPS \u30d7\u30ed\u30ad\u30b7\uff08\u4f8b\uff1aNginx\uff09\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u304c\u3001\u30b5\u30a4\u30f3\u30a4\u30f3\u6642\u306b\u5931\u6557\u3059\u308b\uff08\u30a8\u30e9\u30fc ",(0,s.jsx)(e.code,{children:"TypeError: Failed to fetch"})," \u304c\u8868\u793a\u3055\u308c\u308b\uff09"]})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\u307e\u305a\u3001\u30ce\u30fc\u30c9\u74b0\u5883\u5909\u6570 ",(0,s.jsx)(e.code,{children:"TRUST_PROXY_HEADER"})," \u3092 ",(0,s.jsx)(e.code,{children:"true"})," \u306b\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u8a73\u7d30\u306f ",(0,s.jsx)(e.a,{href:"/concepts/core-service/configuration/#using-a-https-proxy",children:"\u8a2d\u5b9a"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:["\u307e\u305f\u3001\u30d7\u30ed\u30ad\u30b7\u8a2d\u5b9a\u3067 ",(0,s.jsx)(e.code,{children:"X-Forwarded-Proto"})," \u30d8\u30c3\u30c0\u30fc\u3092 ",(0,s.jsx)(e.code,{children:"https"})," \u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u8a73\u7d30\u306f ",(0,s.jsx)(e.a,{href:"https://github.com/panva/node-oidc-provider/blob/main/docs/README.md#trusting-tls-offloading-proxies",children:"TLS \u30aa\u30d5\u30ed\u30fc\u30c9\u30d7\u30ed\u30ad\u30b7\u306e\u4fe1\u983c"})," \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002"]}),"\n"]})]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(e.h3,{id:"im-facing-cors-issues",children:"CORS \u306e\u554f\u984c\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059"})}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ADMIN_ENDPOINT"})," \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u3001Logto \u3067\u306f ",(0,s.jsx)(e.code,{children:"localhost:[admin-port]"})," \u304b\u3089\u306e\u30af\u30ed\u30b9\u30aa\u30ea\u30b8\u30f3\u30ea\u30bd\u30fc\u30b9\u5171\u6709\uff08CORS\uff09\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"ADMIN_ENDPOINT"})," \u304c\u6307\u5b9a\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u3001\u305d\u306e\u30aa\u30ea\u30b8\u30f3\u304b\u3089\u306e\u30ea\u30af\u30a8\u30b9\u30c8\u306e\u307f\u304c\u8a31\u53ef\u3055\u308c\u307e\u3059\u3002"]}),"\n"]})]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsxs)(e.h3,{id:"what-is-this-again-error-invalid-id-token",children:["\u3053\u308c\u306f\u4f55\u3067\u3059\u304b\uff1f ",(0,s.jsx)(e.code,{children:"Error: Invalid id token"})]})}),(0,s.jsx)(e.p,{children:"\u30c8\u30fc\u30af\u30f3\u306e\u6271\u3044\u3092\u9593\u9055\u3048\u3066\u3044\u306a\u3044\u5834\u5408\u3001\u307b\u3068\u3093\u3069\u306e\u30b1\u30fc\u30b9\u3067\u306f\u30b5\u30fc\u30d0\u30fc\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6642\u523b\u306e\u4e0d\u4e00\u81f4\u304c\u539f\u56e0\u3067\u3059\u3002\u30b5\u30fc\u30d0\u30fc\u3068\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u6642\u523b\u3092\u540c\u671f\u3057\u3066\u518d\u5ea6\u304a\u8a66\u3057\u304f\u3060\u3055\u3044\u3002"})]}),"\n",(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(e.h3,{id:"does-the-management-api-endpoint-for-logto-oss-differ-from-the-cloud-version",children:"Logto OSS \u306e Management API \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f Cloud \u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u7570\u306a\u308a\u307e\u3059\u304b\uff1f"})}),(0,s.jsx)(e.p,{children:"\u306f\u3044\u3002Logto Management API \u306e\u8b58\u5225\u5b50\u306f\u3001Logto Cloud \u3068\u30bb\u30eb\u30d5\u30db\u30b9\u30c8\uff08\u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9\uff09\u30d0\u30fc\u30b8\u30e7\u30f3\u3067\u7570\u306a\u308a\u307e\u3059\uff1a"}),(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Logto Cloud: ",(0,s.jsx)(e.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:["Logto \u30aa\u30fc\u30d7\u30f3\u30bd\u30fc\u30b9: ",(0,s.jsx)(e.code,{children:"https://default.logto.app/api"})]}),"\n"]}),"\n"]})]})]})}function h(o={}){const{wrapper:e}={...(0,r.R)(),...o.components};return e?(0,s.jsx)(e,{...o,children:(0,s.jsx)(a,{...o})}):a(o)}},79621:(o,e,n)=>{n.d(e,{R:()=>t,x:()=>d});var i=n(58101);const s={},r=i.createContext(s);function t(o){const e=i.useContext(r);return i.useMemo((function(){return"function"==typeof o?o(e):{...e,...o}}),[e,o])}function d(o){let e;return e=o.disableParentContext?"function"==typeof o.components?o.components(s):o.components||s:t(o.components),i.createElement(r.Provider,{value:e},o.children)}}}]);