"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5617],{76145:(e,d,s)=>{s.r(d),s.d(d,{assets:()=>h,contentTitle:()=>l,default:()=>j,frontMatter:()=>c,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"developers/sdk-conventions/core-sdk-convention","title":"\u6838\u5fc3 SDK \u7ea6\u5b9a","description":"\u57fa\u672c\u7ea6\u5b9a \\\\","source":"@site/i18n/zh-CN/docusaurus-plugin-content-docs/current/developers/sdk-conventions/core-sdk-conventions.mdx","sourceDirName":"developers/sdk-conventions","slug":"/developers/sdk-conventions/core-sdk-convention","permalink":"/zh-CN/developers/sdk-conventions/core-sdk-convention","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/zh-CN/docusaurus-plugin-content-docs/current/developers/sdk-conventions/core-sdk-conventions.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"core-sdk-convention","title":"\u6838\u5fc3 SDK \u7ea6\u5b9a","sidebar_label":"\u6838\u5fc3 SDK \u7ea6\u5b9a","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"\u8bbe\u8ba1\u7b56\u7565","permalink":"/zh-CN/developers/sdk-conventions/design-strategy"},"next":{"title":"\u5e73\u53f0 SDK \u7ea6\u5b9a","permalink":"/zh-CN/developers/sdk-conventions/platform-sdk-convention"}}');var r=s(25105),i=s(79621);const c={id:"core-sdk-convention",title:"\u6838\u5fc3 SDK \u7ea6\u5b9a",sidebar_label:"\u6838\u5fc3 SDK \u7ea6\u5b9a",sidebar_position:3},l="\u6838\u5fc3 SDK \u7ea6\u5b9a",h={},t=[{value:"\u57fa\u672c\u7ea6\u5b9a",id:"basic-conventions",level:2},{value:"\u57fa\u672c\u8981\u6c42",id:"basic-requirements",level:2},{value:"\u7c7b\u578b",id:"types",level:3},{value:"OidcConfigResponse",id:"oidcconfigresponse",level:3},{value:"CodeTokenResponse",id:"codetokenresponse",level:3},{value:"RefreshTokenResponse",id:"refreshtokenresponse",level:3},{value:"IdTokenClaims",id:"idtokenclaims",level:3},{value:"\u5de5\u5177\u51fd\u6570",id:"utility-functions",level:3},{value:"generateCodeVerifier",id:"generatecodeverifier",level:3},{value:"generateCodeChallenge",id:"generatecodechallenge",level:3},{value:"generateState",id:"generatestate",level:3},{value:"decodeIdToken",id:"decodeidtoken",level:3},{value:"verifyIdToken",id:"verifyidtoken",level:3},{value:"verifyAndParseCodeFromCallbackUri",id:"verifyandparsecodefromcallbackuri",level:3},{value:"\u6838\u5fc3\u529f\u80fd",id:"core-functions",level:3},{value:"fetchOidcConfig",id:"fetchoidcconfig",level:3},{value:"generateSignInUri",id:"generatesigninuri",level:3},{value:"generateSignOutUri",id:"generatesignouturi",level:3},{value:"fetchTokenByAuthorizationCode",id:"fetchtokenbyauthorizationcode",level:3},{value:"fetchTokenByRefreshToken",id:"fetchtokenbyrefreshtoken",level:3},{value:"revoke",id:"revoke",level:3}];function x(e){const d={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=d;return s||function(e,d){throw new Error("Expected "+(d?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"\u6838\u5fc3-sdk-\u7ea6\u5b9a",children:"\u6838\u5fc3 SDK \u7ea6\u5b9a"})}),"\n",(0,r.jsx)(d.h2,{id:"basic-conventions",children:"\u57fa\u672c\u7ea6\u5b9a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u6838\u5fc3\u90e8\u5206\u5e94\u4ec5\u5305\u542b\u4e0e\u5e73\u53f0\u65e0\u5173\u7684\u529f\u80fd\u3002"}),"\n",(0,r.jsxs)(d.li,{children:["\u6838\u5fc3\u90e8\u5206\u5e94\u547d\u540d\u4e3a ",(0,r.jsx)(d.code,{children:"{$language}"})," \u5e76\u4f4d\u4e8e\u4ee3\u7801\u5e93\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u4f8b\u5982\uff0c",(0,r.jsx)(d.code,{children:"logto/js/js"}),"\uff0c",(0,r.jsx)(d.code,{children:"logto/kotlin/kotlin"}),"\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u6838\u5fc3\u5305\u5e94\u5728 Logto \u8303\u56f4\u5185\u547d\u540d\u4e3a ",(0,r.jsx)(d.code,{children:"{$language}"}),"\u3002\u4f8b\u5982\uff0c",(0,r.jsx)(d.code,{children:"@logto/js"}),"\uff0c",(0,r.jsx)(d.code,{children:"io.logto.sdk:kotlin"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(d.h2,{id:"basic-requirements",children:"\u57fa\u672c\u8981\u6c42"}),"\n",(0,r.jsx)(d.p,{children:"\u4efb\u4f55\u6838\u5fc3 SDK \u5e94\u5305\u542b\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u7c7b\u578b"}),"\n",(0,r.jsx)(d.li,{children:"\u5de5\u5177\u51fd\u6570"}),"\n",(0,r.jsx)(d.li,{children:"\u6838\u5fc3\u529f\u80fd"}),"\n"]}),"\n",(0,r.jsx)(d.h3,{id:"types",children:"\u7c7b\u578b"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"oidcconfigresponse",children:"OidcConfigResponse"})}),(0,r.jsxs)(d.p,{children:["\u8eab\u4efd\u63d0\u4f9b\u5546 (IdP) \u7684\u914d\u7f6e\uff0c\u53ef\u4ee5\u901a\u8fc7 ",(0,r.jsx)(d.code,{children:"/oidc/.well-known/openid-configuration"})," API \u83b7\u53d6\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c5e\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"authorizationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endSessionEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"revocationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"jwksUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"issuer"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"codetokenresponse",children:"CodeTokenResponse"})}),(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"/oidc/token"})," \u7684\u54cd\u5e94\u6570\u636e\uff08\u901a\u8fc7\u6388\u6743\u7801\uff09\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c5e\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"accessToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"expiresIn"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"refreshtokenresponse",children:"RefreshTokenResponse"})}),(0,r.jsxs)(d.p,{children:["\u901a\u8fc7\u5237\u65b0\u4ee4\u724c\u5237\u65b0\u4ee4\u724c\u65f6\uff0c",(0,r.jsx)(d.code,{children:"/oidc/token"})," \u7684\u54cd\u5e94\u6570\u636e\uff08\u901a\u8fc7\u5237\u65b0\u4ee4\u724c\uff09\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c5e\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"accessToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"expiresIn"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"idtokenclaims",children:"IdTokenClaims"})}),(0,r.jsx)(d.p,{children:"ID \u4ee4\u724c\u643a\u5e26\u7684\u58f0\u660e\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c5e\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"sub"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"aud"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"exp"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"iat"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"iss"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"atHash"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"username"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"avatar"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"utility-functions",children:"\u5de5\u5177\u51fd\u6570"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatecodeverifier",children:"generateCodeVerifier"})}),(0,r.jsxs)(d.p,{children:["\u751f\u6210\u4e00\u4e2a\u4ee3\u7801\u9a8c\u8bc1\u5668\u3002",(0,r.jsx)(d.br,{}),"\n","\u4ee3\u7801\u9a8c\u8bc1\u5668\u7684\u957f\u5ea6\u786c\u7f16\u7801\u4e3a 64\u3002",(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u503c\u5fc5\u987b\u52a0\u5bc6\u4e3a URL \u5b89\u5168\u7684 base64 \u683c\u5f0f\u5b57\u7b26\u4e32\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://oauth.net/2/pkce/",children:"PKCE"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{id:"generatecodeverifier",children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatecodechallenge",children:"generateCodeChallenge"})}),(0,r.jsxs)(d.p,{children:["\u57fa\u4e8e\u4ee3\u7801\u9a8c\u8bc1\u5668\u751f\u6210\u4ee3\u7801\u6311\u6218\u3002",(0,r.jsx)(d.br,{}),"\n","\u6b64\u65b9\u6cd5\u52a0\u5bc6\u4ee3\u7801\u9a8c\u8bc1\u5668\uff0c\u5e76\u4ee5 URL \u5b89\u5168\u7684 Base64 \u683c\u5f0f\u8fd4\u56de\u7ed3\u679c\u3002",(0,r.jsx)(d.br,{}),"\n","\u6211\u4eec\u5728 Logto V1 \u4e2d\u5c06\u52a0\u5bc6\u7b97\u6cd5\u786c\u7f16\u7801\u4e3a ",(0,r.jsx)(d.code,{children:"SHA-256"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://oauth.net/2/pkce/",children:"PKCE"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeVerifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u7531 generateCodeVerifier \u751f\u6210"})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatestate",children:"generateState"})}),(0,r.jsxs)(d.p,{children:['"State" \u7528\u4e8e\u9632\u6b62 CSRF \u653b\u51fb\u3002',(0,r.jsx)(d.br,{}),"\n",'"State" \u7684\u957f\u5ea6\u786c\u7f16\u7801\u4e3a 64\u3002',(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u7684\u7ed3\u679c\u5b57\u7b26\u4e32\u5fc5\u987b\u52a0\u5bc6\u4e3a URL \u5b89\u5168\u7684 base64 \u683c\u5f0f\u5b57\u7b26\u4e32\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-10.12",children:"CSRF"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsx)(d.p,{children:"\u65e0\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"decodeidtoken",children:"decodeIdToken"})}),(0,r.jsxs)(d.p,{children:["\u89e3\u7801\u4e00\u4e2a ID \u4ee4\u724c\u800c\u4e0d\u8fdb\u884c\u79d8\u5bc6\u9a8c\u8bc1\u3002",(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u4e00\u4e2a ",(0,r.jsx)(d.code,{children:"IdTokenClaims"}),"\uff0c\u5176\u4e2d\u5305\u542b\u6240\u6709\u5728\u6709\u6548\u8d1f\u8f7d\u90e8\u5206\u7684\u4ee4\u724c\u58f0\u660e\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"IdTokenClaims"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.code,{children:"token"})," \u4e0d\u662f\u6709\u6548\u7684 JWT\u3002"]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"verifyidtoken",children:"verifyIdToken"})}),(0,r.jsx)(d.p,{children:"\u9a8c\u8bc1\u4e00\u4e2a ID \u4ee4\u724c\u662f\u5426\u5408\u6cd5\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a8c\u8bc1\u7b7e\u540d\u5bc6\u94a5"})}),(0,r.jsxs)(d.p,{children:["OIDC \u652f\u6301 JSON Web Key Set\u3002\n\u6b64\u51fd\u6570\u63a5\u53d7\u6765\u81ea\u7b2c\u4e09\u65b9\u5e93 (jose) \u7684 ",(0,r.jsx)(d.code,{children:"JsonWebKeySet"})," \u5bf9\u8c61\u8fdb\u884c\u9a8c\u8bc1\u3002"]}),(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-json",children:'// JsonWebKeySet \u793a\u4f8b\n{\n  "keys": [\n    {\n      "kty": "RSA",\n      "use": "sig",\n      "kid": "xxxx",\n      "e": "xxxx",\n      "n": "xxxx"\n    }\n  ]\n}\n'})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a8c\u8bc1\u58f0\u660e"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ID \u4ee4\u724c\u4e2d\u7684 ",(0,r.jsx)(d.code,{children:"iss"})," \u662f\u5426\u4e0e\u6b64\u4ee4\u724c\u7684\u53d1\u884c\u8005\u5339\u914d\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ",(0,r.jsx)(d.code,{children:"aud"}),"\uff08\u53d7\u4f17\uff09\u58f0\u660e\u662f\u5426\u7b49\u4e8e\u5ba2\u6237\u7aef ID\u3002"]}),"\n",(0,r.jsx)(d.li,{children:"\u9a8c\u8bc1\u5f53\u524d\u65f6\u95f4\u662f\u5426\u5728\u8fc7\u671f\u65f6\u95f4\u4e4b\u524d\u3002"}),"\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1\u7b7e\u53d1\u65f6\u95f4 (",(0,r.jsx)(d.code,{children:"iat"}),") \u662f\u5426\u4e0d\u8d85\u8fc7\u5f53\u524d\u65f6\u95f4\u7684 +/- 1 \u5206\u949f\u3002"]}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation",children:"OpenID connect core - ID Token Validation"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"issuer"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"jwks"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"JsonWebKeySet"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"void"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u9a8c\u8bc1\u7b7e\u540d\u5bc6\u94a5\u5931\u8d25"}),"\n",(0,r.jsx)(d.li,{children:"\u9a8c\u8bc1\u58f0\u660e\u5931\u8d25"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"verifyandparsecodefromcallbackuri",children:"verifyAndParseCodeFromCallbackUri"})}),(0,r.jsxs)(d.p,{children:["\u9a8c\u8bc1\u767b\u5f55\u56de\u8c03 URI \u662f\u5426\u5408\u6cd5\uff0c\u5e76\u8fd4\u56de\u4ece\u56de\u8c03 URI \u4e2d\u63d0\u53d6\u7684 ",(0,r.jsx)(d.code,{children:"code"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a8c\u8bc1\u56de\u8c03 URI"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u5e94\u4ee5 ",(0,r.jsx)(d.code,{children:"redirectUri"})," \u5f00\u5934"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u4e2d\u6ca1\u6709 ",(0,r.jsx)(d.code,{children:"error"}),"\uff08\u53c2\u89c1 ",(0,r.jsx)(d.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1",children:"Error Response"})," \u4e2d\u7684\u91cd\u5b9a\u5411 URI\uff09\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u5305\u542b ",(0,r.jsx)(d.code,{children:"state"}),"\uff0c\u5e94\u7b49\u4e8e\u4f60\u5728 ",(0,r.jsx)(d.code,{children:"generateSignInUri"})," \u4e2d\u6307\u5b9a\u7684 ",(0,r.jsx)(d.code,{children:"state"})," \u503c\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a8c\u8bc1 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u5305\u542b\u53c2\u6570\u503c ",(0,r.jsx)(d.code,{children:"code"}),"\uff0c\u4f60\u5c06\u5728\u8bf7\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u901a\u8fc7\u5237\u65b0\u4ee4\u724c\uff09\u65f6\u4f7f\u7528\u3002"]}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"callbackUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u9a8c\u8bc1\u5931\u8d25"}),"\n"]})]}),"\n",(0,r.jsx)(d.h3,{id:"core-functions",children:"\u6838\u5fc3\u529f\u80fd"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchoidcconfig",children:"fetchOidcConfig"})}),(0,r.jsxs)(d.p,{children:["\u901a\u8fc7\u8bf7\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/.well-known/openid-configuration"})," \u8fd4\u56de ",(0,r.jsx)(d.code,{children:"OidcConfigResponse"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"OIDC \u670d\u52a1\u7aef\u70b9"})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"OidcConfigResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u83b7\u53d6\u5931\u8d25"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatesigninuri",children:"generateSignInUri"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"authorizationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeChallenge"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scopes"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{children:"\u5b9e\u73b0\u53ef\u80fd\u4f1a\u6839\u636e\u8bed\u8a00\u89c4\u8303\u800c\u6709\u6240\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resources"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{children:"\u5b9e\u73b0\u53ef\u80fd\u4f1a\u6839\u636e\u8bed\u8a00\u89c4\u8303\u800c\u6709\u6240\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"prompt"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u9ed8\u8ba4\u503c\uff1a",(0,r.jsx)(d.code,{children:"consent"}),"\u3002"]})]})]})]}),(0,r.jsxs)(d.p,{children:["URL \u5c06\u57fa\u4e8e ",(0,r.jsx)(d.code,{children:"authorizationEndpoint"})," \u751f\u6210\uff0c\u5e76\u5305\u542b\u4ee5\u4e0b\u67e5\u8be2\u53c2\u6570\uff1a"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u767b\u5f55 URL \u67e5\u8be2\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8be2\u952e"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirect_uri"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_challenge"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_challenge_method"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"\u786c\u7f16\u7801\u4e3a S256\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"scope \u59cb\u7ec8\u5305\u542b openid \u548c offline_access\uff0c\u5373\u4f7f\u8f93\u5165\u7684 scope \u63d0\u4f9b\u4e86\u7a7a\u6216\u7a7a\u7684 scope \u503c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u6211\u4eec\u53ef\u4ee5\u591a\u6b21\u5c06 resource \u6dfb\u52a0\u5230 uri\uff0c\u540e\u7aef\u4f1a\u5c06\u5b83\u4eec\u8f6c\u6362\u4e3a\u5217\u8868\u3002\u4f8b\u5982 ",(0,r.jsx)(d.code,{children:"resource=a&resource=b"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"response_type"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"\u786c\u7f16\u7801\u4e3a code\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"prompt"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatesignouturi",children:"generateSignOutUri"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endSessionEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"postLogoutRedirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsxs)(d.p,{children:["\u8981\u751f\u6210\u7684 URL \u5c06\u57fa\u4e8e ",(0,r.jsx)(d.code,{children:"endSessionEndpoint"}),"\uff0c\u5e76\u5305\u542b\u4ee5\u4e0b\u67e5\u8be2\u53c2\u6570\uff1a"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u6ce8\u9500 URL \u67e5\u8be2\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8be2\u952e"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"id_token_hint"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsxs)(d.td,{children:["\u8f93\u5165\u7684 ",(0,r.jsx)(d.code,{children:"idToken"})," \u53c2\u6570"]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"post_logout_redirect_uri"}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u8f93\u5165\u7684 ",(0,r.jsx)(d.code,{children:"postLogoutRedirectUri"})," \u53c2\u6570"]})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchtokenbyauthorizationcode",children:"fetchTokenByAuthorizationCode"})}),(0,r.jsxs)(d.p,{children:["\u901a\u8fc7\u8bf7\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u901a\u8fc7\u6388\u6743\u7801\uff09\u83b7\u53d6\u4ee4\u724c (",(0,r.jsx)(d.code,{children:"CodeTokenResponse"}),")\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeVerifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8bf7\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u70b9\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u5185\u5bb9\u7c7b\u578b\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8d1f\u8f7d\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8be2\u952e"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"grant_type"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string: 'authorization_code'"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_verifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirect_uri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"CodeTokenResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u83b7\u53d6\u5931\u8d25"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchtokenbyrefreshtoken",children:"fetchTokenByRefreshToken"})}),(0,r.jsxs)(d.p,{children:["\u901a\u8fc7 ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u901a\u8fc7\u5237\u65b0\u4ee4\u724c\uff09\u83b7\u53d6\u4ee4\u724c (",(0,r.jsx)(d.code,{children:"RefreshTokenTokenResponse"}),")\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scopes"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8bf7\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u70b9\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u5185\u5bb9\u7c7b\u578b\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8d1f\u8f7d\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8be2\u952e"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"grant_type"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string: 'refresh_token'"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refresh_token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u6211\u4eec\u7528\u7a7a\u683c\u8fde\u63a5 ",(0,r.jsx)(d.code,{children:"scopes"})," \u503c\u6765\u6784\u9020\u8fd9\u4e2a ",(0,r.jsx)(d.code,{children:"scope"})," \u5b57\u7b26\u4e32"]})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"RefreshTokenTokenResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u83b7\u53d6\u5931\u8d25"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"revoke",children:"revoke"})}),(0,r.jsxs)(d.p,{children:["\u8bf7\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token/revocation"})," API \u901a\u77e5\u6388\u6743\u670d\u52a1\u5668\u5148\u524d\u83b7\u53d6\u7684\u5237\u65b0\u6216\u8bbf\u95ee\u4ee4\u724c\u4e0d\u518d\u9700\u8981\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c2\u6570"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u79f0"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"}),(0,r.jsx)(d.th,{children:"\u5907\u6ce8"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"revocationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u8981\u64a4\u9500\u7684\u4ee4\u724c"})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8bf7\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u70b9\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token/revocation"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u5185\u5bb9\u7c7b\u578b\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8d1f\u8f7d\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8be2\u952e"}),(0,r.jsx)(d.th,{children:"\u7c7b\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u7c7b\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"void"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u629b\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u64a4\u9500\u5931\u8d25"}),"\n"]})]})]})}function j(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},79621:(e,d,s)=>{s.d(d,{R:()=>c,x:()=>l});var n=s(58101);const r={},i=n.createContext(r);function c(e){const d=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function l(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:d},e.children)}}}]);