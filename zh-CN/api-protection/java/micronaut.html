<!doctype html>
<html lang="zh-CN" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-api-protection/java/micronaut/README" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JWT éªŒè¯ä¿æŠ¤ä½ çš„ Micronaut API | Logto docs</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="robots" content="noindex, nofollow"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://logto.qubitpi.org/zh-CN/api-protection/java/micronaut"><meta data-rh="true" property="og:locale" content="zh_CN"><meta data-rh="true" property="og:locale:alternate" content="de"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" property="og:locale:alternate" content="es"><meta data-rh="true" property="og:locale:alternate" content="fr"><meta data-rh="true" property="og:locale:alternate" content="ja"><meta data-rh="true" property="og:locale:alternate" content="ko"><meta data-rh="true" property="og:locale:alternate" content="pt_BR"><meta data-rh="true" property="og:locale:alternate" content="zh_TW"><meta data-rh="true" name="docusaurus_locale" content="zh-CN"><meta data-rh="true" name="docsearch:language" content="zh-CN"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JWT éªŒè¯ä¿æŠ¤ä½ çš„ Micronaut API | Logto docs"><meta data-rh="true" name="description" content="æœ¬æŒ‡å—å°†å¸®åŠ©ä½ é€šè¿‡ä½¿ç”¨ Logto é¢å‘çš„ åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JSON Web Token (JWT) æ¥å®ç°æˆæƒ (Authorization)ï¼Œä»è€Œä¿æŠ¤ä½ çš„ Micronaut APIã€‚"><meta data-rh="true" property="og:description" content="æœ¬æŒ‡å—å°†å¸®åŠ©ä½ é€šè¿‡ä½¿ç”¨ Logto é¢å‘çš„ åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JSON Web Token (JWT) æ¥å®ç°æˆæƒ (Authorization)ï¼Œä»è€Œä¿æŠ¤ä½ çš„ Micronaut APIã€‚"><meta data-rh="true" property="og:image" content="https://logto.qubitpi.org/zh-CN/img/og/_zh-CN_api-protection_java_micronaut.png"><meta data-rh="true" name="twitter:image" content="https://logto.qubitpi.org/zh-CN/img/og/_zh-CN_api-protection_java_micronaut.png"><link data-rh="true" rel="icon" href="/zh-CN/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://logto.qubitpi.org/zh-CN/api-protection/java/micronaut"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/de/api-protection/java/micronaut" hreflang="de"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/api-protection/java/micronaut" hreflang="en"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/es/api-protection/java/micronaut" hreflang="es"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/fr/api-protection/java/micronaut" hreflang="fr"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/ja/api-protection/java/micronaut" hreflang="ja"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/ko/api-protection/java/micronaut" hreflang="ko"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/pt-BR/api-protection/java/micronaut" hreflang="pt-BR"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/zh-CN/api-protection/java/micronaut" hreflang="zh-CN"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/zh-TW/api-protection/java/micronaut" hreflang="zh-TW"><link data-rh="true" rel="alternate" href="https://logto.qubitpi.org/api-protection/java/micronaut" hreflang="x-default"><link rel="search" type="application/opensearchdescription+xml" title="Logto docs" href="/zh-CN/opensearch.xml">

<script>var shouldTrack="logto.io"===window.location.hostname||window.location.hostname.endsWith("logto.io");shouldTrack||console.warn("Not tracking because the hostname is not logto.io")</script>
<script src="https://akasha.logto.io/placebo/sabaean.js" defer="defer" data-api="https://akasha.logto.io/placebo/eagan" data-domain="logto.io"></script>
<script>shouldTrack&&(window.plausible=window.plausible||function(){(window.plausible.q=window.plausible.q||[]).push(arguments)})</script>
<meta name="google-site-verification" content="3EYzsnarDwG6zL2dlHvyC8ySVcV6Q3RGlvh7-bvhb2k">


<link rel="alternate" type="application/rss+xml" href="/zh-CN/terms/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/terms/atom.xml" title="Logto docs Atom Feed">
<link rel="alternate" type="application/rss+xml" href="/zh-CN/about/rss.xml" title="Logto docs RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/zh-CN/about/atom.xml" title="Logto docs Atom Feed">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.21/dist/katex.min.css" crossorigin="anonymous"><link rel="stylesheet" href="/zh-CN/assets/css/styles.736ca856.css">
<script src="/zh-CN/assets/js/runtime~main.9d8c645c.js" defer="defer"></script>
<script src="/zh-CN/assets/js/main.6b9d2313.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/zh-CN/img/logto.svg"><link rel="preload" as="image" href="/zh-CN/img/logto_dark.svg"><link rel="preload" as="image" href="/zh-CN/assets/images/guide-focus-8b3e94dddfb8a3c19b5bdd8a343fc29f.png"><link rel="preload" as="image" href="/zh-CN/assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png"><link rel="preload" as="image" href="/zh-CN/assets/images/rbac-organization-permissions-3302be06221b4399f73ddceac8ca17e3.png"><link rel="preload" as="image" href="/zh-CN/assets/images/rbac-organization-level-api-resources-9533c281f3ee1cf52aefe821717e1fef.png"><div role="region" aria-label="è·³åˆ°ä¸»è¦å†…å®¹"><a class="skipToContent_zhf0" href="#__docusaurus_skipToContent_fallback">è·³åˆ°ä¸»è¦å†…å®¹</a></div><nav aria-label="ä¸»å¯¼èˆª" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="åˆ‡æ¢å¯¼èˆªæ " aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a href="https://logto.io/zh-CN" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/zh-CN/img/logto.svg" alt="Silverhand æ ‡å¿—" class="themedComponent_tjAf themedComponent--light_cGzJ"><img src="/zh-CN/img/logto_dark.svg" alt="Silverhand æ ‡å¿—" class="themedComponent_tjAf themedComponent--dark_ODSs"></div></a><a class="navbar__item navbar__link" href="/zh-CN/introduction">æ–‡æ¡£</a><a class="navbar__item navbar__link" href="/zh-CN/quick-starts">å¿«é€Ÿå…¥é—¨</a><a class="navbar__item navbar__link" href="/zh-CN/integrations">é›†æˆ</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/zh-CN/api-protection">API ä¿æŠ¤</a><a class="navbar__item navbar__link" href="/zh-CN/use-cases">ä½¿ç”¨æ¡ˆä¾‹</a><a href="https://openapi.logto.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Logto APIs</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_sG7T"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>ç®€ä½“ä¸­æ–‡</a><ul class="dropdown__menu"><li><a href="/de/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="de">Deutsch</a></li><li><a href="/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li><li><a href="/es/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="es">EspaÃ±ol</a></li><li><a href="/fr/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="fr">FranÃ§ais</a></li><li><a href="/ja/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ja">æ—¥æœ¬èª</a></li><li><a href="/ko/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="ko">í•œêµ­ì–´</a></li><li><a href="/pt-BR/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="pt-BR">PortuguÃªs (Brasil)</a></li><li><a href="/zh-CN/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="zh-CN">ç®€ä½“ä¸­æ–‡</a></li><li><a href="/zh-TW/api-protection/java/micronaut" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="zh-TW">ç¹é«”ä¸­æ–‡ï¼ˆå°ç£ï¼‰</a></li></ul></div><div class="toggle_MW0i colorModeToggle_hpO6"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-label="åˆ‡æ¢æµ…è‰²/æš—é»‘æ¨¡å¼ï¼ˆå½“å‰ä¸ºæµ…è‰²æ¨¡å¼ï¼‰" aria-live="polite" aria-pressed="false"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20" class="lightToggleIcon_SFTY"><path fill="currentColor" d="M3.7 10a.9.9 0 0 0-.9-.9h-.9a.9.9 0 0 0 0 1.8h.9a.9.9 0 0 0 .9-.9m.576 4.5-.639.639a.9.9 0 0 0 0 1.269.9.9 0 0 0 1.269 0l.639-.639A.9.9 0 0 0 4.276 14.5M10 3.7a.9.9 0 0 0 .9-.9v-.9a.9.9 0 1 0-1.8 0v.9a.9.9 0 0 0 .9.9m5.094 2.106a.9.9 0 0 0 .63-.261l.639-.639a.901.901 0 0 0-.62-1.583.9.9 0 0 0-.649.314l-.594.639a.9.9 0 0 0 0 1.269.9.9 0 0 0 .594.261m-10.8-.261a.9.9 0 0 0 1.269 0 .9.9 0 0 0 0-1.269l-.639-.639a.904.904 0 1 0-1.287 1.269zM18.1 9.1h-.9a.9.9 0 0 0 0 1.8h.9a.9.9 0 1 0 0-1.8m-2.376 5.4a.9.9 0 0 0-1.224 1.224l.639.639a.9.9 0 0 0 1.269 0 .9.9 0 0 0 0-1.269zM10 5.05A4.95 4.95 0 1 0 14.95 10 4.96 4.96 0 0 0 10 5.05m0 8.1a3.15 3.15 0 1 1 0-6.299 3.15 3.15 0 0 1 0 6.299m0 3.15a.9.9 0 0 0-.9.9v.9a.9.9 0 0 0 1.8 0v-.9a.9.9 0 0 0-.9-.9"></path></svg><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20" class="darkToggleIcon_ekgs"><path fill="currentColor" d="M18.033 10.834a.83.83 0 0 0-.875-.117c-.88.403-1.839.61-2.808.608a6.79 6.79 0 0 1-6.783-6.75 7.2 7.2 0 0 1 .208-1.666.833.833 0 0 0-1.108-.942 8.45 8.45 0 1 0 11.666 9.742.83.83 0 0 0-.3-.875m-7.916 5.575A6.782 6.782 0 0 1 5.9 4.35v.225a8.458 8.458 0 0 0 10.2 8.267 6.76 6.76 0 0 1-5.983 3.6z"></path></svg></button></div><a href="https://cloud.logto.io" target="_blank" rel="noopener noreferrer" tabindex="0" role="button" class="button_Ijg1 secondary_AR3a button_y2cy cloud_u6vV"><div class="children_hFsN">Logto Cloud</div></a></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_sIHe"><div class="docsWrapper_Of3e"><button aria-label="å›åˆ°é¡¶éƒ¨" class="clean-btn theme-back-to-top-button backToTopButton_w9kR" type="button"></button><div class="docRoot_hsEQ"><aside class="theme-doc-sidebar-container docSidebarContainer_VFQe"><div class="sidebarViewport_D5gc"><div class="sidebar_jiHq"><nav aria-label="æ–‡æ¡£ä¾§è¾¹æ " class="menu thin-scrollbar menu_olNZ"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/zh-CN/api-protection">ä»‹ç»</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/dotnet">.NET</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;.NET&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/go">Go</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Go&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/zh-CN/api-protection/java">Java</a><button aria-label="æŠ˜å ä¾§è¾¹æ åˆ†ç±» &#x27;Java&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/zh-CN/api-protection/java/micronaut">Micronaut</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/api-protection/java/quarkus">Quarkus</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/api-protection/java/spring-boot">Spring Boot</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/zh-CN/api-protection/java/vertx-web">Vert.x Web</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/nodejs">Node.js</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Node.js&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/php">PHP</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;PHP&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/python">Python</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Python&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/ruby">Ruby</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Ruby&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/zh-CN/api-protection/rust">Rust</a><button aria-label="å±•å¼€ä¾§è¾¹æ åˆ†ç±» &#x27;Rust&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_ORqJ"><div class="container padding-top--md padding-bottom--lg"><div class="layout_wrjd"><div class="main_JrXd hasDesktopToc_fN3L"><div class="docItemContainer_R9E8"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Dp4T" aria-label="é¡µé¢è·¯å¾„"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="ä¸»é¡µé¢" class="breadcrumbs__link" href="/zh-CN/api-protection">API ä¿æŠ¤</a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/zh-CN/api-protection/java"><span itemprop="name">Java</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Micronaut</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_VaRn theme-doc-toc-mobile tocMobile_XAXw"><button type="button" class="clean-btn tocCollapsibleButton_tteQ">æœ¬é¡µæ€»è§ˆ</button></div><div class="theme-doc-markdown markdown"><header><h1>ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JWT éªŒè¯ä¿æŠ¤ä½ çš„ Micronaut API</h1></header>
<p>æœ¬æŒ‡å—å°†å¸®åŠ©ä½ é€šè¿‡ä½¿ç”¨ Logto é¢å‘çš„ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/role-based-access-control">åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)</a></span> å’Œ <span class="linkWrapper_B4Bt"><a href="https://auth.wiki/jwt" target="_blank" rel="noopener noreferrer" class="link_hf7f">JSON Web Token (JWT)<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span> æ¥å®ç°æˆæƒ (Authorization)ï¼Œä»è€Œä¿æŠ¤ä½ çš„ Micronaut APIã€‚</p>
<!-- -->
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="before-you-start">å¼€å§‹ä¹‹å‰<a href="#before-you-start" class="hash-link" aria-label="å¼€å§‹ä¹‹å‰çš„ç›´æ¥é“¾æ¥" title="å¼€å§‹ä¹‹å‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä½ çš„å®¢æˆ·ç«¯åº”ç”¨éœ€è¦ä» Logto è·å–è®¿é—®ä»¤ç‰Œ (Access tokens)ã€‚å¦‚æœä½ è¿˜æ²¡æœ‰å®Œæˆå®¢æˆ·ç«¯é›†æˆï¼Œè¯·æŸ¥çœ‹æˆ‘ä»¬çš„ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/quick-starts">å¿«é€Ÿå¼€å§‹</a></span>ï¼Œé€‚ç”¨äº Reactã€Vueã€Angular æˆ–å…¶ä»–å®¢æˆ·ç«¯æ¡†æ¶ï¼Œæˆ–è€…å‚è€ƒæˆ‘ä»¬çš„ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/quick-starts/m2m">æœºå™¨å¯¹æœºå™¨æŒ‡å—</a></span> ä»¥å®ç°æœåŠ¡å™¨åˆ°æœåŠ¡å™¨çš„è®¿é—®ã€‚</p>
<p>æœ¬æŒ‡å—èšç„¦äºåœ¨ä½ çš„ <!-- -->Micronaut<!-- --> åº”ç”¨ä¸­å¯¹è¿™äº›ä»¤ç‰Œè¿›è¡Œ<strong>æœåŠ¡ç«¯éªŒè¯</strong>ã€‚</p>
<img src="/zh-CN/assets/images/guide-focus-8b3e94dddfb8a3c19b5bdd8a343fc29f.png" alt="A figure showing the focus of this guide" style="width:100%;max-width:480px;margin:20px auto">
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="what-you-will-learn">ä½ å°†å­¦åˆ°ä»€ä¹ˆ<a href="#what-you-will-learn" class="hash-link" aria-label="ä½ å°†å­¦åˆ°ä»€ä¹ˆçš„ç›´æ¥é“¾æ¥" title="ä½ å°†å­¦åˆ°ä»€ä¹ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li><strong>JWT éªŒè¯</strong>ï¼šå­¦ä¹ å¦‚ä½•éªŒè¯è®¿é—®ä»¤ç‰Œ (Access tokens) å¹¶æå–è®¤è¯ (Authentication) ä¿¡æ¯</li>
<li><strong>ä¸­é—´ä»¶å®ç°</strong>ï¼šåˆ›å»ºå¯å¤ç”¨çš„ä¸­é—´ä»¶ä»¥ä¿æŠ¤ API</li>
<li><strong>æƒé™æ¨¡å‹</strong>ï¼šç†è§£å¹¶å®ç°ä¸åŒçš„æˆæƒ (Authorization) æ¨¡å¼ï¼š<!-- -->
<ul>
<li>åº”ç”¨çº§ç«¯ç‚¹çš„å…¨å±€ API èµ„æº</li>
<li>ç”¨äºç§Ÿæˆ·ç‰¹å®šåŠŸèƒ½æ§åˆ¶çš„ç»„ç»‡æƒé™</li>
<li>å¤šç§Ÿæˆ·æ•°æ®è®¿é—®çš„ç»„ç»‡çº§ API èµ„æº</li>
</ul>
</li>
<li><strong>RBAC é›†æˆ</strong>ï¼šåœ¨ä½ çš„ API ç«¯ç‚¹ä¸­å¼ºåˆ¶æ‰§è¡ŒåŸºäºè§’è‰²çš„æƒé™ (Permissions) å’Œæƒé™èŒƒå›´ (Scopes)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="prerequisites">å‰ç½®æ¡ä»¶<a href="#prerequisites" class="hash-link" aria-label="å‰ç½®æ¡ä»¶çš„ç›´æ¥é“¾æ¥" title="å‰ç½®æ¡ä»¶çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<ul>
<li>å·²å®‰è£… <!-- -->Java<!-- --> çš„æœ€æ–°ç¨³å®šç‰ˆæœ¬</li>
<li>åŸºæœ¬äº†è§£ <!-- -->Micronaut<!-- --> åŠ Web API å¼€å‘</li>
<li>å·²é…ç½® Logto åº”ç”¨ï¼ˆå¦‚æœ‰éœ€è¦è¯·å‚è§ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/quick-starts">å¿«é€Ÿå¼€å§‹</a></span>ï¼‰</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="permission-models-overview">æƒé™ (Permission) æ¨¡å‹æ¦‚è§ˆ<a href="#permission-models-overview" class="hash-link" aria-label="æƒé™ (Permission) æ¨¡å‹æ¦‚è§ˆçš„ç›´æ¥é“¾æ¥" title="æƒé™ (Permission) æ¨¡å‹æ¦‚è§ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨å®æ–½ä¿æŠ¤ä¹‹å‰ï¼Œè¯·é€‰æ‹©é€‚åˆä½ åº”ç”¨æ¶æ„çš„æƒé™ (Permission) æ¨¡å‹ã€‚è¿™ä¸ Logto çš„ä¸‰å¤§<span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization#authorization-scenarios">æˆæƒ (Authorization) åœºæ™¯</a></span>ä¿æŒä¸€è‡´ï¼š</p>
<div class="tabs-container tabList_osvQ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_dc4O tabs__item--active">å…¨å±€ API èµ„æº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡ (Organization)ï¼ˆé APIï¼‰æƒé™ (Permissions)</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡çº§ API èµ„æº</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_dgSZ"><img src="/zh-CN/assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png" alt="å…¨å±€ API èµ„æº RBAC" style="max-width:100%"><ul>
<li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ä¿æŠ¤æ•´ä¸ªåº”ç”¨å…±äº«çš„ API èµ„æºï¼ˆéç»„ç»‡ (Organization) ä¸“å±ï¼‰</li>
<li><strong>ä»¤ç‰Œç±»å‹ï¼š</strong> å…·æœ‰å…¨å±€å—ä¼— (Audience) çš„è®¿é—®ä»¤ç‰Œ (Access token)</li>
<li><strong>ç¤ºä¾‹ï¼š</strong> å…¬å…± APIã€æ ¸å¿ƒäº§å“æœåŠ¡ã€ç®¡ç†ç«¯ç‚¹</li>
<li><strong>æœ€é€‚åˆï¼š</strong> æ‰€æœ‰å®¢æˆ·éƒ½ä½¿ç”¨ API çš„ SaaS äº§å“ã€æ— ç§Ÿæˆ·éš”ç¦»çš„å¾®æœåŠ¡</li>
<li><strong>äº†è§£æ›´å¤šï¼š</strong> <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/global-api-resources">ä¿æŠ¤å…¨å±€ API èµ„æº</a></span></li>
</ul></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><img src="/zh-CN/assets/images/rbac-organization-permissions-3302be06221b4399f73ddceac8ca17e3.png" alt="ç»„ç»‡ (Organization) æƒé™ (Permissions) RBAC" style="max-width:800px;width:100%"><ul>
<li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> æ§åˆ¶ç»„ç»‡ (Organization) ä¸“å±çš„æ“ä½œã€UI åŠŸèƒ½æˆ–ä¸šåŠ¡é€»è¾‘ï¼ˆé APIï¼‰</li>
<li><strong>ä»¤ç‰Œç±»å‹ï¼š</strong> å…·æœ‰ç»„ç»‡ (Organization) ä¸“å±å—ä¼— (Audience) çš„ç»„ç»‡ä»¤ç‰Œ (Organization token)</li>
<li><strong>ç¤ºä¾‹ï¼š</strong> åŠŸèƒ½å¼€å…³ã€ä»ªè¡¨ç›˜æƒé™ (Permissions)ã€æˆå‘˜é‚€è¯·æ§åˆ¶</li>
<li><strong>æœ€é€‚åˆï¼š</strong> æ‹¥æœ‰ç»„ç»‡ (Organization) ä¸“å±åŠŸèƒ½å’Œå·¥ä½œæµçš„å¤šç§Ÿæˆ· SaaS</li>
<li><strong>äº†è§£æ›´å¤šï¼š</strong> <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/organization-permissions">ä¿æŠ¤ç»„ç»‡ (Organization)ï¼ˆé APIï¼‰æƒé™ (Permissions)</a></span></li>
</ul></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><img src="/zh-CN/assets/images/rbac-organization-level-api-resources-9533c281f3ee1cf52aefe821717e1fef.png" alt="ç»„ç»‡çº§ API èµ„æº RBAC" style="width:100%"><ul>
<li><strong>ä½¿ç”¨åœºæ™¯ï¼š</strong> ä¿æŠ¤åœ¨ç‰¹å®šç»„ç»‡ (Organization) ä¸Šä¸‹æ–‡ä¸­å¯è®¿é—®çš„ API èµ„æº</li>
<li><strong>ä»¤ç‰Œç±»å‹ï¼š</strong> å…·æœ‰ API èµ„æºå—ä¼— (Audience) + ç»„ç»‡ (Organization) ä¸Šä¸‹æ–‡çš„ç»„ç»‡ä»¤ç‰Œ (Organization token)</li>
<li><strong>ç¤ºä¾‹ï¼š</strong> å¤šç§Ÿæˆ· APIã€ç»„ç»‡ (Organization) èŒƒå›´çš„æ•°æ®ç«¯ç‚¹ã€ç§Ÿæˆ·ä¸“å±å¾®æœåŠ¡</li>
<li><strong>æœ€é€‚åˆï¼š</strong> API æ•°æ®ä»¥ç»„ç»‡ (Organization) ä¸ºèŒƒå›´çš„å¤šç§Ÿæˆ· SaaS</li>
<li><strong>äº†è§£æ›´å¤šï¼š</strong> <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/organization-level-api-resources">ä¿æŠ¤ç»„ç»‡çº§ API èµ„æº</a></span></li>
</ul></div></div></div>
<br>
<p><strong>ğŸ’¡ åœ¨ç»§ç»­ä¹‹å‰é€‰æ‹©ä½ çš„æ¨¡å‹</strong> â€”â€” æœ¬æŒ‡å—åç»­å†…å®¹å°†ä»¥ä½ é€‰æ‹©çš„æ–¹å¼ä¸ºå‚è€ƒã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="quick-preparation-steps">å¿«é€Ÿå‡†å¤‡æ­¥éª¤<a href="#quick-preparation-steps" class="hash-link" aria-label="å¿«é€Ÿå‡†å¤‡æ­¥éª¤çš„ç›´æ¥é“¾æ¥" title="å¿«é€Ÿå‡†å¤‡æ­¥éª¤çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="configure-logto-resources-permissions">é…ç½® Logto èµ„æºå’Œæƒé™<a href="#configure-logto-resources-permissions" class="hash-link" aria-label="é…ç½® Logto èµ„æºå’Œæƒé™çš„ç›´æ¥é“¾æ¥" title="é…ç½® Logto èµ„æºå’Œæƒé™çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="tabs-container tabList_osvQ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_dc4O tabs__item--active">å…¨å±€ API èµ„æº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡ï¼ˆé APIï¼‰æƒé™</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡çº§ API èµ„æº</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_dgSZ"><ol>
<li><strong>åˆ›å»º API èµ„æº</strong>ï¼šå‰å¾€ <span class="linkWrapper_B4Bt"><a href="https://cloud.logto.io/api-resources" target="_blank" rel="noopener noreferrer" class="link_hf7f">æ§åˆ¶å° â†’ API èµ„æº<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span> å¹¶æ³¨å†Œä½ çš„ APIï¼ˆä¾‹å¦‚ï¼Œ<code>https://api.yourapp.com</code>ï¼‰</li>
<li><strong>å®šä¹‰æƒé™</strong>ï¼šæ·»åŠ å¦‚ <code>read:products</code>ã€<code>write:orders</code> ç­‰æƒé™ï¼ˆScopesï¼‰â€”â€”å‚è§ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/role-based-access-control#define-api-resources-with-permissions">å®šä¹‰å¸¦æƒé™çš„ API èµ„æº</a></span></li>
<li><strong>åˆ›å»ºå…¨å±€è§’è‰²</strong>ï¼šå‰å¾€ <span class="linkWrapper_B4Bt"><a href="https://cloud.logto.io/roles" target="_blank" rel="noopener noreferrer" class="link_hf7f">æ§åˆ¶å° â†’ è§’è‰²<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span> å¹¶åˆ›å»ºåŒ…å«ä½ çš„ API æƒé™çš„è§’è‰²â€”â€”å‚è§ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/role-based-access-control#configure-global-roles">é…ç½®å…¨å±€è§’è‰²</a></span></li>
<li><strong>åˆ†é…è§’è‰²</strong>ï¼šå°†è§’è‰²åˆ†é…ç»™éœ€è¦è®¿é—® API çš„ç”¨æˆ·æˆ– M2M åº”ç”¨ç¨‹åº</li>
</ol></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><ol>
<li><strong>å®šä¹‰ç»„ç»‡æƒé™</strong>ï¼šåœ¨ç»„ç»‡æ¨¡æ¿ä¸­åˆ›å»ºå¦‚ <code>invite:member</code>ã€<code>manage:billing</code> ç­‰é API ç»„ç»‡æƒé™</li>
<li><strong>è®¾ç½®ç»„ç»‡è§’è‰²</strong>ï¼šåœ¨ç»„ç»‡æ¨¡æ¿ä¸­é…ç½®ç»„ç»‡ä¸“å±è§’è‰²ï¼Œå¹¶ä¸ºå…¶åˆ†é…æƒé™</li>
<li><strong>åˆ†é…ç»„ç»‡è§’è‰²</strong>ï¼šåœ¨æ¯ä¸ªç»„ç»‡ä¸Šä¸‹æ–‡ä¸­å°†ç”¨æˆ·åˆ†é…åˆ°ç»„ç»‡è§’è‰²</li>
</ol></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><ol>
<li><strong>åˆ›å»º API èµ„æº</strong>ï¼šå¦‚ä¸Šæ³¨å†Œä½ çš„ API èµ„æºï¼Œä½†å®ƒå°†åœ¨ç»„ç»‡ä¸Šä¸‹æ–‡ä¸­ä½¿ç”¨</li>
<li><strong>å®šä¹‰æƒé™</strong>ï¼šæ·»åŠ å¦‚ <code>read:data</code>ã€<code>write:settings</code> ç­‰é™å®šäºç»„ç»‡ä¸Šä¸‹æ–‡çš„æƒé™ï¼ˆScopesï¼‰</li>
<li><strong>é…ç½®ç»„ç»‡æ¨¡æ¿</strong>ï¼šè®¾ç½®åŒ…å«ä½ çš„ API èµ„æºæƒé™çš„ç»„ç»‡è§’è‰²</li>
<li><strong>åˆ†é…ç»„ç»‡è§’è‰²</strong>ï¼šå°†ç”¨æˆ·æˆ– M2M åº”ç”¨ç¨‹åºåˆ†é…åˆ°åŒ…å« API æƒé™çš„ç»„ç»‡è§’è‰²</li>
<li><strong>å¤šç§Ÿæˆ·è®¾ç½®</strong>ï¼šç¡®ä¿ä½ çš„ API èƒ½å¤„ç†ç»„ç»‡èŒƒå›´çš„æ•°æ®å’Œæ ¡éªŒ</li>
</ol></div></div></div>
<div class="theme-admonition theme-admonition-tip admonition_Gfwi alert alert--success"><div class="admonitionContent_UjKb"><div class="content_hlIx"><span class="title_towL" data-type="title">åˆæ¬¡æ¥è§¦åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)ï¼Ÿ<!-- -->:</span><p>ä»æˆ‘ä»¬çš„ <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/authorization/role-based-access-control">åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) æŒ‡å—</a></span> å¼€å§‹ï¼Œè·å–åˆ†æ­¥è®¾ç½®è¯´æ˜ã€‚</p></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="update-your-client-application">æ›´æ–°ä½ çš„å®¢æˆ·ç«¯åº”ç”¨<a href="#update-your-client-application" class="hash-link" aria-label="æ›´æ–°ä½ çš„å®¢æˆ·ç«¯åº”ç”¨çš„ç›´æ¥é“¾æ¥" title="æ›´æ–°ä½ çš„å®¢æˆ·ç«¯åº”ç”¨çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><strong>åœ¨å®¢æˆ·ç«¯è¯·æ±‚åˆé€‚çš„æƒé™ï¼ˆScopesï¼‰ï¼š</strong></p>
<ul>
<li>ç”¨æˆ·è®¤è¯ (Authentication)ï¼š<span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/quick-starts">æ›´æ–°ä½ çš„åº”ç”¨ â†’</a></span> ä»¥è¯·æ±‚ä½ çš„ API æƒé™å’Œ / æˆ–ç»„ç»‡ä¸Šä¸‹æ–‡</li>
<li>æœºå™¨å¯¹æœºå™¨ï¼šä¸ºæœåŠ¡å™¨é—´è®¿é—® <span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/quick-starts/m2m">é…ç½® M2M æƒé™ï¼ˆScopesï¼‰â†’</a></span></li>
</ul>
<p>é€šå¸¸éœ€è¦åœ¨å®¢æˆ·ç«¯é…ç½®ä¸­æ›´æ–°ä»¥ä¸‹ä¸€é¡¹æˆ–å¤šé¡¹ï¼š</p>
<ul>
<li>OAuth æµç¨‹ä¸­çš„ <code>scope</code> å‚æ•°</li>
<li>ç”¨äº API èµ„æºè®¿é—®çš„ <code>resource</code> å‚æ•°</li>
<li>ç”¨äºç»„ç»‡ä¸Šä¸‹æ–‡çš„ <code>organization_id</code></li>
</ul>
<div class="theme-admonition theme-admonition-tip admonition_Gfwi alert alert--success"><div class="admonitionContent_UjKb"><div class="content_hlIx"><span class="title_towL" data-type="title">ç¼–ç å‰é¡»çŸ¥<!-- -->:</span><p>è¯·ç¡®ä¿ä½ æµ‹è¯•çš„ç”¨æˆ·æˆ– M2M åº”ç”¨å·²è¢«åˆ†é…åŒ…å«æ‰€éœ€ API æƒé™çš„åˆé€‚è§’è‰²æˆ–ç»„ç»‡è§’è‰²ã€‚</p></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="initialize-your-api-project">åˆå§‹åŒ–ä½ çš„ API é¡¹ç›®<a href="#initialize-your-api-project" class="hash-link" aria-label="åˆå§‹åŒ–ä½ çš„ API é¡¹ç›®çš„ç›´æ¥é“¾æ¥" title="åˆå§‹åŒ–ä½ çš„ API é¡¹ç›®çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<!-- -->
<p>è¦åˆå§‹åŒ–ä¸€ä¸ªæ–°çš„ Micronaut é¡¹ç›®ï¼Œä½ å¯ä»¥ä½¿ç”¨ Micronaut CLI æˆ–è®¿é—® Micronaut Launchï¼š</p>
<p>ä½¿ç”¨ Micronaut CLIï¼š</p>
<div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token plain">mn create-app com.example.your-api-name </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--features</span><span class="token operator">=</span><span class="token plain">security-jwt,http-server-netty </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--build</span><span class="token operator">=</span><span class="token plain">maven </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">--lang</span><span class="token operator">=</span><span class="token plain">java</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token builtin class-name" style="color:rgb(189, 147, 249)">cd</span><span class="token plain"> your-api-name</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æˆ–è€…è®¿é—® <span class="linkWrapper_B4Bt"><a href="https://micronaut.io/launch/" target="_blank" rel="noopener noreferrer" class="link_hf7f">Micronaut Launch<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span>ï¼Œå¹¶é€‰æ‹©ï¼š</p>
<ul>
<li>åº”ç”¨ç±»å‹ï¼šMicronaut Application</li>
<li>Java ç‰ˆæœ¬ï¼š17</li>
<li>æ„å»ºå·¥å…·ï¼šMaven</li>
<li>åŠŸèƒ½ï¼šsecurity-jwt, http-server-netty</li>
</ul>
<p>è¿™å°†åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„ Micronaut é¡¹ç›®ï¼š</p>
<div class="language-xml codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">pom.xml</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-xml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token prolog" style="color:rgb(189, 147, 249)">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">project</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">xmlns</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://maven.apache.org/POM/4.0.0</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"> </span><span class="token tag attr-name namespace" style="color:rgb(241, 250, 140)">xmlns:</span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">xsi</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://www.w3.org/2001/XMLSchema-instance</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag" style="color:rgb(255, 121, 198)"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token tag" style="color:rgb(255, 121, 198)">         </span><span class="token tag attr-name namespace" style="color:rgb(241, 250, 140)">xsi:</span><span class="token tag attr-name" style="color:rgb(241, 250, 140)">schemaLocation</span><span class="token tag attr-value punctuation attr-equals" style="color:rgb(248, 248, 242)">=</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag attr-value" style="color:rgb(255, 121, 198)">http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd</span><span class="token tag attr-value punctuation" style="color:rgb(248, 248, 242)">&quot;</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">modelVersion</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">4.0.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">modelVersion</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">com.example</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">your-api-name</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">0.1</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">packaging</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">jar</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">packaging</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">parent</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">io.micronaut.platform</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">micronaut-parent</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">4.2.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">parent</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">properties</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">packaging</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">jar</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">packaging</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">jdk.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">17</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">jdk.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">release.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">17</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">release.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">micronaut.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">4.2.0</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">micronaut.version</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">micronaut.runtime</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">netty</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">micronaut.runtime</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">exec.mainClass</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">com.example.Application</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">exec.mainClass</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">properties</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">project</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>åˆ›å»ºä¸€ä¸ªåŸºç¡€çš„æ§åˆ¶å™¨ï¼š</p>
<div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">src/main/java/com/example/HelloController.java</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">package</span><span class="token plain"> </span><span class="token namespace">com</span><span class="token namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token namespace">example</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">MediaType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Produces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/hello&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">HelloController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Get</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Produces</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">MediaType</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">TEXT_PLAIN</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">index</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Hello World&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="theme-admonition theme-admonition-note admonition_Gfwi alert alert--secondary"><div class="admonitionContent_UjKb"><div class="content_hlIx"><span class="title_towL" data-type="title">å¤‡æ³¨<!-- -->:</span><p>æ›´å¤šå…³äºå¦‚ä½•è®¾ç½®æ§åˆ¶å™¨ã€æœåŠ¡å’Œå…¶ä»–åŠŸèƒ½çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è€ƒ Micronaut æ–‡æ¡£ã€‚</p></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="initialize-constants-and-utilities">åˆå§‹åŒ–å¸¸é‡å’Œå·¥å…·æ–¹æ³•<a href="#initialize-constants-and-utilities" class="hash-link" aria-label="åˆå§‹åŒ–å¸¸é‡å’Œå·¥å…·æ–¹æ³•çš„ç›´æ¥é“¾æ¥" title="åˆå§‹åŒ–å¸¸é‡å’Œå·¥å…·æ–¹æ³•çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨ä½ çš„ä»£ç ä¸­å®šä¹‰å¿…è¦çš„å¸¸é‡å’Œå·¥å…·å‡½æ•°ï¼Œç”¨äºå¤„ç†ä»¤ç‰Œçš„æå–å’Œæ ¡éªŒã€‚ä¸€ä¸ªæœ‰æ•ˆçš„è¯·æ±‚å¿…é¡»åŒ…å« <code>Authorization</code> è¯·æ±‚å¤´ï¼Œæ ¼å¼ä¸º <code>Bearer &lt;è®¿é—®ä»¤ç‰Œ (Access token)&gt;</code>ã€‚</p>
<!-- -->
<div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">AuthorizationException.java</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name">RuntimeException</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">final</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> statusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">403</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// é»˜è®¤ä½¿ç”¨ 403 Forbidden</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> statusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">message</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">this</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">statusCode </span><span class="token operator">=</span><span class="token plain"> statusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">getStatusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> statusCode</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="retrieve-info-about-your-logto-tenant">è·å–ä½ çš„ Logto ç§Ÿæˆ·ä¿¡æ¯<a href="#retrieve-info-about-your-logto-tenant" class="hash-link" aria-label="è·å–ä½ çš„ Logto ç§Ÿæˆ·ä¿¡æ¯çš„ç›´æ¥é“¾æ¥" title="è·å–ä½ çš„ Logto ç§Ÿæˆ·ä¿¡æ¯çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ä½ éœ€è¦ä»¥ä¸‹æ•°å€¼æ¥éªŒè¯ Logto ç­¾å‘çš„ä»¤ç‰Œï¼š</p>
<ul>
<li>JSON Web Key Set (JWKS) URIï¼šLogto å…¬é’¥çš„ URLï¼Œç”¨äºéªŒè¯ JWT ç­¾åã€‚</li>
<li>å‘è¡Œè€… (Issuer)ï¼šæœŸæœ›çš„å‘è¡Œè€… (Issuer) å€¼ï¼ˆLogto çš„ OIDC URLï¼‰ã€‚</li>
</ul>
<p>é¦–å…ˆï¼Œæ‰¾åˆ°ä½ çš„ Logto ç§Ÿæˆ·çš„ç«¯ç‚¹ã€‚ä½ å¯ä»¥åœ¨å¤šä¸ªåœ°æ–¹æ‰¾åˆ°å®ƒï¼š</p>
<ul>
<li>åœ¨ Logto æ§åˆ¶å°çš„ <strong>è®¾ç½®</strong> â†’ <strong>åŸŸå</strong> ä¸‹ã€‚</li>
<li>åœ¨ä½ åœ¨ Logto é…ç½®çš„ä»»ä½•åº”ç”¨ç¨‹åºè®¾ç½®ä¸­ï¼Œ<strong>è®¾ç½®</strong> â†’ <strong>ç«¯ç‚¹ä¸å‡­è¯</strong>ã€‚</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="fetch-from-openid-connect-discovery-endpoint">ä» OpenID Connect å‘ç°ç«¯ç‚¹è·å–<a href="#fetch-from-openid-connect-discovery-endpoint" class="hash-link" aria-label="ä» OpenID Connect å‘ç°ç«¯ç‚¹è·å–çš„ç›´æ¥é“¾æ¥" title="ä» OpenID Connect å‘ç°ç«¯ç‚¹è·å–çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>è¿™äº›æ•°å€¼å¯ä»¥ä» Logto çš„ OpenID Connect å‘ç°ç«¯ç‚¹è·å–ï¼š</p>
<div class="codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-text codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token plain">https://&lt;your-logto-endpoint&gt;/oidc/.well-known/openid-configuration</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹å“åº”ï¼ˆä¸ºç®€æ´çœç•¥äº†å…¶ä»–å­—æ®µï¼‰ï¼š</p>
<div class="language-json codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-json codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;jwks_uri&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://your-tenant.logto.app/oidc/jwks&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;issuer&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://your-tenant.logto.app/oidc&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="hardcode-in-your-code-not-recommended">åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼ˆä¸æ¨èï¼‰<a href="#hardcode-in-your-code-not-recommended" class="hash-link" aria-label="åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼ˆä¸æ¨èï¼‰çš„ç›´æ¥é“¾æ¥" title="åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼ˆä¸æ¨èï¼‰çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ç”±äº Logto ä¸å…è®¸è‡ªå®šä¹‰ JWKS URI æˆ–å‘è¡Œè€… (Issuer)ï¼Œä½ å¯ä»¥åœ¨ä»£ç ä¸­ç¡¬ç¼–ç è¿™äº›æ•°å€¼ã€‚ä½†å¯¹äºç”Ÿäº§ç¯å¢ƒçš„åº”ç”¨ç¨‹åºï¼Œè¿™å¹¶ä¸æ¨èï¼Œå› ä¸ºå¦‚æœå°†æ¥æŸäº›é…ç½®å‘ç”Ÿå˜åŒ–ï¼Œå¯èƒ½ä¼šå¢åŠ ç»´æŠ¤æˆæœ¬ã€‚</p>
<ul>
<li>JWKS URI: <code>https://&lt;your-logto-endpoint&gt;/oidc/jwks</code></li>
<li>å‘è¡Œè€… (Issuer): <code>https://&lt;your-logto-endpoint&gt;/oidc</code></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="validate-the-token-and-permissions">æ ¡éªŒä»¤ç‰Œå’Œæƒé™<a href="#validate-the-token-and-permissions" class="hash-link" aria-label="æ ¡éªŒä»¤ç‰Œå’Œæƒé™çš„ç›´æ¥é“¾æ¥" title="æ ¡éªŒä»¤ç‰Œå’Œæƒé™çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>åœ¨æå–ä»¤ç‰Œå¹¶è·å– OIDC é…ç½®åï¼Œè¯·éªŒè¯ä»¥ä¸‹å†…å®¹ï¼š</p>
<ul>
<li><strong>ç­¾åï¼š</strong> JWT å¿…é¡»æœ‰æ•ˆä¸”ç”± Logtoï¼ˆé€šè¿‡ JWKSï¼‰ç­¾åã€‚</li>
<li><strong>å‘è¡Œè€… (Issuer)ï¼š</strong> å¿…é¡»ä¸ä½ çš„ Logto ç§Ÿæˆ·çš„å‘è¡Œè€… (Issuer) åŒ¹é…ã€‚</li>
<li><strong>å—ä¼— (Audience)ï¼š</strong> å¿…é¡»ä¸ä½ åœ¨ Logto ä¸­æ³¨å†Œçš„ API çš„èµ„æºæŒ‡ç¤ºå™¨ (resource indicator) åŒ¹é…ï¼Œæˆ–åœ¨é€‚ç”¨æ—¶åŒ¹é…ç»„ç»‡ (organization) ä¸Šä¸‹æ–‡ã€‚</li>
<li><strong>è¿‡æœŸæ—¶é—´ï¼š</strong> ä»¤ç‰Œå¿…é¡»æœªè¿‡æœŸã€‚</li>
<li><strong>æƒé™ (Scopes)ï¼š</strong> ä»¤ç‰Œå¿…é¡»åŒ…å«ä½ çš„ API / æ“ä½œæ‰€éœ€çš„æƒé™ (scopes)ã€‚æƒé™ (scopes) æ˜¯ <code>scope</code> å£°æ˜ä¸­çš„ä»¥ç©ºæ ¼åˆ†éš”çš„å­—ç¬¦ä¸²ã€‚</li>
<li><strong>ç»„ç»‡ (Organization) ä¸Šä¸‹æ–‡ï¼š</strong> å¦‚æœä¿æŠ¤çš„æ˜¯ç»„ç»‡çº§ API èµ„æºï¼Œè¯·éªŒè¯ <code>organization_id</code> å£°æ˜ã€‚</li>
</ul>
<p>å‚è§ <span class="linkWrapper_B4Bt"><a href="https://auth.wiki/jwt" target="_blank" rel="noopener noreferrer" class="link_hf7f">JSON Web Token<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span> ä»¥äº†è§£æ›´å¤šå…³äº JWT ç»“æ„å’Œå£°æ˜ (Claims) çš„ä¿¡æ¯ã€‚</p>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="what-to-check-for-each-permission-model">é’ˆå¯¹æ¯ç§æƒé™ (Permission) æ¨¡å‹éœ€è¦æ£€æŸ¥ä»€ä¹ˆ<a href="#what-to-check-for-each-permission-model" class="hash-link" aria-label="é’ˆå¯¹æ¯ç§æƒé™ (Permission) æ¨¡å‹éœ€è¦æ£€æŸ¥ä»€ä¹ˆçš„ç›´æ¥é“¾æ¥" title="é’ˆå¯¹æ¯ç§æƒé™ (Permission) æ¨¡å‹éœ€è¦æ£€æŸ¥ä»€ä¹ˆçš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p>ä¸åŒçš„æƒé™ (Permission) æ¨¡å‹ï¼Œå…¶å£°æ˜ (Claims) å’ŒéªŒè¯è§„åˆ™ä¹Ÿä¸åŒï¼š</p>
<div class="tabs-container tabList_osvQ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_dc4O tabs__item--active">å…¨å±€ API èµ„æº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡ (é API) æƒé™</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡çº§ API èµ„æº</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_dgSZ"><ul>
<li><strong>å—ä¼— (Audience) å£°æ˜ (<code>aud</code>)ï¼š</strong> API èµ„æºæŒ‡ç¤ºå™¨ (resource indicator)</li>
<li><strong>ç»„ç»‡ (Organization) å£°æ˜ (<code>organization_id</code>)ï¼š</strong> <em>ä¸å­˜åœ¨</em></li>
<li><strong>éœ€è¦æ£€æŸ¥çš„æƒé™ (Scopes) (<code>scope</code>)ï¼š</strong> API èµ„æºæƒé™ (permissions)</li>
</ul></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><ul>
<li><strong>å—ä¼— (Audience) å£°æ˜ (<code>aud</code>)ï¼š</strong> <code>urn:logto:organization:&lt;id&gt;</code>ï¼ˆç»„ç»‡ä¸Šä¸‹æ–‡åœ¨ <code>aud</code> å£°æ˜ä¸­ï¼‰</li>
<li><strong>ç»„ç»‡ (Organization) å£°æ˜ (<code>organization_id</code>)ï¼š</strong> <em>ä¸å­˜åœ¨</em></li>
<li><strong>éœ€è¦æ£€æŸ¥çš„æƒé™ (Scopes) (<code>scope</code>)ï¼š</strong> ç»„ç»‡æƒé™ (permissions)</li>
</ul></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><ul>
<li><strong>å—ä¼— (Audience) å£°æ˜ (<code>aud</code>)ï¼š</strong> API èµ„æºæŒ‡ç¤ºå™¨ (resource indicator)</li>
<li><strong>ç»„ç»‡ (Organization) å£°æ˜ (<code>organization_id</code>)ï¼š</strong> ç»„ç»‡ IDï¼ˆå¿…é¡»ä¸è¯·æ±‚åŒ¹é…ï¼‰</li>
<li><strong>éœ€è¦æ£€æŸ¥çš„æƒé™ (Scopes) (<code>scope</code>)ï¼š</strong> API èµ„æºæƒé™ (permissions)</li>
</ul></div></div></div>
<small><p>å¯¹äºé API çš„ç»„ç»‡ (Organization) æƒé™ (Permissions)ï¼Œç»„ç»‡ä¸Šä¸‹æ–‡ç”± <code>aud</code> å£°æ˜è¡¨ç¤º
ï¼ˆä¾‹å¦‚ï¼Œ<code>urn:logto:organization:abc123</code>ï¼‰ã€‚<code>organization_id</code> å£°æ˜ä»…åœ¨ç»„ç»‡çº§ API èµ„æºä»¤ç‰Œä¸­å­˜åœ¨ã€‚</p></small>
<div class="theme-admonition theme-admonition-tip admonition_Gfwi alert alert--success"><div class="admonitionContent_UjKb"><div class="content_hlIx"><span class="title_towL" data-type="title">æç¤º<!-- -->:</span><p>å¯¹äºå®‰å…¨çš„å¤šç§Ÿæˆ· APIï¼Œè¯·å§‹ç»ˆåŒæ—¶éªŒè¯æƒé™ (scopes) å’Œä¸Šä¸‹æ–‡ï¼ˆå—ä¼— (audience)ã€ç»„ç»‡ (organization)ï¼‰ã€‚</p></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="add-the-validation-logic">æ·»åŠ æ ¡éªŒé€»è¾‘<a href="#add-the-validation-logic" class="hash-link" aria-label="æ·»åŠ æ ¡éªŒé€»è¾‘çš„ç›´æ¥é“¾æ¥" title="æ·»åŠ æ ¡éªŒé€»è¾‘çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<!-- -->
<p>æˆ‘ä»¬ä¼šæ ¹æ®ä¸åŒçš„æ¡†æ¶ä½¿ç”¨ä¸åŒçš„ JWT åº“ã€‚è¯·å®‰è£…æ‰€éœ€çš„ä¾èµ–ï¼š</p>
<p>åœ¨ä½ çš„ <code>pom.xml</code> ä¸­æ·»åŠ ï¼š</p>
<div class="language-xml codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-xml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">io.micronaut.security</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">micronaut-security-jwt</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">io.micronaut</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">groupId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain">micronaut-http-server-netty</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">artifactId</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&lt;/</span><span class="token tag" style="color:rgb(255, 121, 198)">dependency</span><span class="token tag punctuation" style="color:rgb(248, 248, 242)">&gt;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-yaml codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">application.yml</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-yaml codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token key atrule">micronaut</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token key atrule">security</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> bearer</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token key atrule">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token key atrule">jwt</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">signatures</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">jwks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token key atrule">logto</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">              </span><span class="token key atrule">url</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">JWKS_URI</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//your</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">tenant.logto.app/oidc/jwks</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token key atrule">claims-validators</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">          </span><span class="token key atrule">issuer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"> $</span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain">JWT_ISSUER</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">https</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain">//your</span><span class="token punctuation" style="color:rgb(248, 248, 242)">-</span><span class="token plain">tenant.logto.app/oidc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">JwtClaimsValidator.java</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">security</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">token</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">security</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">token</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">validator</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">TokenValidator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">jakarta</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">inject</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Singleton</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">org</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">reactivestreams</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Publisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">reactor</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">core</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">publisher</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Mono</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">util</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">util</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Singleton</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">JwtClaimsValidator</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">implements</span><span class="token plain"> </span><span class="token class-name">TokenValidator</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Override</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">Publisher</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">Boolean</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">validateToken</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token plain"> token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Claims</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token function" style="color:rgb(80, 250, 123)">verifyPayload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">just</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">true</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">AuthorizationException</span><span class="token plain"> e</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token comment" style="color:rgb(98, 114, 164)">// Micronaut ä¼šè‡ªåŠ¨å¤„ç†çŠ¶æ€ç </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Mono</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">just</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token boolean">false</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">verifyPayload</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Claims</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// å‘è¡Œè€… (Issuer) æ ¡éªŒå·²ç”± Micronaut JWT é…ç½®è‡ªåŠ¨å¤„ç†</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// åœ¨è¿™é‡Œæ ¹æ®ä½ çš„æƒé™æ¨¡å‹å®ç°é¢å¤–çš„éªŒè¯é€»è¾‘</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// å¯ä½¿ç”¨ä¸‹æ–¹çš„è¾…åŠ©æ–¹æ³•æå–å£°æ˜ (Claims)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç¤ºä¾‹ï¼šthrow new AuthorizationException(&quot;Insufficient permissions&quot;);</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)">// Micronaut JWT è¾…åŠ©æ–¹æ³•</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@SuppressWarnings</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;unchecked&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractAudiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Claims</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">Object</span><span class="token plain"> aud </span><span class="token operator">=</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;aud&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">aud </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> aud</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">aud </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">instanceof</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> aud</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Claims</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;scope&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">private</span><span class="token plain"> </span><span class="token class-name">String</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractOrganizationId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Claims</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> claims</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;organization_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>æ ¹æ®ä½ çš„æƒé™ (Permission) æ¨¡å‹ï¼Œå®ç°ç›¸åº”çš„éªŒè¯é€»è¾‘ï¼š</p>
<div class="tabs-container tabList_osvQ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_dc4O tabs__item--active">å…¨å±€ API èµ„æº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡ (Organization)ï¼ˆé APIï¼‰æƒé™ (Permissions)</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡çº§ API èµ„æº</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_dgSZ"><div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ audience (å—ä¼—) å£°æ˜æ˜¯å¦ä¸ä½ çš„ API èµ„æºæŒ‡ç¤ºå™¨åŒ¹é…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> audiences </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractAudiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">audiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://your-api-resource-indicator&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Invalid audience&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥å…¨å±€ API èµ„æºæ‰€éœ€çš„æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> requiredScopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:read&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:write&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ›¿æ¢ä¸ºä½ å®é™…éœ€è¦çš„æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> scopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> tokenScopes </span><span class="token operator">=</span><span class="token plain"> scopes </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">tokenScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">containsAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">requiredScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Insufficient scope&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ audience (å—ä¼—) å£°æ˜æ˜¯å¦ä¸ºç»„ç»‡ (Organization) æ ¼å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> audiences </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractAudiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">boolean</span><span class="token plain"> hasOrgAudience </span><span class="token operator">=</span><span class="token plain"> audiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">stream</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">anyMatch</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">aud </span><span class="token operator">-&gt;</span><span class="token plain"> aud</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">startsWith</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;urn:logto:organization:&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">hasOrgAudience</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Invalid audience for organization permissions&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ç»„ç»‡ (Organization) ID æ˜¯å¦ä¸ä¸Šä¸‹æ–‡åŒ¹é…ï¼ˆä½ å¯èƒ½éœ€è¦ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æå–ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> expectedOrgId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;your-organization-id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æå–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> expectedAud </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;urn:logto:organization:&quot;</span><span class="token plain"> </span><span class="token operator">+</span><span class="token plain"> expectedOrgId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">audiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">expectedAud</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Organization ID mismatch&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥æ‰€éœ€çš„ç»„ç»‡ (Organization) æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> requiredScopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;invite:users&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;manage:settings&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ›¿æ¢ä¸ºä½ å®é™…éœ€è¦çš„æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> scopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> tokenScopes </span><span class="token operator">=</span><span class="token plain"> scopes </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">tokenScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">containsAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">requiredScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Insufficient organization scope&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ audience (å—ä¼—) å£°æ˜æ˜¯å¦ä¸ä½ çš„ API èµ„æºæŒ‡ç¤ºå™¨åŒ¹é…</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> audiences </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractAudiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">audiences</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">contains</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://your-api-resource-indicator&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Invalid audience for organization-level API resources&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ç»„ç»‡ (Organization) ID æ˜¯å¦ä¸ä¸Šä¸‹æ–‡åŒ¹é…ï¼ˆä½ å¯èƒ½éœ€è¦ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æå–ï¼‰</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> expectedOrgId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;your-organization-id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// ä»è¯·æ±‚ä¸Šä¸‹æ–‡ä¸­æå–</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> orgId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractOrganizationId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">expectedOrgId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">equals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">orgId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Organization ID mismatch&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// æ£€æŸ¥ç»„ç»‡çº§ API èµ„æºæ‰€éœ€çš„æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> requiredScopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:read&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:write&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ›¿æ¢ä¸ºä½ å®é™…éœ€è¦çš„æƒé™ (Scopes)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">String</span><span class="token plain"> scopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">extractScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">token</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// æ¡†æ¶ç›¸å…³çš„æå–æ–¹å¼</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> tokenScopes </span><span class="token operator">=</span><span class="token plain"> scopes </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token operator">!</span><span class="token plain">tokenScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">containsAll</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">requiredScopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token class-name">AuthorizationException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Insufficient organization-level API scopes&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<p>ç”¨äºæå–å£°æ˜ (Claims) çš„è¾…åŠ©æ–¹æ³•æ˜¯æ¡†æ¶ç›¸å…³çš„ã€‚å…·ä½“å®ç°ç»†èŠ‚è¯·å‚è§ä¸Šæ–¹å„æ¡†æ¶çš„éªŒè¯æ–‡ä»¶ã€‚</p>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="apply-the-middleware-to-your-api">å°†ä¸­é—´ä»¶åº”ç”¨åˆ°ä½ çš„ API<a href="#apply-the-middleware-to-your-api" class="hash-link" aria-label="å°†ä¸­é—´ä»¶åº”ç”¨åˆ°ä½ çš„ APIçš„ç›´æ¥é“¾æ¥" title="å°†ä¸­é—´ä»¶åº”ç”¨åˆ°ä½ çš„ APIçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<p>ç°åœ¨ï¼Œå°†ä¸­é—´ä»¶åº”ç”¨åˆ°ä½ çš„å—ä¿æŠ¤ API è·¯ç”±ã€‚</p>
<!-- -->
<div class="language-java codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockTitle_P25_">ProtectedController.java</div><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-java codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">http</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">security</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">annotation</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Secured</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">security</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">authentication</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">io</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">micronaut</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">security</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">rules</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">SecurityRule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">util</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">util</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> </span><span class="token import namespace">java</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import namespace">util</span><span class="token import namespace punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token import class-name">Map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Controller</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/api&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Secured</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">SecurityRule</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token constant" style="color:rgb(189, 147, 249)">IS_AUTHENTICATED</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">ProtectedController</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token annotation punctuation" style="color:rgb(248, 248, 242)">@Get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;/protected&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token generics"> </span><span class="token generics class-name">Object</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">protectedEndpoint</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">Authentication</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// ç›´æ¥ä» Authentication è·å–è®¿é—®ä»¤ç‰Œ (Access token) ä¿¡æ¯</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">String</span><span class="token plain"> scopes </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getAttributes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;scope&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token class-name">List</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&lt;</span><span class="token generics class-name">String</span><span class="token generics punctuation" style="color:rgb(248, 248, 242)">&gt;</span><span class="token plain"> scopeList </span><span class="token operator">=</span><span class="token plain"> scopes </span><span class="token operator">!=</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">null</span><span class="token plain"> </span><span class="token operator">?</span><span class="token plain"> </span><span class="token class-name">Arrays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">asList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scopes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">split</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot; &quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">:</span><span class="token plain"> </span><span class="token class-name">List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">return</span><span class="token plain"> </span><span class="token class-name">Map</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">of</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;sub&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getName</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;client_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getAttributes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;client_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;organization_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getAttributes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;organization_id&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;scopes&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> scopeList</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">            </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;audience&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> authentication</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">getAttributes</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:rgb(80, 250, 123)">get</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;aud&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="test-your-protected-api">æµ‹è¯•ä½ çš„å—ä¿æŠ¤ API<a href="#test-your-protected-api" class="hash-link" aria-label="æµ‹è¯•ä½ çš„å—ä¿æŠ¤ APIçš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•ä½ çš„å—ä¿æŠ¤ APIçš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="get-access-tokens">è·å–è®¿é—®ä»¤ç‰Œ (Access tokens)<a href="#get-access-tokens" class="hash-link" aria-label="è·å–è®¿é—®ä»¤ç‰Œ (Access tokens)çš„ç›´æ¥é“¾æ¥" title="è·å–è®¿é—®ä»¤ç‰Œ (Access tokens)çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<p><strong>ä»ä½ çš„å®¢æˆ·ç«¯åº”ç”¨ç¨‹åºè·å–ï¼š</strong>
å¦‚æœä½ å·²ç»å®Œæˆäº†å®¢æˆ·ç«¯é›†æˆï¼Œä½ çš„åº”ç”¨å¯ä»¥è‡ªåŠ¨è·å–ä»¤ç‰Œã€‚æå–è®¿é—®ä»¤ç‰Œ (Access token)ï¼Œå¹¶åœ¨ API è¯·æ±‚ä¸­ä½¿ç”¨å®ƒã€‚</p>
<p><strong>ä½¿ç”¨ curl / Postman è¿›è¡Œæµ‹è¯•ï¼š</strong></p>
<ol>
<li>
<p><strong>ç”¨æˆ·ä»¤ç‰Œï¼š</strong> ä½¿ç”¨ä½ çš„å®¢æˆ·ç«¯åº”ç”¨çš„å¼€å‘è€…å·¥å…·ï¼Œä» localStorage æˆ–ç½‘ç»œé¢æ¿å¤åˆ¶è®¿é—®ä»¤ç‰Œ (Access token)</p>
</li>
<li>
<p><strong>æœºå™¨å¯¹æœºå™¨ä»¤ç‰Œï¼š</strong> ä½¿ç”¨å®¢æˆ·ç«¯å‡­è¯æµã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªä½¿ç”¨ curl çš„éè§„èŒƒç¤ºä¾‹ï¼š</p>
<div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-X</span><span class="token plain"> POST https://your-tenant.logto.app/oidc/token </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Content-Type: application/x-www-form-urlencoded&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;grant_type=client_credentials&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;client_id=your-m2m-client-id&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;client_secret=your-m2m-client-secret&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;resource=https://your-api-resource-indicator&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-d</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;scope=api:read api:write&quot;</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>ä½ å¯èƒ½éœ€è¦æ ¹æ®ä½ çš„ API èµ„æºå’Œæƒé™è°ƒæ•´ <code>resource</code> å’Œ <code>scope</code> å‚æ•°ï¼›å¦‚æœä½ çš„ API æ˜¯ç»„ç»‡èŒƒå›´çš„ï¼Œè¿˜å¯èƒ½éœ€è¦ <code>organization_id</code> å‚æ•°ã€‚</p>
</li>
</ol>
<div class="theme-admonition theme-admonition-tip admonition_Gfwi alert alert--success"><div class="admonitionContent_UjKb"><div class="content_hlIx"><span class="title_towL" data-type="title">æç¤º<!-- -->:</span><p>éœ€è¦æŸ¥çœ‹ä»¤ç‰Œå†…å®¹ï¼Ÿä½¿ç”¨æˆ‘ä»¬çš„ <span class="linkWrapper_B4Bt"><a href="https://logto.io/jwt-decoder" target="_blank" rel="noopener noreferrer" class="link_hf7f">JWT è§£ç å™¨<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O externalLink_ia3C"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></span> æ¥è§£ç å’ŒéªŒè¯ä½ çš„ JWTã€‚</p></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="test-protected-endpoints">æµ‹è¯•å—ä¿æŠ¤çš„ç«¯ç‚¹<a href="#test-protected-endpoints" class="hash-link" aria-label="æµ‹è¯•å—ä¿æŠ¤çš„ç«¯ç‚¹çš„ç›´æ¥é“¾æ¥" title="æµ‹è¯•å—ä¿æŠ¤çš„ç«¯ç‚¹çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<details class="details_lfez details_Jw1Q" data-collapsed="true"><summary><strong>æœ‰æ•ˆä»¤ç‰Œè¯·æ±‚</strong></summary><div><div class="collapsibleContent_NTMX"><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization: Bearer eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9...&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>é¢„æœŸå“åº”ï¼š</strong></p><div class="language-json codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-json codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;auth&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;sub&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;user123&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;clientId&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;app456&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;organizationId&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;org789&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;scopes&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:read&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;api:write&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token property">&quot;audience&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;https://your-api-resource-indicator&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<details class="details_lfez details_Jw1Q" data-collapsed="true"><summary><strong>ç¼ºå°‘ä»¤ç‰Œ</strong></summary><div><div class="collapsibleContent_NTMX"><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>é¢„æœŸå“åº” (401)ï¼š</strong></p><div class="language-json codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-json codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization header is missing&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<details class="details_lfez details_Jw1Q" data-collapsed="true"><summary><strong>æ— æ•ˆä»¤ç‰Œ</strong></summary><div><div class="collapsibleContent_NTMX"><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization: Bearer invalid-token&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><strong>é¢„æœŸå“åº” (401)ï¼š</strong></p><div class="language-json codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-json codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token property">&quot;error&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Invalid token&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></details>
<h3 class="anchor anchorWithStickyNavbar_CMYw" id="permission-model-specific-testing">æƒé™æ¨¡å‹ç›¸å…³æµ‹è¯•<a href="#permission-model-specific-testing" class="hash-link" aria-label="æƒé™æ¨¡å‹ç›¸å…³æµ‹è¯•çš„ç›´æ¥é“¾æ¥" title="æƒé™æ¨¡å‹ç›¸å…³æµ‹è¯•çš„ç›´æ¥é“¾æ¥">â€‹</a></h3>
<div class="tabs-container tabList_osvQ"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_dc4O tabs__item--active">å…¨å±€ API èµ„æº</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡ (é API) æƒé™</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_dc4O">ç»„ç»‡çº§ API èµ„æº</li></ul><div class="margin-top--md"><div role="tabpanel" class="tabItem_dgSZ"><p>é’ˆå¯¹å—å…¨å±€æƒé™ä¿æŠ¤çš„ API çš„æµ‹è¯•åœºæ™¯ï¼š</p><ul>
<li><strong>æœ‰æ•ˆæƒé™ (Scopes)ï¼š</strong> ä½¿ç”¨åŒ…å«æ‰€éœ€ API æƒé™ï¼ˆå¦‚ <code>api:read</code>ã€<code>api:write</code>ï¼‰çš„ä»¤ç‰Œè¿›è¡Œæµ‹è¯•</li>
<li><strong>ç¼ºå°‘æƒé™ (Scopes)ï¼š</strong> å½“ä»¤ç‰Œç¼ºå°‘æ‰€éœ€æƒé™æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
<li><strong>å—ä¼— (Audience) é”™è¯¯ï¼š</strong> å½“å—ä¼—ä¸ API èµ„æºä¸åŒ¹é…æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
</ul><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># ç¼ºå°‘æƒé™çš„ä»¤ç‰Œ - é¢„æœŸ 403</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization: Bearer token-without-required-scopes&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><p>é’ˆå¯¹ç»„ç»‡ç‰¹å®šè®¿é—®æ§åˆ¶çš„æµ‹è¯•åœºæ™¯ï¼š</p><ul>
<li><strong>æœ‰æ•ˆç»„ç»‡ä»¤ç‰Œ (Organization token)ï¼š</strong> ä½¿ç”¨åŒ…å«æ­£ç¡®ç»„ç»‡ä¸Šä¸‹æ–‡ï¼ˆç»„ç»‡ ID å’Œæƒé™ï¼‰çš„ä»¤ç‰Œè¿›è¡Œæµ‹è¯•</li>
<li><strong>ç¼ºå°‘æƒé™ (Scopes)ï¼š</strong> å½“ç”¨æˆ·æ²¡æœ‰è¯·æ±‚æ“ä½œçš„æƒé™æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
<li><strong>ç»„ç»‡é”™è¯¯ï¼š</strong> å½“å—ä¼—ä¸ç»„ç»‡ä¸Šä¸‹æ–‡ï¼ˆ<code>urn:logto:organization:&lt;organization_id&gt;</code>ï¼‰ä¸åŒ¹é…æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
</ul><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># é”™è¯¯ç»„ç»‡çš„ä»¤ç‰Œ - é¢„æœŸ 403</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization: Bearer token-for-different-organization&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div><div role="tabpanel" class="tabItem_dgSZ" hidden=""><p>ç»“åˆ API èµ„æºéªŒè¯ä¸ç»„ç»‡ä¸Šä¸‹æ–‡çš„æµ‹è¯•åœºæ™¯ï¼š</p><ul>
<li><strong>æœ‰æ•ˆç»„ç»‡ + API æƒé™ï¼š</strong> ä½¿ç”¨åŒæ—¶åŒ…å«ç»„ç»‡ä¸Šä¸‹æ–‡å’Œæ‰€éœ€ API æƒé™çš„ä»¤ç‰Œè¿›è¡Œæµ‹è¯•</li>
<li><strong>ç¼ºå°‘ API æƒé™ï¼š</strong> å½“ç»„ç»‡ä»¤ç‰Œç¼ºå°‘æ‰€éœ€ API æƒé™æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
<li><strong>ç»„ç»‡é”™è¯¯ï¼š</strong> ä½¿ç”¨æ¥è‡ªä¸åŒç»„ç»‡çš„ä»¤ç‰Œè®¿é—® API æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
<li><strong>å—ä¼— (Audience) é”™è¯¯ï¼š</strong> å½“å—ä¼—ä¸ç»„ç»‡çº§ API èµ„æºä¸åŒ¹é…æ—¶ï¼Œé¢„æœŸè¿”å› <strong>403 Forbidden</strong></li>
</ul><div class="language-bash codeBlockContainer_LAQZ theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_m3Ux"><pre tabindex="0" class="prism-code language-bash codeBlock_qGQc thin-scrollbar"><code class="codeBlockLines_p187"><span class="token-line" style="color:#F8F8F2"><span class="token comment" style="color:rgb(98, 114, 164)"># ç»„ç»‡ä»¤ç‰Œç¼ºå°‘ API æƒé™ - é¢„æœŸ 403</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token function" style="color:rgb(80, 250, 123)">curl</span><span class="token plain"> </span><span class="token parameter variable" style="color:rgb(189, 147, 249);font-style:italic">-H</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Authorization: Bearer organization-token-without-api-scopes&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  http://localhost:3000/api/protected</span><br></span></code></pre><div class="buttonGroup_6DOT"><button type="button" aria-label="å¤åˆ¶ä»£ç åˆ°å‰ªè´´æ¿" title="å¤åˆ¶" class="clean-btn"><span class="copyButtonIcons_HZ9c" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_B10I"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_jjde"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_CMYw" id="further-reading">å»¶ä¼¸é˜…è¯»<a href="#further-reading" class="hash-link" aria-label="å»¶ä¼¸é˜…è¯»çš„ç›´æ¥é“¾æ¥" title="å»¶ä¼¸é˜…è¯»çš„ç›´æ¥é“¾æ¥">â€‹</a></h2>
<span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/use-cases/authorization/rbac-in-practice"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" d="M7.5 8.333h.833a.833.833 0 1 0 0-1.666H7.5a.833.833 0 1 0 0 1.666M7.5 10a.833.833 0 1 0 0 1.667h5a.833.833 0 1 0 0-1.667zm9.167-2.55a1 1 0 0 0-.05-.225V7.15a.9.9 0 0 0-.159-.233l-5-5a.9.9 0 0 0-.233-.159.3.3 0 0 0-.075 0 .7.7 0 0 0-.275-.091H5.833a2.5 2.5 0 0 0-2.5 2.5v11.666a2.5 2.5 0 0 0 2.5 2.5h8.334a2.5 2.5 0 0 0 2.5-2.5V7.45m-5-2.942 2.158 2.159H12.5a.833.833 0 0 1-.833-.834zM15 15.833a.833.833 0 0 1-.833.834H5.833A.833.833 0 0 1 5 15.833V4.167a.833.833 0 0 1 .833-.834H10v2.5a2.5 2.5 0 0 0 2.5 2.5H15zm-2.5-2.5h-5A.834.834 0 0 0 7.5 15h5a.833.833 0 1 0 0-1.667"></path></svg><p>RBAC å®è·µï¼šä¸ºä½ çš„åº”ç”¨å®ç°å®‰å…¨æˆæƒ (Authorization)</p></a></span>
<span class="linkWrapper_B4Bt"><a class="link_hf7f" href="/zh-CN/use-cases/multi-tenancy/build-multi-tenant-saas-application"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" d="M7.5 8.333h.833a.833.833 0 1 0 0-1.666H7.5a.833.833 0 1 0 0 1.666M7.5 10a.833.833 0 1 0 0 1.667h5a.833.833 0 1 0 0-1.667zm9.167-2.55a1 1 0 0 0-.05-.225V7.15a.9.9 0 0 0-.159-.233l-5-5a.9.9 0 0 0-.233-.159.3.3 0 0 0-.075 0 .7.7 0 0 0-.275-.091H5.833a2.5 2.5 0 0 0-2.5 2.5v11.666a2.5 2.5 0 0 0 2.5 2.5h8.334a2.5 2.5 0 0 0 2.5-2.5V7.45m-5-2.942 2.158 2.159H12.5a.833.833 0 0 1-.833-.834zM15 15.833a.833.833 0 0 1-.833.834H5.833A.833.833 0 0 1 5 15.833V4.167a.833.833 0 0 1 .833-.834H10v2.5a2.5 2.5 0 0 0 2.5 2.5H15zm-2.5-2.5h-5A.834.834 0 0 0 7.5 15h5a.833.833 0 1 0 0-1.667"></path></svg><p>æ„å»ºå¤šç§Ÿæˆ· SaaS åº”ç”¨ï¼šä»è®¾è®¡åˆ°å®ç°çš„å®Œæ•´æŒ‡å—</p></a></span></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="container_Wclb margin-top--sm theme-doc-footer-edit-meta-row"><div class="flexRow_KYkE"><div class="feedback_TAa6"><span class="label_WMz2">å½“å‰é¡µé¢å¯¹ä½ æ˜¯å¦æœ‰å¸®åŠ©ï¼Ÿ</span><div class="buttons_x_bL"><a href="#" tabindex="0" role="button" class="button_Ijg1 outline_JOKm button_NLNf"><div class="children_hFsN"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" fill="none" viewBox="0 0 20 21"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.667" d="M5.833 18.986V9.819m-4.166 1.667v5.833c0 .92.746 1.667 1.666 1.667h11.189a2.5 2.5 0 0 0 2.47-2.12l.898-5.833a2.5 2.5 0 0 0-2.47-2.88H12.5a.833.833 0 0 1-.834-.834V4.374c0-1.135-.92-2.055-2.054-2.055-.271 0-.516.16-.626.407L6.053 9.324a.83.83 0 0 1-.761.495H3.333c-.92 0-1.666.746-1.666 1.667"></path></svg>æ˜¯</div></a><a href="#" tabindex="0" role="button" class="button_Ijg1 outline_JOKm button_NLNf"><div class="children_hFsN"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" fill="none" viewBox="0 0 20 21"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.667" d="M14.167 2.32v9.166m4.167-1.666V3.986c0-.92-.747-1.666-1.667-1.666H5.478a2.5 2.5 0 0 0-2.47 2.12l-.898 5.833a2.5 2.5 0 0 0 2.47 2.88H7.5c.46 0 .834.373.834.833v2.945c0 1.135.92 2.055 2.054 2.055.271 0 .516-.16.626-.406l2.933-6.599a.83.83 0 0 1 .761-.495h1.959c.92 0 1.666-.746 1.666-1.666"></path></svg>å¦</div></a></div></div><div class="editUrlColumn_qucM"><span class="label_WMz2">å¸®åŠ©æˆ‘ä»¬æ”¹è¿›æ–‡æ¡£ï¼</span><a href="https://github.com/logto-io/docs/tree/master/i18n/zh-CN/docusaurus-plugin-content-docs/current/api-protection/java/micronaut/README.mdx" target="_blank" rel="noopener noreferrer" tabindex="0" role="button" class="button_Ijg1 outline_JOKm button_NLNf"><div class="children_hFsN"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" fill="none" viewBox="0 0 20 21"><path fill="currentColor" d="M4.167 15.653H7.7a.83.83 0 0 0 .591-.242l5.767-5.775 2.367-2.317a.833.833 0 0 0 0-1.183l-3.533-3.575a.833.833 0 0 0-1.184 0l-2.35 2.358-5.783 5.775a.83.83 0 0 0-.242.592v3.533a.833.833 0 0 0 .833.834M12.3 4.328l2.358 2.358-1.183 1.183-2.358-2.358zm-7.3 7.3 4.942-4.942L12.3 9.044l-4.942 4.942H5zm12.5 5.691h-15a.833.833 0 1 0 0 1.667h15a.833.833 0 1 0 0-1.667"></path></svg>ç¼–è¾‘æ­¤é¡µ</div></a></div></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="æ–‡ä»¶é€‰é¡¹å¡"><a class="pagination-nav__link pagination-nav__link--prev" href="/zh-CN/api-protection/java"><div class="pagination-nav__sublabel">ä¸Šä¸€é¡µ</div><div class="pagination-nav__label">ä½¿ç”¨åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC) å’Œ JWT éªŒè¯ä¿æŠ¤ä½ çš„ Java API</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/zh-CN/api-protection/java/quarkus"><div class="pagination-nav__sublabel">ä¸‹ä¸€é¡µ</div><div class="pagination-nav__label">Quarkus</div></a></nav></div></div><div class="desktopToc_gMds"><div class="tableOfContents_CMyx thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#before-you-start" class="table-of-contents__link toc-highlight">å¼€å§‹ä¹‹å‰</a><ul><li><a href="#what-you-will-learn" class="table-of-contents__link toc-highlight">ä½ å°†å­¦åˆ°ä»€ä¹ˆ</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">å‰ç½®æ¡ä»¶</a></li></ul></li><li><a href="#permission-models-overview" class="table-of-contents__link toc-highlight">æƒé™ (Permission) æ¨¡å‹æ¦‚è§ˆ</a></li><li><a href="#quick-preparation-steps" class="table-of-contents__link toc-highlight">å¿«é€Ÿå‡†å¤‡æ­¥éª¤</a><ul><li><a href="#configure-logto-resources-permissions" class="table-of-contents__link toc-highlight">é…ç½® Logto èµ„æºå’Œæƒé™</a></li><li><a href="#update-your-client-application" class="table-of-contents__link toc-highlight">æ›´æ–°ä½ çš„å®¢æˆ·ç«¯åº”ç”¨</a></li></ul></li><li><a href="#initialize-your-api-project" class="table-of-contents__link toc-highlight">åˆå§‹åŒ–ä½ çš„ API é¡¹ç›®</a></li><li><a href="#initialize-constants-and-utilities" class="table-of-contents__link toc-highlight">åˆå§‹åŒ–å¸¸é‡å’Œå·¥å…·æ–¹æ³•</a></li><li><a href="#retrieve-info-about-your-logto-tenant" class="table-of-contents__link toc-highlight">è·å–ä½ çš„ Logto ç§Ÿæˆ·ä¿¡æ¯</a><ul><li><a href="#fetch-from-openid-connect-discovery-endpoint" class="table-of-contents__link toc-highlight">ä» OpenID Connect å‘ç°ç«¯ç‚¹è·å–</a></li><li><a href="#hardcode-in-your-code-not-recommended" class="table-of-contents__link toc-highlight">åœ¨ä»£ç ä¸­ç¡¬ç¼–ç ï¼ˆä¸æ¨èï¼‰</a></li></ul></li><li><a href="#validate-the-token-and-permissions" class="table-of-contents__link toc-highlight">æ ¡éªŒä»¤ç‰Œå’Œæƒé™</a><ul><li><a href="#what-to-check-for-each-permission-model" class="table-of-contents__link toc-highlight">é’ˆå¯¹æ¯ç§æƒé™ (Permission) æ¨¡å‹éœ€è¦æ£€æŸ¥ä»€ä¹ˆ</a></li><li><a href="#add-the-validation-logic" class="table-of-contents__link toc-highlight">æ·»åŠ æ ¡éªŒé€»è¾‘</a></li></ul></li><li><a href="#apply-the-middleware-to-your-api" class="table-of-contents__link toc-highlight">å°†ä¸­é—´ä»¶åº”ç”¨åˆ°ä½ çš„ API</a></li><li><a href="#test-your-protected-api" class="table-of-contents__link toc-highlight">æµ‹è¯•ä½ çš„å—ä¿æŠ¤ API</a><ul><li><a href="#get-access-tokens" class="table-of-contents__link toc-highlight">è·å–è®¿é—®ä»¤ç‰Œ (Access tokens)</a></li><li><a href="#test-protected-endpoints" class="table-of-contents__link toc-highlight">æµ‹è¯•å—ä¿æŠ¤çš„ç«¯ç‚¹</a></li><li><a href="#permission-model-specific-testing" class="table-of-contents__link toc-highlight">æƒé™æ¨¡å‹ç›¸å…³æµ‹è¯•</a></li></ul></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">å»¶ä¼¸é˜…è¯»</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">å¼€å‘è€…</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/zh-CN/introduction"><span>æ–‡æ¡£</span></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/quick-starts"><span>å¿«é€Ÿå…¥é—¨</span></a></li><li class="footer__item"><a class="footer__link-item" href="/zh-CN/integrations"><span>é›†æˆ</span></a></li><li class="footer__item"><a href="https://openapi.logto.io/group/endpoint-account-center" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>è´¦æˆ· API</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://openapi.logto.io/group/endpoint-experience" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ä½“éªŒ API</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://openapi.logto.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ç®¡ç† API</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://tutorials.logto.io/how-to" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>ä½¿ç”¨ X å’Œ Y çš„ç»„åˆæ„å»ºç™»å½•</span></a></li></ul></div><div class="col footer__col"><div class="footer__title">èµ„æº</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://logto.io/pricing" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>å®šä»·</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://blog.logto.io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>åšå®¢</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://auth.wiki" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>è®¤è¯ç™¾ç§‘</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://blog.logto.io/categories/changelogs/#all" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>æ›´æ–°åŠ¨æ€</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://youtube.com/@logto-io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li><li class="footer__item"><a href="https://github.com/logto-io/logto" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub</span><svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg" class="iconExternalLink_2l9O"><path d="M12.422 7.54748C12.2452 7.54748 12.0757 7.61772 11.9506 7.74274C11.8256 7.86777 11.7554 8.03734 11.7554 8.21415V13.0008C11.7554 13.1776 11.6851 13.3472 11.5601 13.4722C11.4351 13.5972 11.2655 13.6675 11.0887 13.6675H3.75537C3.57856 13.6675 3.40899 13.5972 3.28397 13.4722C3.15894 13.3472 3.0887 13.1776 3.0887 13.0008V5.66748C3.0887 5.49067 3.15894 5.3211 3.28397 5.19608C3.40899 5.07105 3.57856 5.00081 3.75537 5.00081H8.54204C8.71885 5.00081 8.88842 4.93058 9.01344 4.80555C9.13847 4.68053 9.2087 4.51096 9.2087 4.33415C9.2087 4.15734 9.13847 3.98777 9.01344 3.86274C8.88842 3.73772 8.71885 3.66748 8.54204 3.66748H3.75537C3.22494 3.66748 2.71623 3.87819 2.34116 4.25327C1.96608 4.62834 1.75537 5.13705 1.75537 5.66748V13.0008C1.75537 13.5312 1.96608 14.04 2.34116 14.415C2.71623 14.7901 3.22494 15.0008 3.75537 15.0008H11.0887C11.6191 15.0008 12.1278 14.7901 12.5029 14.415C12.878 14.04 13.0887 13.5312 13.0887 13.0008V8.21415C13.0887 8.03734 13.0185 7.86777 12.8934 7.74274C12.7684 7.61772 12.5988 7.54748 12.422 7.54748ZM15.0354 2.08081C14.9677 1.91791 14.8383 1.78846 14.6754 1.72081C14.5952 1.68665 14.5092 1.66853 14.422 1.66748H10.422C10.2452 1.66748 10.0757 1.73772 9.95063 1.86274C9.82561 1.98777 9.75537 2.15734 9.75537 2.33415C9.75537 2.51096 9.82561 2.68053 9.95063 2.80555C10.0757 2.93058 10.2452 3.00081 10.422 3.00081H12.8154L5.9487 9.86081C5.88622 9.92279 5.83662 9.99652 5.80278 10.0778C5.76893 10.159 5.75151 10.2461 5.75151 10.3341C5.75151 10.4222 5.76893 10.5093 5.80278 10.5905C5.83662 10.6718 5.88622 10.7455 5.9487 10.8075C6.01068 10.87 6.08441 10.9196 6.16565 10.9534C6.24689 10.9873 6.33403 11.0047 6.42204 11.0047C6.51005 11.0047 6.59718 10.9873 6.67842 10.9534C6.75966 10.9196 6.8334 10.87 6.89537 10.8075L13.7554 3.94081V6.33415C13.7554 6.51096 13.8256 6.68053 13.9506 6.80555C14.0757 6.93058 14.2452 7.00081 14.422 7.00081C14.5988 7.00081 14.7684 6.93058 14.8934 6.80555C15.0185 6.68053 15.0887 6.51096 15.0887 6.33415V2.33415C15.0877 2.24703 15.0695 2.16096 15.0354 2.08081Z" fill="currentColor"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">éœ€è¦å¸®åŠ©ï¼Ÿ</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://logto.io/contact" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="14" fill="none" viewBox="0 0 17 14"><path fill="currentColor" fill-rule="evenodd" d="M14.179.546a3.7 3.7 0 0 0-1.246-.213H4.4c-.436 0-.855.075-1.245.213l5.512 5.512zM8.667 7.633a.67.67 0 0 0 .505-.195l6.2-6.199a3.73 3.73 0 0 1 1.295 2.828v5.866a3.733 3.733 0 0 1-3.734 3.734H4.4A3.733 3.733 0 0 1 .667 9.933V4.067c0-1.13.502-2.144 1.296-2.828l6.2 6.2a.67.67 0 0 0 .504.194" clip-rule="evenodd"></path></svg><span>è”ç³»æ”¯æŒ</span></a></li><li class="footer__item"><a href="https://github.com/logto-io/logto/issues/new/choose" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" fill="none" viewBox="0 0 17 16"><path fill="currentColor" d="M8.667 0a8 8 0 0 0-2.53 15.59c.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94a2.9 2.9 0 0 0-.82-1.13c-.28-.15-.68-.52-.01-.53a1.6 1.6 0 0 1 1.23.82 1.71 1.71 0 0 0 2.33.66c.034-.407.215-.787.51-1.07-1.78-.2-3.64-.89-3.64-3.95a3.1 3.1 0 0 1 .82-2.15 2.88 2.88 0 0 1 .08-2.12s.67-.21 2.2.82a7.54 7.54 0 0 1 4 0c1.53-1.04 2.2-.82 2.2-.82.296.67.324 1.43.08 2.12.539.585.833 1.355.82 2.15 0 3.07-1.87 3.75-3.65 3.95a1.9 1.9 0 0 1 .54 1.48c0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.005 8.005 0 0 0 8.667 0"></path></svg><span>åˆ›å»º GitHub issue</span></a></li><li class="footer__item"><a href="https://logto.productlane.com/roadmap" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" fill="none" viewBox="0 0 17 16"><path fill="currentColor" d="m14.88 3.367-4-1.334h-.047a.5.5 0 0 0-.093 0h-.287l-3.787 1.3-3.786-1.3a.67.67 0 0 0-.6.094.67.67 0 0 0-.28.54V12a.67.67 0 0 0 .453.633l4 1.334a.67.67 0 0 0 .413 0l3.8-1.267 3.787 1.3q.107.015.213 0a.63.63 0 0 0 .387-.127.67.67 0 0 0 .28-.54V4a.67.67 0 0 0-.453-.634M6 12.407l-2.667-.887V3.593L6 4.48zm4-.887-2.667.886V4.48L10 3.593zm4 .886-2.667-.886V3.593L14 4.48z"></path></svg><span>è¯·æ±‚æ–°åŠŸèƒ½</span></a></li><li class="footer__item"><a href="https://discord.com/invite/UEPaF3j5e6" target="_blank" rel="noopener noreferrer" class="footer__link-item"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="16" fill="none" viewBox="0 0 17 16"><path fill="currentColor" d="M14.211 2.611a13.2 13.2 0 0 0-3.256-1.01.05.05 0 0 0-.053.025c-.14.25-.296.576-.405.833a12.2 12.2 0 0 0-3.658 0 8 8 0 0 0-.412-.833.05.05 0 0 0-.052-.025 13.2 13.2 0 0 0-3.257 1.01.05.05 0 0 0-.022.018C1.022 5.73.454 8.751.733 11.736q.003.023.02.038a13.3 13.3 0 0 0 3.996 2.02.05.05 0 0 0 .056-.019q.463-.63.817-1.33a.05.05 0 0 0-.027-.07 9 9 0 0 1-1.249-.595.05.05 0 0 1-.005-.085 7 7 0 0 0 .248-.194.05.05 0 0 1 .052-.007c2.618 1.195 5.453 1.195 8.04 0a.05.05 0 0 1 .053.006q.12.1.249.195a.05.05 0 0 1-.005.085q-.596.349-1.248.594a.05.05 0 0 0-.027.071q.361.699.816 1.33a.05.05 0 0 0 .056.018 13.2 13.2 0 0 0 4.002-2.02.05.05 0 0 0 .02-.036c.334-3.451-.558-6.45-2.365-9.107a.04.04 0 0 0-.02-.019M6.013 9.919c-.788 0-1.438-.724-1.438-1.613s.637-1.613 1.438-1.613c.808 0 1.45.73 1.438 1.613 0 .889-.637 1.613-1.438 1.613m5.317 0c-.789 0-1.438-.724-1.438-1.613s.637-1.613 1.438-1.613c.807 0 1.45.73 1.438 1.613 0 .889-.631 1.613-1.438 1.613"></path></svg><span>å’¨è¯¢ Discord ç¤¾åŒº</span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/zh-CN/img/silverhand.svg" alt="æ ‡å¿—" class="footer__logo themedComponent_tjAf themedComponent--light_cGzJ" loading="lazy"><img src="/zh-CN/img/silverhand.svg" alt="æ ‡å¿—" class="footer__logo themedComponent_tjAf themedComponent--dark_ODSs" loading="lazy"></div><div class="footer__copyright">ç”± Silverhand Inc. è®¾è®¡</div><a href="https://logto.io/trust-and-security" target="_blank" rel="noopener noreferrer" class="footer__link-item">å®‰å…¨æ€§</a><a class="footer__link-item" href="/zh-CN/terms/of-service">æ¡æ¬¾</a><a class="footer__link-item" href="/zh-CN/terms/privacy-policy">éšç§</a><div class="select_M8tE small_HY_A languageSelector__LNx" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="none" viewBox="0 0 20 20"><path fill="currentColor" d="M17.842 7.2v-.042a8.332 8.332 0 0 0-15.65 0V7.2a8.22 8.22 0 0 0 0 5.6v.042a8.334 8.334 0 0 0 15.65 0V12.8a8.22 8.22 0 0 0 0-5.6M3.55 11.667a6.5 6.5 0 0 1 0-3.334H5.1a14 14 0 0 0 0 3.334zm.683 1.666H5.4c.196.743.475 1.462.833 2.142a6.7 6.7 0 0 1-2-2.142M5.4 6.667H4.233a6.7 6.7 0 0 1 1.975-2.142c-.35.681-.62 1.4-.808 2.142m3.767 9.75a5.28 5.28 0 0 1-2.025-3.084h2.025zm0-4.75H6.783a12 12 0 0 1 0-3.334h2.384zm0-5H7.142a5.28 5.28 0 0 1 2.025-3.084zm6.6 0H14.6a10 10 0 0 0-.833-2.142 6.7 6.7 0 0 1 2 2.142m-4.934-3.084a5.28 5.28 0 0 1 2.025 3.084h-2.025zm0 12.834v-3.084h2.025a5.28 5.28 0 0 1-2.025 3.084m2.384-4.75h-2.384V8.333h2.384a12 12 0 0 1 0 3.334m.575 3.808c.358-.68.637-1.399.833-2.142h1.167a6.7 6.7 0 0 1-2 2.142m2.658-3.808H14.9q.102-.83.1-1.667 0-.837-.1-1.667h1.55a6.5 6.5 0 0 1 0 3.334"></path></svg><span class="title_ufT_">ç®€ä½“ä¸­æ–‡</span><span class="spacer_MIFi"></span><div class="arrow_g2YS"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12.71 15.5402L18.36 9.88023C18.4537 9.78726 18.5281 9.67666 18.5789 9.5548C18.6296 9.43294 18.6558 9.30224 18.6558 9.17023C18.6558 9.03821 18.6296 8.90751 18.5789 8.78565C18.5281 8.66379 18.4537 8.55319 18.36 8.46023C18.1726 8.27398 17.9191 8.16943 17.655 8.16943C17.3908 8.16943 17.1373 8.27398 16.95 8.46023L11.95 13.4102L6.99996 8.46023C6.8126 8.27398 6.55915 8.16943 6.29496 8.16943C6.03078 8.16943 5.77733 8.27398 5.58996 8.46023C5.49548 8.55284 5.42031 8.66329 5.36881 8.78516C5.31731 8.90704 5.29051 9.03792 5.28996 9.17023C5.29051 9.30253 5.31731 9.43342 5.36881 9.55529C5.42031 9.67717 5.49548 9.78761 5.58996 9.88023L11.24 15.5402C11.3336 15.6417 11.4473 15.7227 11.5738 15.7781C11.7003 15.8336 11.8369 15.8622 11.975 15.8622C12.1131 15.8622 12.2497 15.8336 12.3762 15.7781C12.5027 15.7227 12.6163 15.6417 12.71 15.5402Z" fill="currentColor"></path></svg></div></div></div></div></footer></div>
</body>
</html>