"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5889],{17006:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>m,contentTitle:()=>g,default:()=>j,frontMatter:()=>p,metadata:()=>o,toc:()=>h});const o=JSON.parse('{"id":"integrate-logto/interact-with-management-api/README","title":"Interact\xfaa con la Management API","description":"Utiliza las Management APIs para acceder a los servicios backend de Logto, escalando tu sistema CIAM con gesti\xf3n de usuarios, configuraci\xf3n de cuentas, verificaci\xf3n de identidad y arquitectura multi-inquilino.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.mdx","sourceDirName":"integrate-logto/interact-with-management-api","slug":"/integrate-logto/interact-with-management-api/","permalink":"/es/integrate-logto/interact-with-management-api/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"description":"Utiliza las Management APIs para acceder a los servicios backend de Logto, escalando tu sistema CIAM con gesti\xf3n de usuarios, configuraci\xf3n de cuentas, verificaci\xf3n de identidad y arquitectura multi-inquilino.","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Personalizaci\xf3n de la pantalla de consentimiento","permalink":"/es/integrate-logto/third-party-applications/consent-screen-branding"},"next":{"title":"Estructura de datos de la aplicaci\xf3n","permalink":"/es/integrate-logto/application-data-structure"}}');var s=a(25105),t=a(79621),i=a(44845),r=a(94630),l=a(12960),c=a(76294),d=a(8549),u=a(24855);const p={description:"Utiliza las Management APIs para acceder a los servicios backend de Logto, escalando tu sistema CIAM con gesti\xf3n de usuarios, configuraci\xf3n de cuentas, verificaci\xf3n de identidad y arquitectura multi-inquilino.",sidebar_position:5},g="Interact\xfaa con la Management API",m={},h=[{value:"\xbfQu\xe9 es la Logto Management API?",id:"what-is-logto-management-api",level:2},{value:"C\xf3mo acceder a la Logto Management API",id:"how-to-access-logto-management-api",level:2},{value:"Crear una app M2M",id:"create-an-m2m-app",level:3},...u.RM,{value:"Obtener un token de acceso",id:"fetch-an-access-token",level:3},{value:"Conceptos b\xe1sicos sobre la solicitud de token de acceso",id:"basics-about-access-token-request",level:4},...l.RM,{value:"Obtener token de acceso para Logto Management API",id:"fetch-access-token-for-logto-management-api",level:4},...c.RM,{value:"Respuesta del token de acceso",id:"access-token-response",level:4},...d.RM,{value:"Acceder a Logto Management API usando el token de acceso",id:"access-logto-management-api-using-access-token",level:3},...r.RM,...i.RM,{value:"Escenarios t\xedpicos para usar Logto Management API",id:"typical-scenarios-for-using-logto-management-api",level:2},{value:"Implementar el perfil de usuario por tu cuenta",id:"implement-user-profile-on-your-own",level:3},{value:"B\xfasqueda avanzada de usuarios",id:"advanced-user-search",level:3},{value:"Implementar la gesti\xf3n de organizaciones por tu cuenta",id:"implement-organization-management-on-your-own",level:3},{value:"Consejos para usar Logto Management API",id:"tips-for-using-logto-management-api",level:2},{value:"Gesti\xf3n de respuestas paginadas de la API",id:"managing-paginated-api-responses",level:3},{value:"Uso de encabezados link",id:"using-link-headers",level:4},{value:"Uso del encabezado total-number",id:"using-total-number-header",level:4},{value:"Cambiar el n\xfamero de p\xe1gina y el tama\xf1o de p\xe1gina",id:"changing-page-number-and-page-size",level:4},{value:"L\xedmite de tasa",id:"rate-limit",level:3},{value:"Recursos relacionados",id:"related-resources",level:2}];function x(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{CloudLink:a,Url:o}=n;return a||f("CloudLink",!0),o||f("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"interact\xfaa-con-la-management-api",children:"Interact\xfaa con la Management API"})}),"\n",(0,s.jsx)(n.h2,{id:"what-is-logto-management-api",children:"\xbfQu\xe9 es la Logto Management API?"}),"\n",(0,s.jsxs)(n.p,{children:["La Logto Management API es un conjunto completo de APIs que brinda a los desarrolladores control total sobre su implementaci\xf3n para adaptarse a las necesidades de su producto y stack tecnol\xf3gico. Est\xe1 preconstruida, listada en ",(0,s.jsx)(a,{to:"/api-resources",children:"Consola > Recursos de API > Logto Management API"}),", y no puede ser eliminada ni modificada."]}),"\n",(0,s.jsxs)(n.p,{children:["Su identificador sigue el patr\xf3n ",(0,s.jsx)(n.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["El identificador de la Logto Management API difiere entre ",(0,s.jsx)(n.a,{href:"/logto-cloud",children:"Logto Cloud"})," y la versi\xf3n ",(0,s.jsx)(n.a,{href:"/logto-oss",children:"Logto Open Source"}),":"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Logto Cloud: ",(0,s.jsx)(n.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n",(0,s.jsxs)(n.li,{children:["Logto OSS: ",(0,s.jsx)(n.code,{children:"https://default.logto.app/api"})]}),"\n"]}),(0,s.jsx)(n.p,{children:"En los siguientes ejemplos, usaremos el identificador de la versi\xf3n Cloud."})]}),"\n",(0,s.jsx)("img",{alt:"Recurso Logto Management API",src:"/img/assets/logto-management-api-resource.webp"}),"\n",(0,s.jsx)("img",{alt:"Detalles de Logto Management API",src:"/img/assets/logto-management-api-details.webp"}),"\n",(0,s.jsx)(n.p,{children:"Con la Logto Management API, puedes acceder a los robustos servicios backend de Logto, que son altamente escalables y pueden ser utilizados en una multitud de escenarios. Va m\xe1s all\xe1 de lo que es posible con las capacidades low-code de la Consola de Administraci\xf3n."}),"\n",(0,s.jsx)(n.p,{children:"Algunas APIs de uso frecuente se listan a continuaci\xf3n:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:"Usuario"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listapplications",children:"Aplicaci\xf3n"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listlogs",children:"Registros de auditor\xeda"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listroles",children:"Roles"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listresources",children:"Recursos"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listconnectors",children:"Connectors"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listorganizations",children:"Organizaciones"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Para conocer m\xe1s sobre las APIs disponibles, visita ",(0,s.jsx)(n.a,{href:"https://openapi.logto.io/",children:"https://openapi.logto.io/"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"how-to-access-logto-management-api",children:"C\xf3mo acceder a la Logto Management API"}),"\n",(0,s.jsx)(n.h3,{id:"create-an-m2m-app",children:"Crear una app M2M"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Si no est\xe1s familiarizado con el flujo de autenticaci\xf3n M2M (m\xe1quina a m\xe1quina), te recomendamos leer primero ",(0,s.jsx)(n.a,{href:"/integrate-logto/integrate-logto-into-your-application/understand-authentication-flow/#machine-to-machine-authentication-flow",children:"Comprender el flujo de autenticaci\xf3n"})," para entender los conceptos b\xe1sicos."]})}),"\n",(0,s.jsxs)(n.p,{children:["Ve a ",(0,s.jsx)(a,{to:"/applications",children:"Consola > Aplicaciones"}),', selecciona el tipo de aplicaci\xf3n "M\xe1quina a m\xe1quina" y comienza el proceso de creaci\xf3n.']}),"\n",(0,s.jsx)(u.Ay,{}),"\n",(0,s.jsx)(n.p,{children:"En el m\xf3dulo de asignaci\xf3n de roles, puedes ver que todos los roles M2M est\xe1n incluidos, y los roles indicados con un \xedcono de Logto significan que estos roles incluyen permisos de Logto Management API."}),"\n",(0,s.jsx)(n.p,{children:"Ahora asigna roles M2M que incluyan permisos de Logto Management API para tu app M2M."}),"\n",(0,s.jsx)(n.h3,{id:"fetch-an-access-token",children:"Obtener un token de acceso"}),"\n",(0,s.jsx)(n.h4,{id:"basics-about-access-token-request",children:"Conceptos b\xe1sicos sobre la solicitud de token de acceso"}),"\n",(0,s.jsx)(l.Ay,{}),"\n",(0,s.jsx)(n.h4,{id:"fetch-access-token-for-logto-management-api",children:"Obtener token de acceso para Logto Management API"}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsx)(n.h4,{id:"access-token-response",children:"Respuesta del token de acceso"}),"\n",(0,s.jsx)(n.p,{children:"Un cuerpo de respuesta de acceso exitoso ser\xeda as\xed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbG...2g", // Usa este token para acceder a la Logto Management API\n  "expires_in": 3600, // Expiraci\xf3n del token en segundos\n  "token_type": "Bearer", // Tipo de autenticaci\xf3n para tu solicitud al usar el token de acceso\n  "scope": "all" // scope `all` para Logto Management API\n}\n'})}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(n.h3,{id:"access-logto-management-api-using-access-token",children:"Acceder a Logto Management API usando el token de acceso"}),"\n",(0,s.jsx)(r.Ay,{}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"typical-scenarios-for-using-logto-management-api",children:"Escenarios t\xedpicos para usar Logto Management API"}),"\n",(0,s.jsx)(n.p,{children:"Nuestros desarrolladores han implementado muchas funciones adicionales usando Logto Management API. Creemos que nuestra API es altamente escalable y puede soportar una amplia gama de necesidades. Aqu\xed tienes algunos ejemplos de escenarios que no son posibles con la Consola de Administraci\xf3n de Logto pero que s\xed pueden lograrse a trav\xe9s de la Logto Management API."}),"\n",(0,s.jsx)(n.h3,{id:"implement-user-profile-on-your-own",children:"Implementar el perfil de usuario por tu cuenta"}),"\n",(0,s.jsx)(n.p,{children:"Actualmente, Logto no proporciona una soluci\xf3n de interfaz preconstruida para perfiles de usuario. Reconocemos que los perfiles de usuario est\xe1n estrechamente ligados a los atributos del negocio y del producto. Mientras trabajamos en determinar el mejor enfoque, sugerimos usar nuestras APIs para crear tu propia soluci\xf3n. Por ejemplo, puedes utilizar nuestra interaction API, profile API y verification code API para desarrollar una soluci\xf3n personalizada que se adapte a tus necesidades."}),"\n",(0,s.jsx)(n.h3,{id:"advanced-user-search",children:"B\xfasqueda avanzada de usuarios"}),"\n",(0,s.jsxs)(n.p,{children:["La Consola de Administraci\xf3n de Logto admite funciones b\xe1sicas de b\xfasqueda y filtrado. Para opciones de b\xfasqueda avanzada como b\xfasqueda difusa, coincidencia exacta y sensibilidad a may\xfasculas, consulta nuestros tutoriales y gu\xedas de ",(0,s.jsx)(n.a,{href:"/user-management/advanced-user-search",children:"B\xfasqueda avanzada de usuarios"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"implement-organization-management-on-your-own",children:"Implementar la gesti\xf3n de organizaciones por tu cuenta"}),"\n",(0,s.jsxs)(n.p,{children:["Si est\xe1s utilizando la funci\xf3n de ",(0,s.jsx)(n.a,{href:"/organizations",children:"organizaciones"})," para construir tu app multi-inquilino, podr\xedas necesitar la Logto Management API para tareas como invitaciones a organizaciones y gesti\xf3n de miembros. Para tu producto SaaS, donde tienes tanto administradores como miembros en el tenant, la Logto Management API puede ayudarte a crear un portal de administraci\xf3n personalizado adaptado a las necesidades de tu negocio. Consulta ",(0,s.jsx)(n.a,{href:"/end-user-flows/organization-experience/",children:"esto"})," para m\xe1s detalles."]}),"\n",(0,s.jsx)(n.h2,{id:"tips-for-using-logto-management-api",children:"Consejos para usar Logto Management API"}),"\n",(0,s.jsx)(n.h3,{id:"managing-paginated-api-responses",children:"Gesti\xf3n de respuestas paginadas de la API"}),"\n",(0,s.jsx)(n.p,{children:"Algunas de las respuestas de la API pueden incluir muchos resultados, los resultados ser\xe1n paginados. Logto proporciona 2 tipos de informaci\xf3n de paginaci\xf3n."}),"\n",(0,s.jsx)(n.h4,{id:"using-link-headers",children:"Uso de encabezados link"}),"\n",(0,s.jsx)(n.p,{children:"Un encabezado de respuesta paginada ser\xe1 as\xed:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:'Link: <https://logto.dev/users?page=1&page_size=20>; rel="first"\n'})}),"\n",(0,s.jsx)(n.p,{children:"El encabezado link proporciona la URL para la p\xe1gina anterior, siguiente, primera y \xfaltima de los resultados:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:'La URL de la p\xe1gina anterior va seguida de rel="prev".'}),"\n",(0,s.jsx)(n.li,{children:'La URL de la p\xe1gina siguiente va seguida de rel="next".'}),"\n",(0,s.jsx)(n.li,{children:'La URL de la \xfaltima p\xe1gina va seguida de rel="last".'}),"\n",(0,s.jsx)(n.li,{children:'La URL de la primera p\xe1gina va seguida de rel="first".'}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"using-total-number-header",children:"Uso del encabezado total-number"}),"\n",(0,s.jsxs)(n.p,{children:["Adem\xe1s de los encabezados link est\xe1ndar, Logto tambi\xe9n a\xf1adir\xe1 un encabezado ",(0,s.jsx)(n.code,{children:"Total-Number"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Total-Number: 216\n"})}),"\n",(0,s.jsx)(n.p,{children:"Eso ser\xe1 muy conveniente y \xfatil para mostrar n\xfameros de p\xe1gina."}),"\n",(0,s.jsx)(n.h4,{id:"changing-page-number-and-page-size",children:"Cambiar el n\xfamero de p\xe1gina y el tama\xf1o de p\xe1gina"}),"\n",(0,s.jsx)(n.p,{children:"Hay 2 par\xe1metros de consulta opcionales:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"page"}),": indica el n\xfamero de p\xe1gina, comienza en 1, el valor predeterminado es 1."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"page_size"}),": indica el n\xfamero de elementos por p\xe1gina, el valor predeterminado es 20."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"rate-limit",children:"L\xedmite de tasa"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Esto es solo para Logto Cloud."})}),"\n",(0,s.jsx)(n.p,{children:"Para garantizar la fiabilidad y seguridad de nuestros servicios para todos los usuarios, empleamos un firewall general que monitorea y gestiona el tr\xe1fico hacia nuestro sitio web. Aunque no aplicamos un l\xedmite de tasa estricto, recomendamos que los usuarios limiten su actividad a aproximadamente 200 solicitudes cada 10 segundos para evitar activar nuestras medidas de protecci\xf3n."}),"\n",(0,s.jsx)(n.h2,{id:"related-resources",children:"Recursos relacionados"}),"\n",(0,s.jsx)(o,{href:"https://blog.logto.io/management-api",children:(0,s.jsx)(n.p,{children:"Usa Logto Management API: Una gu\xeda paso a paso"})}),"\n",(0,s.jsx)(o,{href:"https://blog.logto.io/use-postman-to-obtain-m2m-access-token",children:(0,s.jsx)(n.p,{children:"Obt\xe9n tokens de acceso M2M en minutos con Postman"})})]})}function j(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}function f(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},44845:(e,n,a)=>{a.d(n,{Ay:()=>c,RM:()=>r});var o=a(25105),s=a(79621),t=a(38552),i=a(22002);const r=[];function l(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Usando el token de acceso solicitado con el recurso de API de Logto Management incorporado ",(0,o.jsx)(n.code,{children:"https://[your-tenant-id].logto.app/api"})," para obtener todas las aplicaciones en Logto:"]}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(t.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Reemplaza con tu endpoint de Logto\nconst accessToken = 'eyJhb...2g'; // Token de acceso\n\nconst fetchLogtoApplications = async () => {\n  return await fetch(`${logtoEndpoint}/api/applications`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,o.jsxs)(t.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.logto.endpoint/api/applications' \\\n  --header 'Authorization: Bearer eyJhbG...2g'\n"})}),(0,o.jsxs)(n.p,{children:["Recuerda reemplazar los valores reales con los tuyos propios. El valor despu\xe9s de ",(0,o.jsx)(n.code,{children:"Bearer"})," debe ser el token de acceso (JWT) que recibiste."]})]})]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},94630:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>t});var o=a(25105),s=a(79621);const t=[];function i(e){const n={code:"code",p:"p",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Es posible que notes que la respuesta del token tiene un campo ",(0,o.jsx)(n.code,{children:"token_type"}),", que est\xe1 fijado a ",(0,o.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Por lo tanto, debes colocar el token de acceso en el campo ",(0,o.jsx)(n.code,{children:"Authorization"})," de los encabezados HTTP con el formato Bearer (",(0,o.jsx)(n.code,{children:"Bearer YOUR_TOKEN"}),") cuando est\xe9s interactuando con tu servidor de recursos de API."]})]})}function r(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},12960:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>t});var o=a(25105),s=a(79621);const t=[];function i(e){const n={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["La aplicaci\xf3n M2M realiza una solicitud ",(0,o.jsx)(n.code,{children:"POST"})," al endpoint de token para obtener un token de acceso a\xf1adiendo los siguientes par\xe1metros utilizando el formato ",(0,o.jsx)(n.code,{children:"application/x-www-form-urlencoded"})," en el cuerpo de la entidad de la solicitud HTTP:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"grant_type"}),": Debe establecerse en ",(0,o.jsx)(n.code,{children:"client_credentials"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"resource"}),": El recurso al que deseas acceder"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"scope"}),": El alcance de la solicitud de acceso"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Tambi\xe9n necesitas incluir las credenciales de tu aplicaci\xf3n M2M en el encabezado de la solicitud para que el endpoint de token autentique tu aplicaci\xf3n M2M."}),"\n",(0,o.jsxs)(n.p,{children:["Esto se logra incluyendo las credenciales de la aplicaci\xf3n en el formulario de ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication",children:"autenticaci\xf3n b\xe1sica"})," en el encabezado de ",(0,o.jsx)(n.code,{children:"Authorization"})," de la solicitud, donde el nombre de usuario es el App ID y la contrase\xf1a es el App Secret."]}),"\n",(0,o.jsx)(n.p,{children:"Puedes encontrar el App ID y el App Secret en la p\xe1gina de detalles de tu aplicaci\xf3n M2M:"}),"\n",(0,o.jsx)("img",{alt:"App ID and App Secret",src:"/img/assets/app-id-secret.png",width:"600px"})]})}function r(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},76294:(e,n,a)=>{a.d(n,{Ay:()=>c,RM:()=>r});var o=a(25105),s=a(79621),t=a(38552),i=a(22002);const r=[];function l(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:['Logto proporciona un recurso incorporado "Logto Management API", es un recurso de solo lectura con el permiso ',(0,o.jsx)(n.code,{children:"all"})," para acceder a Logto Management API, puedes verlo en tu lista de recursos de API. El indicador de API del recurso sigue el patr\xf3n ",(0,o.jsx)(n.code,{children:"https://{your-tenant-id}.logto.app/api"}),", y este ser\xe1 tu valor de recurso utilizado en el cuerpo de la solicitud del token de acceso."]}),"\n",(0,o.jsx)("img",{alt:"Detalles de Logto Management API",src:"/img/assets/logto-management-api.png",width:"600px"}),"\n",(0,o.jsxs)(n.p,{children:["Antes de acceder a Logto Management API, aseg\xfarate de que tu aplicaci\xf3n M2M haya sido asignada con roles M2M que incluyan el permiso ",(0,o.jsx)(n.code,{children:"all"}),' de este recurso incorporado "Logto Management API".']}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsxs)(n.p,{children:['Logto tambi\xe9n proporciona un rol M2M preconfigurado "Logto Management API access" para los nuevos inquilinos creados, al cual ya se le ha asignado el permiso ',(0,o.jsx)(n.code,{children:"all"})," del recurso Logto Management API. Puedes usarlo directamente sin configurar manualmente los permisos. Este rol preconfigurado tambi\xe9n puede ser editado y eliminado seg\xfan sea necesario."]})}),"\n",(0,o.jsx)(n.p,{children:"Ahora, comp\xf3n todo lo que tenemos y env\xeda la solicitud:"}),"\n",(0,o.jsxs)(i.A,{children:[(0,o.jsx)(t.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Reemplaza con tu endpoint de Logto\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\nconst tenantId = 'your-tenant-id';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: `https://${tenantId}.logto.app/api`,\n      scope: 'all',\n    }).toString(),\n  });\n};\n"})})}),(0,o.jsxs)(t.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://${tenantId}.logto.app/api' \\\n  --data-urlencode 'scope=all'\n"})}),(0,o.jsx)(n.p,{children:"Recuerda reemplazar los valores reales con los tuyos propios."})]})]}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.p,{children:["Para los usuarios de Logto Cloud: cuando interact\xfaes con Logto Management API, no puedes usar un dominio personalizado, utiliza el endpoint predeterminado de Logto ",(0,o.jsx)(n.code,{children:"https://{your_tenant_id}.logto.app/oidc/token"})," para otorgar tokens de acceso."]})})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(l,{...e})}):l(e)}},8549:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>t});var o=a(25105),s=a(79621);const t=[];function i(e){const n={admonition:"admonition",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Logto actualmente no admite que la aplicaci\xf3n M2M represente a un usuario. El ",(0,o.jsx)(n.code,{children:"sub"})," en la carga \xfatil del token de acceso ser\xe1 el ID de la aplicaci\xf3n."]})})}function r(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},24855:(e,n,a)=>{a.d(n,{Ay:()=>r,RM:()=>t});var o=a(25105),s=a(79621);const t=[];function i(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Durante el proceso de creaci\xf3n de una aplicaci\xf3n M2M, ser\xe1s dirigido a una p\xe1gina donde puedes asignar ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control/#configure-global-roles",children:"roles M2M"})," a tus aplicaciones:"]}),"\n",(0,o.jsx)("img",{alt:"Asignar roles M2M modal",src:"/img/assets/assign-m2m-roles-modal.png",width:"600px"}),"\n",(0,o.jsx)(n.p,{children:"O tambi\xe9n puedes asignar estos roles en la p\xe1gina de detalles de la aplicaci\xf3n M2M cuando ya tienes una aplicaci\xf3n M2M creada:"}),"\n",(0,o.jsx)("img",{alt:"Asignar roles M2M p\xe1gina",src:"/img/assets/assign-m2m-roles-page.png",width:"600px"})]})}function r(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(i,{...e})}):i(e)}},38552:(e,n,a)=>{a.d(n,{A:()=>i});a(58101);var o=a(13526);const s={tabItem:"tabItem_dgSZ"};var t=a(25105);function i(e){let{children:n,hidden:a,className:i}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,o.A)(s.tabItem,i),hidden:a,children:n})}},22002:(e,n,a)=>{a.d(n,{A:()=>y});var o=a(58101),s=a(13526),t=a(60755),i=a(55234),r=a(6635),l=a(4100),c=a(35661),d=a(42752);function u(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:a}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:a,attributes:o,default:s}}=e;return{value:n,label:a,attributes:o,default:s}}))}(a);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,a])}function g(e){let{value:n,tabValues:a}=e;return a.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:a}=e;const s=(0,i.W6)(),t=function(e){let{queryString:n=!1,groupId:a}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!a)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return a??null}({queryString:n,groupId:a});return[(0,l.aZ)(t),(0,o.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function h(e){const{defaultValue:n,queryString:a=!1,groupId:s}=e,t=p(e),[i,l]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:a}=e;if(0===a.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!g({value:n,tabValues:a}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${a.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=a.find((e=>e.default))??a[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:t}))),[c,u]=m({queryString:a,groupId:s}),[h,x]=function(e){let{groupId:n}=e;const a=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,d.Dv)(a);return[s,(0,o.useCallback)((e=>{a&&t.set(e)}),[a,t])]}({groupId:s}),j=(()=>{const e=c??h;return g({value:e,tabValues:t})?e:null})();(0,r.A)((()=>{j&&l(j)}),[j]);return{selectedValue:i,selectValue:(0,o.useCallback)((e=>{if(!g({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);l(e),u(e),x(e)}),[u,x,t]),tabValues:t}}var x=a(21929);const j={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=a(25105);function b(e){let{className:n,block:a,selectedValue:o,selectValue:i,tabValues:r}=e;const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),d=e=>{const n=e.currentTarget,a=l.indexOf(n),s=r[a].value;s!==o&&(c(n),i(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const a=l.indexOf(e.currentTarget)+1;n=l[a]??l[0];break}case"ArrowLeft":{const a=l.indexOf(e.currentTarget)-1;n=l[a]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":a},n),children:r.map((e=>{let{value:n,label:a,attributes:t}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>{l.push(e)},onKeyDown:u,onClick:d,...t,className:(0,s.A)("tabs__item",j.tabItem,t?.className,{"tabs__item--active":o===n}),children:a??n},n)}))})}function v(e){let{lazy:n,children:a,selectedValue:t}=e;const i=(Array.isArray(a)?a:[a]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===t));return e?(0,o.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function A(e){const n=h(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function y(e){const n=(0,x.A)();return(0,f.jsx)(A,{...e,children:u(e.children)},String(n))}},79621:(e,n,a)=>{a.d(n,{R:()=>i,x:()=>r});var o=a(58101);const s={},t=o.createContext(s);function i(e){const n=o.useContext(t);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),o.createElement(t.Provider,{value:n},e.children)}}}]);