"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[99545],{16645:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>a,toc:()=>l});const a=JSON.parse('{"id":"logto-oss/develop-your-connector/step-by-step-guide","title":"Gu\xeda paso a paso para desarrollar un conector social","description":"La forma m\xe1s r\xe1pida de comenzar es copiar el c\xf3digo de un conector oficial existente y modificarlo para que se ajuste a tus necesidades. Tomemos el conector de GitHub como ejemplo.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/step-by-step-guide.mdx","sourceDirName":"logto-oss/develop-your-connector","slug":"/logto-oss/develop-your-connector/step-by-step-guide","permalink":"/es/logto-oss/develop-your-connector/step-by-step-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/step-by-step-guide.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Implementar conectores","permalink":"/es/logto-oss/develop-your-connector/implement-connectors"},"next":{"title":"Actualizaci\xf3n","permalink":"/es/logto-oss/upgrading-oss-version"}}');var r=n(25105),s=n(79621);const i={sidebar_position:3},c="Gu\xeda paso a paso para desarrollar un conector social",t={},l=[{value:"Paso 1: Clonar un paquete de conector existente",id:"step-1-clone-an-existing-connector-package",level:2},{value:"Paso 2: Modificar el archivo de entrada principal (index.ts)",id:"step-2-modify-the-main-entry-file-indexts",level:2},{value:"Paso 3: Probar el conector",id:"step-3-test-the-connector",level:2},{value:"Prueba unitaria",id:"unit-test",level:3},{value:"Prueba local",id:"local-test",level:3}];function d(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components},{CloudLink:n}=o;return n||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"gu\xeda-paso-a-paso-para-desarrollar-un-conector-social",children:"Gu\xeda paso a paso para desarrollar un conector social"})}),"\n",(0,r.jsx)(o.p,{children:"La forma m\xe1s r\xe1pida de comenzar es copiar el c\xf3digo de un conector oficial existente y modificarlo para que se ajuste a tus necesidades. Tomemos el conector de GitHub como ejemplo."}),"\n",(0,r.jsx)(o.h2,{id:"step-1-clone-an-existing-connector-package",children:"Paso 1: Clonar un paquete de conector existente"}),"\n",(0,r.jsx)(o.p,{children:"En una carpeta de origen del conector, encontrar\xe1s los siguientes archivos:"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"index.ts"}),": El archivo de entrada principal del conector."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"constant.ts"}),": Las constantes utilizadas en el conector."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"types.ts"}),": Los tipos de TypeScript utilizados en el conector."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"index.test.ts"}),": Los casos de prueba para el conector."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"mock.ts"}),": Los datos simulados utilizados en los casos de prueba del conector."]}),"\n"]}),"\n",(0,r.jsxs)(o.p,{children:["Adem\xe1s de estos archivos, tambi\xe9n necesitar\xe1s proporcionar un archivo ",(0,r.jsx)(o.code,{children:"README.md"})," para describir el conector, un ",(0,r.jsx)(o.code,{children:"logo.svg"})," (opcionalmente un ",(0,r.jsx)(o.code,{children:"logo-dark.svg"})," para una mejor experiencia de usuario en modo oscuro), y un archivo ",(0,r.jsx)(o.code,{children:"package.json"})," para definir la informaci\xf3n del paquete npm."]}),"\n",(0,r.jsx)(o.h2,{id:"step-2-modify-the-main-entry-file-indexts",children:"Paso 2: Modificar el archivo de entrada principal (index.ts)"}),"\n",(0,r.jsxs)(o.p,{children:["En el archivo ",(0,r.jsx)(o.code,{children:"index.ts"}),", encontrar\xe1s la mayor parte de la l\xf3gica del conector. Normalmente hay 4 funciones que necesitas implementar:"]}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"getAuthorizationUri"}),": Generar el URI de autorizaci\xf3n para la plataforma social de terceros. Para GitHub, ser\xeda: ",(0,r.jsx)(o.code,{children:"https://github.com/login/oauth/authorize?client_id={clientId}&redirect_uri={redirectUri}&state={state}"}),". Consulta la documentaci\xf3n para desarrolladores de tu plataforma social objetivo para obtener el URI correcto."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"authorizationCallbackHandler"}),": Proteger los valores de los par\xe1metros devueltos en el URI de devoluci\xf3n de llamada de autorizaci\xf3n, extraer el ",(0,r.jsx)(o.code,{children:"code"})," de autorizaci\xf3n y manejar posibles errores."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"getAccessToken"}),": Intercambiar el ",(0,r.jsx)(o.code,{children:"code"})," de autorizaci\xf3n por un token de acceso."]}),"\n",(0,r.jsxs)(o.li,{children:[(0,r.jsx)(o.code,{children:"getUserInfo"}),": Obtener informaci\xf3n del usuario de la plataforma social de terceros con el token de acceso."]}),"\n"]}),"\n",(0,r.jsx)(o.p,{children:"La mayor\xeda de las otras l\xf3gicas comunes han sido manejadas en el kit de conectores de Logto, lo que deber\xeda facilitar tu trabajo."}),"\n",(0,r.jsx)(o.p,{children:"Finalmente, al final del archivo, solo necesitar\xe1s exportar el objeto del conector, siguiendo la misma estructura de c\xf3digo que el conector de GitHub."}),"\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-tsx",children:"const createGithubConnector: CreateConnector<SocialConnector> = async ({ getConfig }) => {\n  return {\n    metadata: defaultMetadata,\n    type: ConnectorType.Social,\n    configGuard: githubConfigGuard,\n    getAuthorizationUri: getAuthorizationUri(getConfig),\n    getUserInfo: getUserInfo(getConfig),\n  };\n};\n"})}),"\n",(0,r.jsx)(o.h2,{id:"step-3-test-the-connector",children:"Paso 3: Probar el conector"}),"\n",(0,r.jsx)(o.h3,{id:"unit-test",children:"Prueba unitaria"}),"\n",(0,r.jsx)(o.p,{children:"Primero, escribe algunos casos de prueba unitaria y aseg\xfarate de que las funcionalidades b\xe1sicas funcionen como se espera."}),"\n",(0,r.jsx)(o.h3,{id:"local-test",children:"Prueba local"}),"\n",(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Configura Logto en tu entorno local: Logto proporciona varias formas de ejecutarse localmente, puedes usar CLI, o docker, o incluso construir desde el c\xf3digo fuente. Consulta la documentaci\xf3n para ",(0,r.jsx)(o.a,{href:"/logto-oss/using-cli/install-logto/",children:"m\xe1s detalles"}),"."]}),"\n",(0,r.jsxs)(o.li,{children:["Vincula tu conector personalizado a tu instancia de Logto: Usa el CLI para crear un enlace simb\xf3lico de tu conector a la instancia de Logto. ",(0,r.jsx)(o.a,{href:"/logto-oss/using-cli/manage-connectors/#link-local-connectors",children:"M\xe1s detalles"}),".","\n",(0,r.jsx)(o.pre,{children:(0,r.jsx)(o.code,{className:"language-bash",children:"cd logto\nnpx @logto/cli connector link -p .\n"})}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["Despu\xe9s de vincular el conector, deber\xedas verlo en la carpeta ",(0,r.jsx)(o.code,{children:"<logto-root-path>/packages/core/connectors"}),"."]}),"\n",(0,r.jsx)(o.li,{children:"Reinicia tu instancia de Logto, ve a la Consola de Administraci\xf3n de Logto, deber\xedas poder verlo en la lista de conectores sociales."}),"\n",(0,r.jsxs)(o.li,{children:["Configura tu conector en ",(0,r.jsx)(n,{to:"/sign-in-experience/sign-up-and-sign-in",children:"Consola > Experiencia de inicio de sesi\xf3n > Registro e inicio de sesi\xf3n"}),' > Inicio de sesi\xf3n social. Y pru\xe9balo en nuestra aplicaci\xf3n de demostraci\xf3n con la funci\xf3n "Vista previa en vivo".']}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},79621:(e,o,n)=>{n.d(o,{R:()=>i,x:()=>c});var a=n(58101);const r={},s=a.createContext(r);function i(e){const o=a.useContext(s);return a.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(s.Provider,{value:o},e.children)}}}]);