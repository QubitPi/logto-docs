"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[83857],{74823:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>c,contentTitle:()=>t,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"authorization/api-resources/README","title":"Recursos de API","description":"Los recursos de API, tambi\xe9n conocidos como Indicadores de Recursos, indican los servicios o recursos objetivo a solicitar, generalmente, una variable en formato URI que representa la identidad del recurso. Este es un concepto clave en el sistema de autorizaci\xf3n de Logto, ya que define el punto final que la pol\xedtica de autorizaci\xf3n est\xe1 dise\xf1ada para proteger.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/authorization/api-resources/README.mdx","sourceDirName":"authorization/api-resources","slug":"/authorization/api-resources/","permalink":"/es/authorization/api-resources/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/authorization/api-resources/README.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Autorizaci\xf3n","permalink":"/es/authorization/"},"next":{"title":"Protege tu API","permalink":"/es/authorization/api-resources/protect-your-api"}}');var n=r(25105),i=r(79621);const a={sidebar_position:1},t="Recursos de API",c={},d=[{value:"Indicador de recurso",id:"resource-indicator",level:2},{value:"Esquema de recurso de API de Logto",id:"logto-api-resource-schema",level:2},{value:"API por defecto",id:"default-api",level:2},{value:"Registrar los recursos de API en Logto",id:"register-the-api-resources-in-logto",level:2},{value:"Recursos relacionados",id:"related-resources",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{CloudLink:r,Url:s}=o;return r||p("CloudLink",!0),s||p("Url",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"recursos-de-api",children:"Recursos de API"})}),"\n",(0,n.jsxs)(o.p,{children:["Los recursos de API, tambi\xe9n conocidos como ",(0,n.jsx)(o.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Indicadores de Recursos"}),", indican los servicios o recursos objetivo a solicitar, generalmente, una variable en formato URI que representa la identidad del recurso. Este es un concepto clave en el sistema de autorizaci\xf3n de Logto, ya que define el punto final que la pol\xedtica de autorizaci\xf3n est\xe1 dise\xf1ada para proteger."]}),"\n",(0,n.jsx)(o.h2,{id:"resource-indicator",children:"Indicador de recurso"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsx)(o.li,{children:"Un valor de recurso indica el servicio o recurso objetivo al que se solicita acceso."}),"\n",(0,n.jsxs)(o.li,{children:["Su valor ",(0,n.jsx)(o.strong,{children:"DEBE"})," ser un URI absoluto."]}),"\n",(0,n.jsxs)(o.li,{children:["El URI ",(0,n.jsx)(o.strong,{children:"NO DEBE"})," incluir un componente de fragmento."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"NO DEBER\xcdA"})," incluir un componente de consulta."]}),"\n",(0,n.jsxs)(o.li,{children:[(0,n.jsx)(o.strong,{children:"DEBER\xcdAS"})," proporcionar el URI m\xe1s espec\xedfico posible para la API completa o el conjunto de recursos que pretende acceder."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"En la pr\xe1ctica, un cliente puede conocer un URI base o la aplicaci\xf3n o recurso con el que interactuar. Ser\xeda apropiado usarlo como el valor del par\xe1metro de recurso."}),"\n",(0,n.jsx)(o.p,{children:"Por ejemplo, el URI base de Logto Management API."}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{children:"https://tenantId.logto.app/api\n"})}),"\n",(0,n.jsxs)(o.p,{children:["Por defecto, este recurso de API est\xe1 pre-registrado en tu servicio Logto. Todas las ",(0,n.jsx)(o.a,{href:"https://openapi.logto.io/",children:"Management API"})," bajo este URI est\xe1n protegidas por Logto."]}),"\n",(0,n.jsx)(o.h2,{id:"logto-api-resource-schema",children:"Esquema de recurso de API de Logto"}),"\n",(0,n.jsxs)(o.table,{children:[(0,n.jsx)(o.thead,{children:(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.th,{children:(0,n.jsx)(o.strong,{children:"Nombre de la propiedad"})}),(0,n.jsx)(o.th,{children:(0,n.jsx)(o.strong,{children:"Descripci\xf3n de la propiedad"})}),(0,n.jsx)(o.th,{children:(0,n.jsx)(o.strong,{children:"Requerido"})})]})}),(0,n.jsxs)(o.tbody,{children:[(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Nombre de la API"}),(0,n.jsx)(o.td,{children:"Un nombre amigable para el usuario que puede ayudarte a identificar el recurso de API."}),(0,n.jsx)(o.td,{children:"true"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Identificador de la API"}),(0,n.jsxs)(o.td,{children:["El valor \xfanico del ",(0,n.jsx)(o.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Indicador de Recurso"})," de la API, con las restricciones listadas arriba."]}),(0,n.jsx)(o.td,{})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Logto lo usar\xe1 para identificar el recurso de API solicitado y otorgar los tokens de autorizaci\xf3n en consecuencia."}),(0,n.jsx)(o.td,{children:"true"}),(0,n.jsx)(o.td,{})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsxs)(o.td,{children:["Tiempo de expiraci\xf3n del token ",(0,n.jsx)(o.em,{children:"(en segundos)"})]}),(0,n.jsxs)(o.td,{children:["El tiempo de expiraci\xf3n establecido para el ",(0,n.jsx)(o.code,{children:"token de acceso"}),". El valor de expiraci\xf3n por defecto es ",(0,n.jsx)(o.strong,{children:"3600"}),"."]}),(0,n.jsx)(o.td,{children:"false"})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"API por defecto"}),(0,n.jsx)(o.td,{children:"Solo se puede establecer cero o una API por defecto por inquilino."}),(0,n.jsx)(o.td,{})]}),(0,n.jsxs)(o.tr,{children:[(0,n.jsx)(o.td,{children:"Cuando se designa una API por defecto, el par\xe1metro de recurso puede omitirse en la solicitud de autenticaci\xf3n. Los intercambios de tokens subsiguientes usar\xe1n esa API como la audiencia por defecto, resultando en la emisi\xf3n de JWTs."}),(0,n.jsx)(o.td,{children:"false"}),(0,n.jsx)(o.td,{})]})]})]}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsxs)(o.p,{children:["Las solicitudes con un ",(0,n.jsx)(o.code,{children:"token de acceso"})," expirado deben ser restringidas. Esto se implementa para proteger tu API de un token abusado. Cuanto mayor sea el valor establecido, m\xe1s tiempo sobrevivir\xe1 un ",(0,n.jsx)(o.code,{children:"token de acceso"})," emitido, y m\xe1s vulnerable ser\xe1 tu API."]})}),"\n",(0,n.jsx)(o.h2,{id:"default-api",children:"API por defecto"}),"\n",(0,n.jsx)(o.admonition,{type:"note",children:(0,n.jsx)(o.p,{children:"Esta caracter\xedstica est\xe1 destinada principalmente para aplicaciones que NO soportan indicadores de recursos OIDC, por ejemplo, plugins de ChatGPT."})}),"\n",(0,n.jsxs)(o.p,{children:["Logto aprovecha ",(0,n.jsx)(o.a,{href:"https://www.rfc-editor.org/rfc/rfc8707",children:"RFC 8707: Indicadores de Recursos para OAuth 2.0"})," para implementar el control de acceso basado en roles (RBAC). Aunque es una de las caracter\xedsticas de OAuth 2.0, a\xfan no est\xe1 ampliamente soportada."]}),"\n",(0,n.jsxs)(o.p,{children:["En la implementaci\xf3n de Logto, cada permiso (alcance) definido por el usuario debe estar asociado con un Recurso de API. De lo contrario, se tratar\xe1 como un permiso de OpenID Connect (o OAuth). Generalmente, esto no afecta tu proceso de autorizaci\xf3n. Sin embargo, al integrarse con aplicaciones de terceros que carecen de soporte para ",(0,n.jsx)(o.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707"})," (por ejemplo, plugins de ChatGPT), puede presentar desaf\xedos ya que la solicitud de autorizaci\xf3n inicial puede no incluir un par\xe1metro ",(0,n.jsx)(o.code,{children:"resource"}),". En consecuencia, Logto siempre emitir\xe1 Tokens de Acceso Opacos."]}),"\n",(0,n.jsx)(o.p,{children:"Para abordar este problema, puedes designar un Recurso de API como el recurso por defecto a nivel de inquilino. Una vez hecho esto:"}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Logto usar\xe1 el Recurso de API por defecto cuando no haya un par\xe1metro ",(0,n.jsx)(o.code,{children:"resource"})," presente en la ",(0,n.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest",children:"Solicitud de Autenticaci\xf3n"}),"."]}),"\n",(0,n.jsxs)(o.li,{children:["Si se incluye el alcance ",(0,n.jsx)(o.code,{children:"openid"}),", se emitir\xe1 un Token de Acceso Opaco para el ",(0,n.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"Punto final de informaci\xf3n del usuario"})," cuando no haya un par\xe1metro ",(0,n.jsx)(o.code,{children:"resource"})," presente en las ",(0,n.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest",children:"Solicitudes de Token"})," subsiguientes."]}),"\n",(0,n.jsxs)(o.li,{children:["Si no se incluye el alcance ",(0,n.jsx)(o.code,{children:"openid"}),", se emitir\xe1 un Token de Acceso JWT para el Recurso de API por defecto cuando no haya un par\xe1metro ",(0,n.jsx)(o.code,{children:"resource"})," presente en las ",(0,n.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest",children:"Solicitudes de Token"})," subsiguientes."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"Al designar un Recurso de API por defecto, puedes asegurar una integraci\xf3n fluida con aplicaciones que carecen de soporte para RFC 8707 mientras mantienes los controles de acceso apropiados."}),"\n",(0,n.jsx)(o.h2,{id:"register-the-api-resources-in-logto",children:"Registrar los recursos de API en Logto"}),"\n",(0,n.jsxs)(o.p,{children:["Para obtener un ",(0,n.jsx)(o.code,{children:"token de acceso"})," restringido por audiencia de Logto, primero, registra tus APIs de backend para habilitar los tokens de acceso restringidos por audiencia de Logto. Cuando se recibe una solicitud de autorizaci\xf3n, Logto identificar\xe1 los recursos de API registrados y otorgar\xe1 acceso en consecuencia."]}),"\n",(0,n.jsxs)(o.p,{children:["Para registrar tus APIs, navega a ",(0,n.jsx)(r,{to:"/api-resources",children:"Consola > Recursos de API"}),". Ver\xe1s un recurso incorporado con el identificador de API mostrado como ",(0,n.jsx)(o.code,{children:"https://[your-tenant-id].logto.app/api"}),". Este recurso abarca todas las Management APIs de Logto y asegura que est\xe9n protegidas y accesibles solo para usuarios autorizados de Logto."]}),"\n",(0,n.jsxs)(o.p,{children:["Haz clic en el bot\xf3n ",(0,n.jsx)(o.strong,{children:"Crear recurso de API"})," y sigue el formulario interactivo para crear tus propios recursos de API:"]}),"\n",(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Un ",(0,n.jsx)(o.strong,{children:"nombre de API"})," legible que pueda ayudarte mejor a identificar esta entidad."]}),"\n",(0,n.jsxs)(o.li,{children:["Un ",(0,n.jsx)(o.strong,{children:"identificador de API"})," \xfanico en formato URI. Representa la identidad del recurso de API."]}),"\n"]}),"\n",(0,n.jsx)(o.p,{children:"La nueva API aparecer\xe1 en la lista una vez creada. Puedes gestionarla o eliminarla en la p\xe1gina de detalles de la API haciendo clic en la entidad."}),"\n",(0,n.jsx)(o.h2,{id:"related-resources",children:"Recursos relacionados"}),"\n",(0,n.jsx)(s,{href:"https://blog.logto.io/opaque-token-vs-jwt",children:"Token opaco vs JWT"}),"\n",(0,n.jsx)(s,{href:"https://blog.logto.io/when-should-i-use-jwts",children:"\xbfCu\xe1ndo deber\xeda usar JWTs?"}),"\n",(0,n.jsx)(s,{href:"https://blog.logto.io/api-authorization-methods",children:"M\xe9todos de autorizaci\xf3n de API"})]})}function u(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}function p(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,o,r)=>{r.d(o,{R:()=>a,x:()=>t});var s=r(58101);const n={},i=s.createContext(n);function a(e){const o=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),s.createElement(i.Provider,{value:o},e.children)}}}]);