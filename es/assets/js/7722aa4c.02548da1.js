"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[3504],{13933:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>u,contentTitle:()=>t,default:()=>j,frontMatter:()=>d,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"authorization/role-based-access-control","title":"Control de acceso basado en roles (RBAC) (Role-based access control (RBAC))","description":"El control de acceso basado en roles (RBAC) es un modelo de autorizaci\xf3n probado que mapea acciones empresariales del mundo real a roles y permisos. Esta gu\xeda cubre c\xf3mo funciona RBAC en Logto, patrones de dise\xf1o pr\xe1cticos y mejores pr\xe1cticas para construir aplicaciones SaaS seguras y escalables.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","sourceDirName":"authorization","slug":"/authorization/role-based-access-control","permalink":"/es/authorization/role-based-access-control","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Autorizaci\xf3n (Authorization)","permalink":"/es/authorization/"},"next":{"title":"Plantilla de organizaci\xf3n","permalink":"/es/authorization/organization-template"}}');var o=s(25105),r=s(79621),a=s(46643),l=s(1242),c=s(93855);const d={sidebar_position:1},t="Control de acceso basado en roles (RBAC) (Role-based access control (RBAC))",u={},p=[{value:"\xbfQu\xe9 es RBAC?",id:"what-is-rbac",level:2},{value:"Recursos de API",id:"api-resources",level:3},{value:"Comportamiento del recurso de API predeterminado",id:"default-api-resource-behavior",level:4},{value:"RBAC en Logto",id:"rbac-in-logto",level:2},{value:"Modelo 1: Recursos de API globales",id:"model-1-global-api-resources",level:3},{value:"Modelo 2: Permisos de organizaci\xf3n (no API)",id:"model-2-organization-non-api-permissions",level:3},{value:"Modelo 3: Recursos de API a nivel de organizaci\xf3n",id:"model-3-organization-level-api-resources",level:3},{value:"Dise\xf1a e implementa un modelo de permisos",id:"design-and-implement-a-permission-model",level:2},{value:"Definir recursos de API con permisos",id:"define-api-resources-with-permissions",level:3},{value:"Registrar recursos de API con permisos en la Consola Logto",id:"register-api-resources-with-permissions-in-logto-console",level:4},{value:"Consejos",id:"tips",level:4},{value:"Definir permisos de organizaci\xf3n",id:"define-organization-permissions",level:3},{value:"Registrar permisos de organizaci\xf3n en la Consola Logto",id:"register-organization-permissions-in-logto-console",level:4},{value:"Consejos",id:"tips",level:4},{value:"Configurar roles globales",id:"configure-global-roles",level:3},{value:"Crear roles globales en la Consola Logto",id:"create-global-roles-in-logto-console",level:4},{value:"Asignar usuarios o aplicaciones M2M a roles globales",id:"assign-users-or-m2m-apps-to-global-roles",level:4},{value:"Roles globales predeterminados",id:"default-global-roles",level:4},{value:"Configurar roles de organizaci\xf3n",id:"configure-organization-roles",level:3},{value:"Crear roles de organizaci\xf3n en la Consola Logto",id:"create-organization-roles-in-logto-console",level:4},{value:"Asignar usuarios o aplicaciones M2M a roles de organizaci\xf3n",id:"assign-users-or-m2m-apps-to-organization-roles",level:4},{value:"Aprovisionamiento Just-in-time (JIT)",id:"just-in-time-jit-provisioning",level:4},{value:"Aplicar autorizaci\xf3n en tu backend o API",id:"enforcing-authorization-in-your-backend-or-api",level:3},{value:"Integra el RBAC de Logto con tu aplicaci\xf3n",id:"integrate-logto-rbac-with-your-application",level:3},{value:"Escenarios avanzados",id:"advanced-scenarios",level:2},{value:"Mejores pr\xe1cticas y errores comunes",id:"best-practices-common-pitfalls",level:2},{value:"Preguntas frecuentes",id:"faqs",level:2},{value:"\xbfC\xf3mo actualizo roles o permisos en todas las organizaciones?",id:"how-do-i-update-roles-or-permissions-across-all-organizations",level:3},{value:"\xbfPuedo cambiar roles/permisos din\xe1micamente?",id:"can-i-change-roles-permissions-dynamically",level:3},{value:"\xbfQu\xe9 sucede si elimino un permiso de un rol?",id:"what-happens-if-i-remove-a-permission-from-a-role",level:3},{value:"\xbfC\xf3mo puedo auditar qui\xe9n tiene qu\xe9 rol?",id:"how-can-i-audit-who-has-what-role",level:3},{value:"\xbfSe pueden asignar roles y permisos v\xeda API?",id:"can-roles-and-permissions-be-assigned-via-api",level:3},{value:"Lecturas adicionales",id:"further-reading",level:2}];function h(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components},{CloudLink:s,Details:i,Url:d}=n;return s||g("CloudLink",!0),i||g("Details",!0),d||g("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"control-de-acceso-basado-en-roles-rbac-role-based-access-control-rbac",children:"Control de acceso basado en roles (RBAC) (Role-based access control (RBAC))"})}),"\n",(0,o.jsxs)(n.p,{children:["El ",(0,o.jsx)(n.a,{href:"https://auth.wiki/rbac",children:"control de acceso basado en roles (RBAC)"})," es un modelo de autorizaci\xf3n probado que mapea acciones empresariales del mundo real a roles y permisos. Esta gu\xeda cubre c\xf3mo funciona RBAC en Logto, patrones de dise\xf1o pr\xe1cticos y mejores pr\xe1cticas para construir aplicaciones SaaS seguras y escalables."]}),"\n",(0,o.jsx)(n.h2,{id:"what-is-rbac",children:"\xbfQu\xe9 es RBAC?"}),"\n",(0,o.jsxs)(n.p,{children:["RBAC te permite gestionar ",(0,o.jsx)(n.strong,{children:"qui\xe9n"})," puede hacer ",(0,o.jsx)(n.strong,{children:"qu\xe9"})," en tu aplicaci\xf3n agrupando permisos en roles. Los usuarios y clientes reciben uno o m\xe1s roles, que otorgan los permisos necesarios para acceder a funciones, APIs o datos."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Conceptos clave"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rol (Role):"})," Un conjunto nombrado de permisos (por ejemplo, ",(0,o.jsx)(n.code,{children:"admin"}),", ",(0,o.jsx)(n.code,{children:"viewer"}),", ",(0,o.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Permiso (Permission):"})," Una acci\xf3n o derecho (por ejemplo, ",(0,o.jsx)(n.code,{children:"manage:members"}),", ",(0,o.jsx)(n.code,{children:"view:analytics"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Alcance (Scope):"})," Sin\xf3nimo de permiso, com\xfanmente usado en contextos de OAuth 2.0."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Recurso de API (API resource):"})," Una API, endpoint o servicio al que se aplican permisos."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usuario/Cliente (User/Client):"})," La entidad a la que se asignan roles (usuarios finales o aplicaciones m\xe1quina a m\xe1quina (M2M))."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["En Logto (y OAuth 2.1), ",(0,o.jsx)(n.strong,{children:"\u201cpermisos\u201d y \u201calcances\u201d se refieren al mismo concepto"})," y se usan indistintamente a lo largo de esta documentaci\xf3n."]})}),"\n",(0,o.jsx)(n.h3,{id:"api-resources",children:"Recursos de API"}),"\n",(0,o.jsxs)(n.p,{children:["Un ",(0,o.jsx)(n.strong,{children:"recurso de API"})," es cualquier endpoint o servicio protegido en tu aplicaci\xf3n\u2014como una API REST, endpoint GraphQL u otro servicio backend que requiera autorizaci\xf3n."]}),"\n",(0,o.jsxs)(n.p,{children:["Logto modela los recursos de API siguiendo ",(0,o.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707",children:"RFC 8707: Indicadores de recurso para OAuth 2.0"}),".",(0,o.jsx)(n.br,{}),"\n","Cada recurso de API se identifica de manera \xfanica mediante un ",(0,o.jsx)(n.strong,{children:"indicador de recurso"})," (un URI), que se utiliza para delimitar los tokens de acceso y hacer cumplir las restricciones de audiencia."]}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Nombre de propiedad"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Descripci\xf3n"})}),(0,o.jsx)(n.th,{children:(0,o.jsx)(n.strong,{children:"Obligatorio"})})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Nombre de API"}),(0,o.jsx)(n.td,{children:"Un nombre f\xe1cil de entender para identificar el recurso de API en la Consola y los registros."}),(0,o.jsx)(n.td,{children:"S\xed"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Identificador de API"}),(0,o.jsxs)(n.td,{children:["El URI \xfanico ",(0,o.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"indicador de recurso"})," que representa el recurso de API."]}),(0,o.jsx)(n.td,{children:"S\xed"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Tiempo de expiraci\xf3n del token"}),(0,o.jsxs)(n.td,{children:["El tiempo de vida de los tokens de acceso emitidos para esta API (en segundos). El valor predeterminado es ",(0,o.jsx)(n.strong,{children:"3600"})," (1 hora)."]}),(0,o.jsx)(n.td,{children:"No"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"API predeterminada"}),(0,o.jsxs)(n.td,{children:["Solo un recurso de API puede establecerse como predeterminado por inquilino Logto. Cuando se establece, el par\xe1metro ",(0,o.jsx)(n.code,{children:"resource"})," puede omitirse en las solicitudes de autenticaci\xf3n."]}),(0,o.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Cuando se designa un recurso de API predeterminado, Logto lo usar\xe1 como la audiencia para los tokens cuando el par\xe1metro ",(0,o.jsx)(n.code,{children:"resource"})," se omita en las solicitudes de autenticaci\xf3n."]})}),"\n",(0,o.jsx)(n.h4,{id:"default-api-resource-behavior",children:"Comportamiento del recurso de API predeterminado"}),"\n",(0,o.jsx)(n.p,{children:"En Logto, cada permiso global definido por el usuario (alcance) debe estar vinculado a un recurso de API. De lo contrario, el permiso se trata como un alcance de OpenID Connect (OIDC)."}),"\n",(0,o.jsxs)(n.p,{children:["Esto generalmente no afecta a la mayor\xeda de las integraciones, pero al trabajar con aplicaciones de terceros que ",(0,o.jsx)(n.strong,{children:"no"})," admiten ",(0,o.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707"}),", la solicitud de autorizaci\xf3n inicial puede no incluir un par\xe1metro ",(0,o.jsx)(n.code,{children:"resource"}),". En estos casos, Logto emite ",(0,o.jsx)(n.a,{href:"https://blog.logto.io/opaque-token-vs-jwt#use-cases-in-oidc",children:"tokens de acceso opacos (opaque access tokens)"})," en lugar de JWTs, lo que puede complicar el control de acceso."]}),"\n",(0,o.jsxs)(n.p,{children:["Para resolver esto, puedes establecer un ",(0,o.jsx)(n.strong,{children:"recurso de API predeterminado"})," para tu inquilino:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Cuando falta el par\xe1metro ",(0,o.jsx)(n.code,{children:"resource"})," en la ",(0,o.jsx)(n.a,{href:"https://auth.wiki/authentication-request",children:"Solicitud de autenticaci\xf3n (Authentication request)"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Logto usa el recurso de API predeterminado como la audiencia para los tokens de acceso."}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Si se incluye el alcance ",(0,o.jsx)(n.code,{children:"openid"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Logto emite un token de acceso opaco para el ",(0,o.jsx)(n.a,{href:"https://auth.wiki/userinfo-endpoint",children:"endpoint Userinfo"})," cuando no hay un ",(0,o.jsx)(n.code,{children:"resource"})," presente en la solicitud de token."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsxs)(n.strong,{children:["Si no se incluye el alcance ",(0,o.jsx)(n.code,{children:"openid"}),":"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Logto emite un token de acceso JWT para el recurso de API predeterminado como audiencia."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Establecer un recurso de API predeterminado garantiza una integraci\xf3n m\xe1s fluida con aplicaciones que no admiten RFC 8707, manteniendo controles de acceso seguros y basados en est\xe1ndares."}),"\n",(0,o.jsx)(n.h2,{id:"rbac-in-logto",children:"RBAC en Logto"}),"\n",(0,o.jsxs)(n.p,{children:["Logto proporciona un RBAC flexible tanto a nivel ",(0,o.jsx)(n.strong,{children:"global"})," como de ",(0,o.jsx)(n.strong,{children:"organizaci\xf3n"})," para soportar SaaS multi-inquilino:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Roles globales (Global roles)"})," Asignados en todo el inquilino Logto. Ideal para permisos a nivel de producto, administradores o superusuarios."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Roles de organizaci\xf3n (Organization roles)"})," Asignados dentro de una organizaci\xf3n. Perfectos para acceso espec\xedfico de la organizaci\xf3n, como administradores de espacios de trabajo, miembros de proyectos o grupos personalizados."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Recursos de API (API resources)"})," APIs y funciones registradas que requieren autorizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Permisos (alcances) (Permissions (scopes))"})," Definidos por recurso de API o en la plantilla de organizaci\xf3n.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Los permisos de recursos de API pueden asignarse a roles globales o de organizaci\xf3n."}),"\n",(0,o.jsx)(n.li,{children:"Los permisos de organizaci\xf3n solo pueden asignarse a roles de organizaci\xf3n."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Dependiendo de las necesidades de tu producto, puedes usar estos modelos RBAC por separado o en combinaci\xf3n."}),"\n",(0,o.jsx)(n.p,{children:"A continuaci\xf3n, tres ejemplos ilustrativos con diagramas:"}),"\n",(0,o.jsx)(n.h3,{id:"model-1-global-api-resources",children:"Modelo 1: Recursos de API globales"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Escenario"})}),"\n",(0,o.jsx)(n.p,{children:"Un producto SaaS con APIs compartidas entre todos los usuarios, independientemente de la organizaci\xf3n.\nUsa roles globales para controlar el acceso a los recursos de API a nivel de producto."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama"})}),"\n",(0,o.jsx)("img",{src:a.A,alt:"Global API resources RBAC",style:{maxWidth:"100%"}}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Puntos clave"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usuarios"})," y ",(0,o.jsx)(n.strong,{children:"aplicaciones M2M"})," reciben roles globales (por ejemplo, Gerente de tienda, Agente de servicio)."]}),"\n",(0,o.jsxs)(n.li,{children:["Los roles otorgan permisos (alcances), como ",(0,o.jsx)(n.code,{children:"read:store"}),", ",(0,o.jsx)(n.code,{children:"order:book"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Los permisos est\xe1n vinculados directamente a recursos de API (por ejemplo, ",(0,o.jsx)(n.code,{children:"https://read.shop/stores"}),")."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar"})}),"\n",(0,o.jsx)(n.p,{children:"Cuando el acceso no es espec\xedfico de la organizaci\xf3n o los usuarios/clientes operan en todas las organizaciones."}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Logto no admite permisos que no sean de API a nivel global, ya que est\xe1 reservado para alcances de OpenID Connect (OIDC)."})}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Para una gu\xeda paso a paso de implementaci\xf3n, consulta ",(0,o.jsx)(n.a,{href:"/authorization/global-api-resources",children:"Proteger recursos de API globales"}),"."]})}),"\n",(0,o.jsx)(n.h3,{id:"model-2-organization-non-api-permissions",children:"Modelo 2: Permisos de organizaci\xf3n (no API)"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Escenario"})}),"\n",(0,o.jsx)(n.p,{children:"Controlar funciones o flujos internos de la aplicaci\xf3n que no se aplican a nivel de API (como restringir funciones de la interfaz, paneles o herramientas internas) usando roles y permisos de organizaci\xf3n."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama"})}),"\n",(0,o.jsx)("img",{src:c.A,alt:"Organization permissions RBAC",style:{maxWidth:"800px",width:"100%"}}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Puntos clave"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Cada organizaci\xf3n (A y B) tiene sus propias asignaciones, pero todas las organizaciones comparten un conjunto com\xfan de roles definidos en la ",(0,o.jsx)(n.a,{href:"/authorization/organization-template",children:"plantilla de organizaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usuarios"})," y ",(0,o.jsx)(n.strong,{children:"aplicaciones M2M"})," pueden tener diferentes roles en cada organizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Roles de organizaci\xf3n"})," (por ejemplo, Admin, Miembro) otorgan permisos de organizaci\xf3n como ",(0,o.jsx)(n.code,{children:"invite:member"}),", ",(0,o.jsx)(n.code,{children:"manage:billing"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Los permisos se aplican en la interfaz de la aplicaci\xf3n o la l\xf3gica de negocio, no por el gateway de API."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar"})}),"\n",(0,o.jsx)(n.p,{children:"Cuando quieres gestionar qui\xe9n puede ver o usar funciones dentro de una organizaci\xf3n y no necesitas aplicar controles a nivel de API."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Para una gu\xeda paso a paso de implementaci\xf3n, consulta ",(0,o.jsx)(n.a,{href:"/authorization/organization-permissions",children:"Proteger permisos de organizaci\xf3n (no API)"}),"."]})}),"\n",(0,o.jsx)(n.h3,{id:"model-3-organization-level-api-resources",children:"Modelo 3: Recursos de API a nivel de organizaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Escenario"})}),"\n",(0,o.jsxs)(n.p,{children:["Una plataforma SaaS multi-inquilino donde cada organizaci\xf3n tiene sus propios miembros, datos y roles.\nUsa ",(0,o.jsx)(n.strong,{children:"roles de organizaci\xf3n"})," para otorgar acceso a la API dentro de cada organizaci\xf3n."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Diagrama"})}),"\n",(0,o.jsx)("img",{src:l.A,alt:"Organization-level API resources RBAC",style:{maxWidth:"100%"}}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Puntos clave"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Cada organizaci\xf3n (A y B) tiene sus propias asignaciones, pero todas las organizaciones comparten un conjunto com\xfan de roles definidos en la ",(0,o.jsx)(n.a,{href:"/authorization/organization-template",children:"plantilla de organizaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Usuarios"})," y ",(0,o.jsx)(n.strong,{children:"aplicaciones M2M"})," pueden tener diferentes roles en cada organizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:["Los permisos (alcances), como ",(0,o.jsx)(n.code,{children:"invite:member"}),", ",(0,o.jsx)(n.code,{children:"manage:billing"})," est\xe1n vinculados a recursos de API."]}),"\n",(0,o.jsx)(n.li,{children:"Los permisos se aplican a nivel de API cuando el token de acceso incluye un contexto de organizaci\xf3n."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Cu\xe1ndo usar"})}),"\n",(0,o.jsx)(n.p,{children:"Cuando necesitas controlar el acceso a la API seg\xfan el contexto de la organizaci\xf3n, como permitir que los usuarios gestionen los datos de su propia organizaci\xf3n."}),"\n",(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.p,{children:["Para una gu\xeda paso a paso de implementaci\xf3n, consulta ",(0,o.jsx)(n.a,{href:"/authorization/organization-level-api-resources",children:"Proteger recursos de API a nivel de organizaci\xf3n"}),"."]})}),"\n",(0,o.jsx)(n.h2,{id:"design-and-implement-a-permission-model",children:"Dise\xf1a e implementa un modelo de permisos"}),"\n",(0,o.jsx)(n.p,{children:"Seg\xfan la arquitectura de tu producto y las necesidades de los usuarios, puedes elegir un modelo RBAC adecuado de los ejemplos anteriores. Aqu\xed tienes una tabla resumen para ayudarte a dise\xf1ar e implementar tu modelo de permisos de manera efectiva:"}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Modelo de permisos"}),(0,o.jsx)(n.th,{children:"\xbfDefinir recursos de API con permisos?"}),(0,o.jsx)(n.th,{children:"\xbfDefinir permisos de organizaci\xf3n?"}),(0,o.jsx)(n.th,{children:"\xbfUsar roles globales?"}),(0,o.jsx)(n.th,{children:"\xbfUsar roles de organizaci\xf3n?"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Recursos de API globales"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsx)(n.td,{children:"n/a"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsx)(n.td,{children:"n/a"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Permisos de organizaci\xf3n (no API)"}),(0,o.jsx)(n.td,{children:"n/a"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsx)(n.td,{children:"n/a"}),(0,o.jsx)(n.td,{children:"\u2705"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Recursos de API a nivel de organizaci\xf3n"}),(0,o.jsx)(n.td,{children:"\u2705"}),(0,o.jsx)(n.td,{children:"n/a"}),(0,o.jsx)(n.td,{children:"n/a"}),(0,o.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"define-api-resources-with-permissions",children:"Definir recursos de API con permisos"}),"\n",(0,o.jsxs)(n.p,{children:["Registra tus APIs en la Consola Logto o ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-resources",children:"v\xeda Management API"})," para definir los recursos de API y sus permisos (alcances)."]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"En OAuth 2.0 y OIDC, un \u201crecurso de API\u201d se denomina t\xe9cnicamente indicador de recurso, un URI \xfanico que identifica tu API o servicio protegido."})}),"\n",(0,o.jsx)(n.h4,{id:"register-api-resources-with-permissions-in-logto-console",children:"Registrar recursos de API con permisos en la Consola Logto"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Ve a ",(0,o.jsx)(s,{to:"/api-resources",children:"Consola \u2192 Recursos de API"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear recurso de API"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Proporciona:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nombre de API:"})," Nombre legible para tu API."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Identificador de API:"})," Indicador de recurso de API (por ejemplo, ",(0,o.jsx)(n.code,{children:"https://api.yourapp.com/org"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["En la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"Permisos"}),", haz clic en ",(0,o.jsx)(n.strong,{children:"Crear permiso"})," para crear permisos (alcances) para este recurso de API."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["En la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"General"}),", puedes configurar opcionalmente lo siguiente:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tiempo de expiraci\xf3n del token"}),": Establece cu\xe1nto tiempo ser\xe1n v\xe1lidos los tokens de acceso para este recurso de API. Recomendamos mantenerlo corto (por ejemplo, 1 hora) por seguridad."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"API predeterminada"}),": Designa este recurso de API como predeterminado para la restricci\xf3n de audiencia y emisi\xf3n de tokens si no se especifica ",(0,o.jsx)(n.code,{children:"resource"})," en la solicitud OAuth. Esto es opcional y puede ser \xfatil para clientes que no admiten el par\xe1metro ",(0,o.jsx)(n.code,{children:"resource"})," (por ejemplo, algunas herramientas o plugins de terceros)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"tips",children:"Consejos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Mapea los indicadores de recursos de API a los endpoints reales de la API para proporcionar nombres intuitivos.","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Por ejemplo, ",(0,o.jsx)(n.code,{children:"https://api.example.com/v1/users"}),"."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Usa nombres claros y basados en acciones (por ejemplo, ",(0,o.jsx)(n.code,{children:"invite:member"}),", ",(0,o.jsx)(n.code,{children:"manage:billing"}),", ",(0,o.jsx)(n.code,{children:"view:analytics"}),").","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Alternativamente, algunos prefieren un prefijo o agrupar por funci\xf3n para mayor claridad (por ejemplo, ",(0,o.jsx)(n.code,{children:"billing:read"}),", ",(0,o.jsx)(n.code,{children:"billing:manage"}),")."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.li,{children:"Mant\xe9n los permisos orientados al negocio, no solo a endpoints t\xe9cnicos."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ejemplo"})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Indicador de recurso de API"}),(0,o.jsx)(n.th,{children:"Permiso"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://api.example.com/users"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"invite:user"})}),(0,o.jsx)(n.td,{children:"Invitar nuevos usuarios"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://api.example.com/users"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"manage:user"})}),(0,o.jsx)(n.td,{children:"Actualizar o eliminar usuarios"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://api.example.com/billing"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"view:billing"})}),(0,o.jsx)(n.td,{children:"Ver detalles de facturaci\xf3n"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"https://api.example.com/billing"})}),(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"manage:billing"})}),(0,o.jsx)(n.td,{children:"Editar configuraci\xf3n de facturaci\xf3n"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"define-organization-permissions",children:"Definir permisos de organizaci\xf3n"}),"\n",(0,o.jsxs)(n.p,{children:["Registra permisos de organizaci\xf3n en la Consola Logto o ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organization-scopes",children:"v\xeda Management API"})," para definir permisos que se aplican dentro de cada organizaci\xf3n. Los permisos de organizaci\xf3n se definen en la ",(0,o.jsx)(n.a,{href:"/authorization/organization-template",children:"plantilla de organizaci\xf3n"}),"."]}),"\n",(0,o.jsx)(n.h4,{id:"register-organization-permissions-in-logto-console",children:"Registrar permisos de organizaci\xf3n en la Consola Logto"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Ve a ",(0,o.jsx)(s,{to:"/organization-template/organization-permissions",children:"Consola \u2192 Plantilla de organizaci\xf3n \u2192 Permisos de organizaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear permiso de organizaci\xf3n"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Proporciona:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nombre del permiso:"})," Un nombre claro y basado en acci\xf3n para el permiso (por ejemplo, ",(0,o.jsx)(n.code,{children:"invite:member"}),", ",(0,o.jsx)(n.code,{children:"manage:billing"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Descripci\xf3n:"}),' Una breve descripci\xf3n de lo que permite el permiso (por ejemplo, "Invitar nuevos miembros a la organizaci\xf3n").']}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear permiso"})," para guardar."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"tips",children:"Consejos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Usa nombres claros y basados en acciones (por ejemplo, ",(0,o.jsx)(n.code,{children:"invite:member"}),", ",(0,o.jsx)(n.code,{children:"manage:billing"}),")."]}),"\n",(0,o.jsx)(n.li,{children:"Mant\xe9n los permisos de organizaci\xf3n distintos de los permisos de API para evitar confusiones."}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Ejemplo"})}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Permiso de organizaci\xf3n"}),(0,o.jsx)(n.th,{children:"Descripci\xf3n"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"invite:member"})}),(0,o.jsx)(n.td,{children:"Invitar nuevos miembros a la organizaci\xf3n"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"manage:billing"})}),(0,o.jsx)(n.td,{children:"Editar configuraci\xf3n de facturaci\xf3n para la organizaci\xf3n"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"configure-global-roles",children:"Configurar roles globales"}),"\n",(0,o.jsxs)(n.p,{children:["Crea y configura roles globales en la Consola Logto o ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-roles",children:"v\xeda Management API"})," para agrupar permisos que se aplican en todo el inquilino Logto."]}),"\n",(0,o.jsx)(n.p,{children:"Un rol global puede ser uno de los siguientes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rol de usuario:"})," Asignado a usuarios finales, otorgando permisos para acceder a APIs y funciones."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rol m\xe1quina a m\xe1quina (M2M):"})," Asignado a aplicaciones M2M, otorgando permisos para acceder a APIs y funciones, incluyendo Logto Management API."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Ten en cuenta que estos dos tipos de roles no pueden mezclarse ni actualizarse despu\xe9s de su creaci\xf3n. Asigna usuarios o aplicaciones M2M al rol, seg\xfan su tipo."})}),"\n",(0,o.jsx)(n.h4,{id:"create-global-roles-in-logto-console",children:"Crear roles globales en la Consola Logto"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Ve a ",(0,o.jsx)(s,{to:"/roles",children:"Consola \u2192 Roles"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear rol"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Proporciona:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nombre del rol"}),": Un nombre claro y descriptivo para el rol (por ejemplo, ",(0,o.jsx)(n.code,{children:"admin"}),", ",(0,o.jsx)(n.code,{children:"viewer"}),", ",(0,o.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tipo de rol"}),": Elige entre ",(0,o.jsx)(n.strong,{children:"Usuario"})," o ",(0,o.jsx)(n.strong,{children:"M\xe1quina a m\xe1quina (M2M)"}),". ",(0,o.jsx)(n.strong,{children:"Solo los roles m\xe1quina a m\xe1quina (M2M) pueden vincularse a Logto Management API"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Descripci\xf3n"}),': Una breve descripci\xf3n del prop\xf3sito del rol (por ejemplo, "Rol de administrador con acceso total", "Rol de visualizador solo lectura").']}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Asignar permisos"}),": Selecciona los permisos (alcances) que este rol debe tener de los recursos de API disponibles. Puedes actualizar los permisos m\xe1s adelante seg\xfan sea necesario."]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear rol"})," para guardar."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"assign-users-or-m2m-apps-to-global-roles",children:"Asignar usuarios o aplicaciones M2M a roles globales"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Ve a ",(0,o.jsx)(s,{to:"/roles",children:"Consola \u2192 Roles"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Haz clic en el rol al que deseas asignar usuarios o aplicaciones M2M."}),"\n",(0,o.jsxs)(n.li,{children:["Para ",(0,o.jsx)(n.strong,{children:"roles de usuario"}),", haz clic en la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"Usuarios"}),"; para ",(0,o.jsx)(n.strong,{children:"roles M2M"}),", haz clic en la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"aplicaciones m\xe1quina a m\xe1quina"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Asignar usuarios"})," o ",(0,o.jsx)(n.strong,{children:"Asignar aplicaciones M2M"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Busca los usuarios o aplicaciones M2M que deseas asignar a este rol."}),"\n",(0,o.jsxs)(n.li,{children:["Selecciona los usuarios o aplicaciones M2M y haz clic en ",(0,o.jsx)(n.strong,{children:"Asignar"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"default-global-roles",children:"Roles globales predeterminados"}),"\n",(0,o.jsxs)(n.p,{children:["Puedes establecer uno o m\xe1s roles globales como ",(0,o.jsx)(n.strong,{children:"roles predeterminados"})," para nuevos usuarios. Los roles predeterminados son los roles asignados autom\xe1ticamente cuando se crean los usuarios, ya sea por auto-registro o creados a trav\xe9s de Management API. Puedes habilitar esta opci\xf3n yendo a la pesta\xf1a \u201cGeneral\u201d en la p\xe1gina de detalles bajo ",(0,o.jsx)(s,{to:"/roles",children:"Consola > Roles"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"configure-organization-roles",children:"Configurar roles de organizaci\xf3n"}),"\n",(0,o.jsxs)(n.p,{children:["Crea roles de organizaci\xf3n en la Consola Logto o ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organization-roles",children:"v\xeda Management API"})," para agrupar permisos que se aplican dentro de cada organizaci\xf3n. Los roles de organizaci\xf3n se definen en la ",(0,o.jsx)(n.a,{href:"/authorization/organization-template",children:"plantilla de organizaci\xf3n"}),"."]}),"\n",(0,o.jsx)(n.p,{children:"Un rol de organizaci\xf3n puede ser uno de los siguientes:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rol de usuario:"})," Asignado a usuarios finales dentro de una organizaci\xf3n, otorgando permisos para acceder a APIs y funciones."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Rol m\xe1quina a m\xe1quina (M2M):"})," Asignado a aplicaciones M2M dentro de una organizaci\xf3n, otorgando permisos para acceder a APIs y funciones. Este rol ",(0,o.jsx)(n.strong,{children:"no puede"})," vincularse a Logto Management API ya que es espec\xedfico de la organizaci\xf3n."]}),"\n"]}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Ten en cuenta que estos dos tipos de roles no pueden mezclarse ni actualizarse despu\xe9s de su creaci\xf3n. Asigna usuarios o aplicaciones M2M al rol, seg\xfan su tipo."})}),"\n",(0,o.jsx)(n.h4,{id:"create-organization-roles-in-logto-console",children:"Crear roles de organizaci\xf3n en la Consola Logto"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Ve a ",(0,o.jsx)(s,{to:"/organization-template/organization-roles",children:"Consola \u2192 Plantilla de organizaci\xf3n \u2192 Roles de organizaci\xf3n"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear rol de organizaci\xf3n"}),"."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:"Proporciona:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Nombre del rol"}),": Un nombre claro y descriptivo para el rol (por ejemplo, ",(0,o.jsx)(n.code,{children:"admin"}),", ",(0,o.jsx)(n.code,{children:"member"}),", ",(0,o.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Tipo de rol"}),": Elige entre ",(0,o.jsx)(n.strong,{children:"Usuario"})," o ",(0,o.jsx)(n.strong,{children:"M\xe1quina a m\xe1quina (M2M)"}),". ",(0,o.jsx)(n.strong,{children:"Solo los roles m\xe1quina a m\xe1quina (M2M) pueden vincularse a Logto Management API"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Descripci\xf3n"}),': Una breve descripci\xf3n del prop\xf3sito del rol (por ejemplo, "Rol de administrador con acceso total", "Rol de miembro con acceso b\xe1sico").']}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["Haz clic en ",(0,o.jsx)(n.strong,{children:"Crear rol"})," para guardar."]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsxs)(n.p,{children:["En el modal ",(0,o.jsx)(n.strong,{children:"Asignar permisos"}),", selecciona los permisos de organizaci\xf3n y/o permisos de recursos de API que este rol debe tener. Puedes actualizar los permisos m\xe1s adelante seg\xfan sea necesario."]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"assign-users-or-m2m-apps-to-organization-roles",children:"Asignar usuarios o aplicaciones M2M a roles de organizaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:"Dado que los roles de organizaci\xf3n son espec\xedficos de la organizaci\xf3n, debes asignar usuarios o aplicaciones M2M a roles de organizaci\xf3n dentro del contexto de una organizaci\xf3n."}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Ve a ",(0,o.jsx)(s,{to:"/organizations",children:"Consola \u2192 Organizaciones"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Selecciona la organizaci\xf3n que deseas gestionar."}),"\n",(0,o.jsxs)(n.li,{children:["Para ",(0,o.jsx)(n.strong,{children:"roles de usuario"}),", haz clic en la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"Usuarios"}),"; para ",(0,o.jsx)(n.strong,{children:"roles M2M"}),", haz clic en la pesta\xf1a ",(0,o.jsx)(n.strong,{children:"aplicaciones m\xe1quina a m\xe1quina"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Si el usuario o la aplicaci\xf3n M2M a\xfan no es miembro de la organizaci\xf3n, haz clic en ",(0,o.jsx)(n.strong,{children:"Agregar miembro"})," o ",(0,o.jsx)(n.strong,{children:"Agregar aplicaci\xf3n M2M"})," para a\xf1adirlos a la organizaci\xf3n. Durante este proceso, puedes asignarles uno o m\xe1s roles de organizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:["Si el usuario o la aplicaci\xf3n M2M ya es miembro, haz clic en el men\xfa de tres puntos junto a su nombre y selecciona ",(0,o.jsx)(n.strong,{children:"Editar roles de organizaci\xf3n"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"En el modal que se abre, selecciona y guarda los roles de organizaci\xf3n que deseas asignar al usuario o aplicaci\xf3n M2M."}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"just-in-time-jit-provisioning",children:"Aprovisionamiento Just-in-time (JIT)"}),"\n",(0,o.jsxs)(n.p,{children:["Tambi\xe9n puedes asignar roles de organizaci\xf3n a usuarios o aplicaciones M2M en el momento en que se unen a una organizaci\xf3n. Para ello, consulta ",(0,o.jsx)(n.a,{href:"/organizations/just-in-time-provisioning",children:"aprovisionamiento Just-in-time (JIT)"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"enforcing-authorization-in-your-backend-or-api",children:"Aplicar autorizaci\xf3n en tu backend o API"}),"\n",(0,o.jsxs)(n.p,{children:["Logto emite ",(0,o.jsx)(n.a,{href:"https://auth.wiki/jwt",children:"JSON Web Tokens (JWTs)"})," que contienen los reclamos necesarios para aplicar la autorizaci\xf3n en tu aplicaci\xf3n o API."]}),"\n",(0,o.jsx)(n.p,{children:"Para aplicar la autorizaci\xf3n, tu backend o API debe:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["Requerir que el cliente presente un token de acceso v\xe1lido en el encabezado de la solicitud con el formato ",(0,o.jsx)(n.code,{children:"Authorization: Bearer <token>"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Validar el token de acceso para asegurarse de que fue emitido por Logto, no ha expirado y tiene los permisos (alcances) requeridos para la acci\xf3n solicitada."}),"\n",(0,o.jsx)(n.li,{children:"Responder con un error (por ejemplo, HTTP 401 No autorizado o HTTP 403 Prohibido) si el token falta, es inv\xe1lido o no tiene los permisos requeridos."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Para gu\xedas paso a paso y espec\xedficas por lenguaje, consulta ",(0,o.jsx)(n.a,{href:"/authorization/validate-access-tokens",children:"C\xf3mo validar tokens de acceso"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"integrate-logto-rbac-with-your-application",children:"Integra el RBAC de Logto con tu aplicaci\xf3n"}),"\n",(0,o.jsx)(n.p,{children:"Puedes integrar el RBAC de Logto en tu aplicaci\xf3n usando uno de dos enfoques:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"SDKs de Logto:"})," Usa un ",(0,o.jsx)(n.a,{href:"/quick-starts",children:"SDK de Logto"})," para el manejo integrado de los flujos de autenticaci\xf3n y autorizaci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Librer\xedas est\xe1ndar OAuth 2.0/OIDC:"})," Usa tu librer\xeda preferida de OAuth 2.0 u OpenID Connect para implementar los flujos necesarios."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Una vez integrado, solicita tokens de acceso con los par\xe1metros adecuados para tu modelo RBAC elegido. A\xf1ade el token de acceso al encabezado ",(0,o.jsx)(n.code,{children:"Authorization"})," en tus solicitudes de API para aplicar los permisos."]}),"\n",(0,o.jsx)(n.p,{children:"Consulta las gu\xedas de implementaci\xf3n en las secciones de modelos anteriores para ejemplos paso a paso."}),"\n",(0,o.jsx)(n.h2,{id:"advanced-scenarios",children:"Escenarios avanzados"}),"\n",(0,o.jsx)(n.p,{children:"Explora casos de uso RBAC m\xe1s sofisticados en Logto:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Combinando roles globales y de organizaci\xf3n"}),": Asigna ambos a usuarios/clientes cuando sea necesario; Logto resolver\xe1 seg\xfan el contexto del token solicitado."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"M\xfaltiples aplicaciones"}),": Usa recursos y alcances compartidos para RBAC entre aplicaciones."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Permisos din\xe1micos"}),": Si es necesario, combina RBAC con verificaciones en tiempo de ejecuci\xf3n (por ejemplo, propiedad, atributos) para escenarios avanzados."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Reclamos personalizados en tokens"}),": Usa ",(0,o.jsx)(n.a,{href:"/developers/custom-token-claims",children:"reclamos personalizados"})," para enriquecer los tokens seg\xfan sea necesario."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"best-practices-common-pitfalls",children:"Mejores pr\xe1cticas y errores comunes"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Principio de menor privilegio"}),": Otorga solo los permisos que cada rol necesita."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Evita la proliferaci\xf3n de permisos"}),": Mant\xe9n tu modelo de permisos simple y mantenible."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Revisa y actualiza roles/permisos"}),": Audita regularmente tu modelo RBAC a medida que tu producto evoluciona."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Separaci\xf3n de funciones"}),": Crea roles distintos para acciones sensibles/de administraci\xf3n."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Prueba RBAC en staging"}),": Valida los l\xedmites y escalaciones de permisos."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"faqs",children:"Preguntas frecuentes"}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.h3,{id:"how-do-i-update-roles-or-permissions-across-all-organizations",children:"\xbfC\xf3mo actualizo roles o permisos en todas las organizaciones?"})}),(0,o.jsxs)(n.p,{children:["Actualiza la ",(0,o.jsx)(n.a,{href:"/authorization/organization-template",children:"plantilla de organizaci\xf3n"})," para cambios globales; las organizaciones existentes pueden heredar las actualizaciones."]})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.h3,{id:"can-i-change-roles-permissions-dynamically",children:"\xbfPuedo cambiar roles/permisos din\xe1micamente?"})}),(0,o.jsx)(n.p,{children:"S\xed, los roles y sus permisos pueden actualizarse en cualquier momento."})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.h3,{id:"what-happens-if-i-remove-a-permission-from-a-role",children:"\xbfQu\xe9 sucede si elimino un permiso de un rol?"})}),(0,o.jsx)(n.p,{children:"Los usuarios/clientes con ese rol perder\xe1n el permiso inmediatamente para nuevos tokens."})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.h3,{id:"how-can-i-audit-who-has-what-role",children:"\xbfC\xf3mo puedo auditar qui\xe9n tiene qu\xe9 rol?"})}),(0,o.jsx)(n.p,{children:"Usa la Consola Logto o la API para listar las asignaciones de roles."})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(n.h3,{id:"can-roles-and-permissions-be-assigned-via-api",children:"\xbfSe pueden asignar roles y permisos v\xeda API?"})}),(0,o.jsx)(n.p,{children:"S\xed, tanto la Consola como Management API permiten gestionar roles y asignaciones program\xe1ticamente."})]}),"\n",(0,o.jsx)(n.h2,{id:"further-reading",children:"Lecturas adicionales"}),"\n",(0,o.jsx)(d,{href:"/authorization/organization-template",children:"Plantilla de organizaci\xf3n"}),"\n",(0,o.jsx)(d,{href:"/developers/custom-token-claims",children:"Personalizaci\xf3n de reclamos en tokens"}),"\n",(0,o.jsx)(d,{href:"/authorization/validate-access-tokens",children:"C\xf3mo validar tokens de acceso"}),"\n",(0,o.jsx)(d,{href:"/authorization/global-api-resources",children:"Proteger recursos de API globales"}),"\n",(0,o.jsx)(d,{href:"/authorization/organization-permissions",children:"Proteger permisos de organizaci\xf3n (no API)"}),"\n",(0,o.jsx)(d,{href:"/authorization/organization-level-api-resources",children:(0,o.jsx)(n.p,{children:"Proteger recursos de API a nivel de organizaci\xf3n"})})]})}function j(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(h,{...e})}):h(e)}function g(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},46643:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png"},1242:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/rbac-organization-level-api-resources-9533c281f3ee1cf52aefe821717e1fef.png"},93855:(e,n,s)=>{s.d(n,{A:()=>i});const i=s.p+"assets/images/rbac-organization-permissions-3302be06221b4399f73ddceac8ca17e3.png"},79621:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>l});var i=s(58101);const o={},r=i.createContext(o);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);