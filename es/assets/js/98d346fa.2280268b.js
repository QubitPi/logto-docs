"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[2094],{38063:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(n.p,{children:["Recomendamos leer primero ",(0,r.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Control de acceso basado en roles (RBAC)"})," para entender los conceptos b\xe1sicos de Logto RBAC y c\xf3mo configurar correctamente los recursos de API."]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},86678:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[{value:"Punto de control: Prueba tu aplicaci\xf3n",id:"checkpoint-test-your-application",level:3}];function o(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Punto de control: Prueba tu aplicaci\xf3n"}),"\n",(0,r.jsx)(n.p,{children:"Ahora, puedes probar tu aplicaci\xf3n:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Ejecuta tu aplicaci\xf3n, ver\xe1s el bot\xf3n de inicio de sesi\xf3n."}),"\n",(0,r.jsx)(n.li,{children:"Haz clic en el bot\xf3n de inicio de sesi\xf3n, el SDK iniciar\xe1 el proceso de inicio de sesi\xf3n y te redirigir\xe1 a la p\xe1gina de inicio de sesi\xf3n de Logto."}),"\n",(0,r.jsx)(n.li,{children:"Despu\xe9s de iniciar sesi\xf3n, ser\xe1s redirigido de vuelta a tu aplicaci\xf3n y ver\xe1s el bot\xf3n de cierre de sesi\xf3n."}),"\n",(0,r.jsx)(n.li,{children:"Haz clic en el bot\xf3n de cierre de sesi\xf3n para limpiar el almacenamiento de tokens y cerrar sesi\xf3n."}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},81941:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[{value:"Reclamos que necesitan solicitudes de red",id:"claims-that-need-network-requests",level:3}];function o(e){const n={code:"code",h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,r.jsx)(n.h3,{id:"claims-that-need-network-requests",children:"Reclamos que necesitan solicitudes de red"}),"\n",(0,r.jsxs)(n.p,{children:["Para evitar sobrecargar el Token de ID, algunos reclamos requieren solicitudes de red para ser obtenidos. Por ejemplo, el reclamo ",(0,r.jsx)(n.code,{children:"custom_data"})," no se incluye en el objeto de usuario incluso si se solicita en los alcances. Para acceder a estos reclamos, ",(0,r.jsxs)("span",{children:["method"===e.type&&(0,r.jsxs)(r.Fragment,{children:["puedes usar el m\xe9todo ",(0,r.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,r.jsxs)(r.Fragment,{children:["puedes configurar la opci\xf3n ",(0,r.jsx)("code",{children:e.configOption})]})]}),":"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,r.jsxs)(r.Fragment,{children:["Este m\xe9todo obtendr\xe1 la informaci\xf3n del usuario solicitando al"," ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"}),". Para aprender m\xe1s sobre los alcances y reclamos disponibles, consulta la secci\xf3n de"," ",(0,r.jsx)("a",{href:"#scopes-and-claims",children:"Alcances y reclamos"}),"."]}),"\n","option"===e.type&&(0,r.jsxs)(r.Fragment,{children:["Al configurar ",(0,r.jsx)("code",{children:e.configOption}),", el SDK obtendr\xe1 la informaci\xf3n del usuario solicitando al"," ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"})," ","despu\xe9s de que el usuario haya iniciado sesi\xf3n, y ",(0,r.jsx)("code",{children:e.value??"user.custom_data"})," ","estar\xe1 disponible una vez que la solicitud se complete."]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},95651:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Una vez que hayas configurado los recursos de API, puedes agregarlos al configurar Logto en tu aplicaci\xf3n:"}),"\n",e.configResourcesCode,"\n",(0,r.jsx)(n.p,{children:"Cada recurso de API tiene sus propios permisos (alcances)."}),"\n",(0,r.jsxs)(n.p,{children:["Por ejemplo, el recurso ",(0,r.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," tiene los permisos ",(0,r.jsx)(n.code,{children:"shopping:read"})," y ",(0,r.jsx)(n.code,{children:"shopping:write"}),", y el recurso ",(0,r.jsx)(n.code,{children:"https://store.your-app.com/api"})," tiene los permisos ",(0,r.jsx)(n.code,{children:"store:read"})," y ",(0,r.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Para solicitar estos permisos, puedes agregarlos al configurar Logto en tu aplicaci\xf3n:"}),"\n",e.configResourcesWithScopesCode,"\n",(0,r.jsxs)(n.p,{children:["Puedes notar que los alcances se definen por separado de los recursos de API. Esto se debe a que ",(0,r.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Resource Indicators for OAuth 2.0"})," especifica que los alcances finales para la solicitud ser\xe1n el producto cartesiano de todos los alcances en todos los servicios objetivo."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["As\xed, en el caso anterior, los alcances se pueden simplificar desde la definici\xf3n en Logto, ambos recursos de API pueden tener alcances ",(0,r.jsx)("code",{children:"read"})," y ",(0,r.jsx)("code",{children:"write"})," sin el prefijo. Luego, en la configuraci\xf3n de Logto:"]}),e.configResourcesWithSharedScopesCode,(0,r.jsxs)("p",{children:["Para cada recurso de API, se solicitar\xe1n tanto los alcances ",(0,r.jsx)("code",{children:"read"})," como"," ",(0,r.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Est\xe1 bien solicitar alcances que no est\xe1n definidos en los recursos de API. Por ejemplo, puedes solicitar el alcance ",(0,r.jsx)(n.code,{children:"email"})," incluso si los recursos de API no tienen el alcance ",(0,r.jsx)(n.code,{children:"email"})," disponible. Los alcances no disponibles ser\xe1n ignorados de manera segura."]})}),"\n",(0,r.jsx)(n.p,{children:"Despu\xe9s de un inicio de sesi\xf3n exitoso, Logto emitir\xe1 los alcances apropiados a los recursos de API de acuerdo con los roles del usuario."})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},76094:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Vamos a cambiar a la p\xe1gina de detalles de la aplicaci\xf3n en Logto Console. A\xf1ade un URI de redirecci\xf3n ",(0,r.jsx)("code",{children:e.redirectUri}),' y haz clic en "Guardar cambios".']}),"\n",(0,r.jsx)("img",{alt:"URI de redirecci\xf3n en Logto Console",src:e.figureSrc,width:"600px"})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},25516:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Para obtener el token de acceso para un recurso de API espec\xedfico, puedes usar el m\xe9todo ",(0,r.jsx)("code",{children:e.getAccessTokenApi}),":"]}),"\n",e.getAccessTokenCode,"\n",(0,r.jsx)(n.p,{children:"Este m\xe9todo devolver\xe1 un token de acceso JWT que se puede usar para acceder al recurso de API cuando el usuario tiene permisos relacionados. Si el token de acceso en cach\xe9 actual ha expirado, este m\xe9todo intentar\xe1 autom\xe1ticamente usar un token de actualizaci\xf3n para obtener un nuevo token de acceso."})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},78494:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Si la organizaci\xf3n es nueva para ti, por favor lee ",(0,r.jsx)(n.a,{href:"/organizations",children:"\ud83c\udfe2 Organizaciones (Multi-tenancy)"})," para comenzar."]}),"\n",(0,r.jsxs)(n.p,{children:["Necesitas a\xf1adir el alcance ",(0,r.jsx)("code",{children:e.organizationScope})," al configurar el cliente Logto:"]}),"\n",e.configOrganizationCode,"\n",(0,r.jsx)(n.p,{children:"Una vez que el usuario ha iniciado sesi\xf3n, puedes obtener el token de organizaci\xf3n para el usuario:"}),"\n",e.getOrganizationAccessTokenCode]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},85713:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(n.p,{children:["Es posible que encuentres que falta alguna informaci\xf3n del usuario en el objeto devuelto desde ",(0,r.jsx)("code",{children:e.method}),". Esto se debe a que OAuth 2.0 y OpenID Connect (OIDC) est\xe1n dise\xf1ados para seguir el principio de privilegio m\xednimo (PoLP), y Logto est\xe1 construido sobre estos est\xe1ndares."]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},75846:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const{Url:n}={...(0,s.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{href:"/end-user-flows",children:" Flujos de usuario final: flujos de autenticaci\xf3n, flujos de cuenta y flujos de organizaci\xf3n "}),"\n",(0,r.jsx)(n,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,r.jsx)(n,{href:"/authorization",children:" Autorizaci\xf3n (Authorization) "})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8358:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[{value:"Sobre el inicio de sesi\xf3n basado en redirecci\xf3n",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,s.R)(),...e.components},{Details:i,MainSiteUrl:t}=n;return i||c("Details",!0),t||c("MainSiteUrl",!0),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Sobre el inicio de sesi\xf3n basado en redirecci\xf3n"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Este proceso de autenticaci\xf3n sigue el protocolo ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", y Logto aplica medidas de seguridad estrictas para proteger el inicio de sesi\xf3n del usuario."]}),"\n",(0,r.jsx)(n.li,{children:"Si tienes m\xfaltiples aplicaciones, puedes usar el mismo proveedor de identidad (Logto). Una vez que el usuario inicia sesi\xf3n en una aplicaci\xf3n, Logto completar\xe1 autom\xe1ticamente el proceso de inicio de sesi\xf3n cuando el usuario acceda a otra aplicaci\xf3n."}),"\n"]}),(0,r.jsxs)(n.p,{children:["Para aprender m\xe1s sobre la l\xf3gica y los beneficios del inicio de sesi\xf3n basado en redirecci\xf3n, consulta ",(0,r.jsx)(t,{href:"/concepts/sign-in-experience",children:"Experiencia de inicio de sesi\xf3n de Logto explicada"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},76818:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Aqu\xed est\xe1 la lista de alcances (Scopes) soportados y los reclamos (Claims) correspondientes:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"openid"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sub"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"El identificador \xfanico del usuario"}),(0,r.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"profile"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"El nombre completo del usuario"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"El nombre de usuario del usuario"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"picture"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"URL de la foto de perfil del Usuario Final. Esta URL DEBE referirse a un archivo de imagen (por ejemplo, un archivo de imagen PNG, JPEG o GIF), en lugar de a una p\xe1gina web que contenga una imagen. Ten en cuenta que esta URL DEBER\xcdA referirse espec\xedficamente a una foto de perfil del Usuario Final adecuada para mostrar al describir al Usuario Final, en lugar de una foto arbitraria tomada por el Usuario Final."}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"created_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Momento en que se cre\xf3 el Usuario Final. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"updated_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Momento en que la informaci\xf3n del Usuario Final fue actualizada por \xfaltima vez. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Otros ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reclamos est\xe1ndar"})," incluyen ",(0,r.jsx)(n.code,{children:"family_name"}),", ",(0,r.jsx)(n.code,{children:"given_name"}),", ",(0,r.jsx)(n.code,{children:"middle_name"}),", ",(0,r.jsx)(n.code,{children:"nickname"}),", ",(0,r.jsx)(n.code,{children:"preferred_username"}),", ",(0,r.jsx)(n.code,{children:"profile"}),", ",(0,r.jsx)(n.code,{children:"website"}),", ",(0,r.jsx)(n.code,{children:"gender"}),", ",(0,r.jsx)(n.code,{children:"birthdate"}),", ",(0,r.jsx)(n.code,{children:"zoneinfo"}),", y ",(0,r.jsx)(n.code,{children:"locale"})," tambi\xe9n se incluir\xe1n en el alcance ",(0,r.jsx)(n.code,{children:"profile"})," sin la necesidad de solicitar el endpoint de userinfo. Una diferencia en comparaci\xf3n con los reclamos anteriores es que estos reclamos solo se devolver\xe1n cuando sus valores no est\xe9n vac\xedos, mientras que los reclamos anteriores devolver\xe1n ",(0,r.jsx)(n.code,{children:"null"})," si los valores est\xe1n vac\xedos."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["A diferencia de los reclamos est\xe1ndar, los reclamos ",(0,r.jsx)(n.code,{children:"created_at"})," y ",(0,r.jsx)(n.code,{children:"updated_at"})," utilizan milisegundos en lugar de segundos."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"email"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"La direcci\xf3n de correo electr\xf3nico del usuario"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Si la direcci\xf3n de correo electr\xf3nico ha sido verificada"}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"phone"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"El n\xfamero de tel\xe9fono del usuario"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Si el n\xfamero de tel\xe9fono ha sido verificado"}),(0,r.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"address"})})}),"\n",(0,r.jsxs)(n.p,{children:["Por favor, consulta el ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para los detalles del reclamo de direcci\xf3n."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"custom_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"Los datos personalizados del usuario"}),(0,r.jsx)(n.td,{children:"S\xed"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"identities"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"Las identidades vinculadas del usuario"}),(0,r.jsx)(n.td,{children:"S\xed"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sso_identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})}),(0,r.jsx)(n.td,{children:"Las identidades SSO vinculadas del usuario"}),(0,r.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"roles"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"roles"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:"Los roles del usuario"}),(0,r.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organizations"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:"Los IDs de las organizaciones a las que pertenece el usuario"}),(0,r.jsx)(n.td,{children:"No"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object[]"})}),(0,r.jsx)(n.td,{children:"Los datos de las organizaciones a las que pertenece el usuario"}),(0,r.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nombre del reclamo"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descripci\xf3n"}),(0,r.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_roles"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsxs)(n.td,{children:["Los roles de las organizaciones a las que pertenece el usuario con el formato ",(0,r.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,r.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:['Considerando el rendimiento y el tama\xf1o de los datos, si "\xbfNecesita userinfo?" es "S\xed", significa que el reclamo no aparecer\xe1 en el token de ID, pero se devolver\xe1 en la respuesta del ',(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},74547:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var r=i(25105),s=i(79621),t=i(76818);const o=[...t.RM];function a(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Logto utiliza las ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"convenciones de alcances y reclamos (scopes and claims)"})," de OIDC para definir los alcances y reclamos para obtener informaci\xf3n del usuario del Token de ID y del ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' de OIDC. Tanto "alcance" como "reclamo" son t\xe9rminos de las especificaciones de OAuth 2.0 y OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"En resumen, cuando solicitas un alcance, obtendr\xe1s los reclamos correspondientes en la informaci\xf3n del usuario. Por ejemplo, si solicitas el alcance `email`, obtendr\xe1s los datos `email` y `email_verified` del usuario."}),(0,r.jsx)("p",{children:"Por defecto, Logto SDK siempre solicitar\xe1 tres alcances: `openid`, `profile` y `offline_access`, y no hay forma de eliminar estos alcances predeterminados. Pero puedes a\xf1adir m\xe1s alcances al configurar Logto:"}),e.configScopesCode]}),"\n",(0,r.jsx)(t.Ay,{})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},16118:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>t});var r=i(25105),s=i(79621);const t=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"De forma predeterminada, se devuelven reclamos limitados. Si necesitas m\xe1s informaci\xf3n, puedes solicitar alcances adicionales para acceder a m\xe1s reclamos."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:'Un "reclamo (Claim)" es una afirmaci\xf3n hecha sobre un sujeto; un "alcance (Scope)" es un grupo de reclamos. En el caso actual, un reclamo es una pieza de informaci\xf3n sobre el usuario.'})}),"\n",(0,r.jsx)(n.p,{children:"Aqu\xed tienes un ejemplo no normativo de la relaci\xf3n alcance - reclamo:"}),"\n",(0,r.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:'El reclamo "sub" significa "sujeto", que es el identificador \xfanico del usuario (es decir, el ID del usuario).'})}),"\n",(0,r.jsxs)(n.p,{children:["El SDK de Logto siempre solicitar\xe1 tres alcances: ",(0,r.jsx)(n.code,{children:"openid"}),", ",(0,r.jsx)(n.code,{children:"profile"})," y ",(0,r.jsx)(n.code,{children:"offline_access"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},37220:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>o});var r=i(25105),s=i(79621),t=i(8358);const o=[...t.RM];function a(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Antes de profundizar en los detalles, aqu\xed tienes una visi\xf3n general r\xe1pida de la experiencia del usuario final. El proceso de inicio de sesi\xf3n se puede simplificar de la siguiente manera:"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A(Tu aplicaci\xf3n) --\x3e|1. Invocar inicio de sesi\xf3n| B(Logto)\n    B --\x3e|2. Finalizar inicio de sesi\xf3n| A"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Tu aplicaci\xf3n invoca el m\xe9todo de inicio de sesi\xf3n."}),"\n",(0,r.jsx)(n.li,{children:"El usuario es redirigido a la p\xe1gina de inicio de sesi\xf3n de Logto. Para aplicaciones nativas, se abre el navegador del sistema."}),"\n",(0,r.jsx)(n.li,{children:"El usuario inicia sesi\xf3n y es redirigido de vuelta a tu aplicaci\xf3n (configurada como el URI de redirecci\xf3n)."}),"\n"]}),"\n",(0,r.jsx)(t.Ay,{}),"\n",(0,r.jsx)(n.hr,{})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},90800:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>oe,contentTitle:()=>te,default:()=>le,frontMatter:()=>se,metadata:()=>r,toc:()=>ae});const r=JSON.parse('{"id":"quick-starts/framework/flutter/README","title":"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Flutter","description":"Este tutorial te mostrar\xe1 c\xf3mo integrar Logto en tu aplicaci\xf3n Flutter.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","sourceDirName":"quick-starts/framework/flutter","slug":"/quick-starts/flutter","permalink":"/es/quick-starts/flutter","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/flutter","sidebar_label":"Flutter","sidebar_custom_props":{"description":"Flutter es un framework para construir aplicaciones m\xf3viles h\xedbridas."},"language":"dart","official_link":"https://flutter.dev","app_type":"Native app","framework":"Flutter"},"sidebar":"quickStartSidebar","previous":{"title":"Express","permalink":"/es/quick-starts/express"},"next":{"title":"FlutterFlow","permalink":"/es/quick-starts/flutter-flow"}}');var s=i(25105),t=i(79621),o=i(75846),a=i(38063),c=i(95651),l=i(25516);function d(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"Future<AccessToken?> getAccessToken(String resource) async {\n  var token = await logtoClient.getAccessToken(resource: resource);\n\n  return token;\n}\n"})})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}function p(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // Add your API resources\n  // highlight-start\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // highlight-end\n);\n'})})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function x(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Add your API resources\' scopes\n  // highlight-start\n  scopes: ["shopping:read", "shopping:write", "store:read", "store:write"]\n  // highlight-end\n);\n'})})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}function j(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Alcances compartidos por todos los recursos\n  // highlight-start\n  scopes: ["read", "write"]\n  // highlight-end\n);\n'})})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}const f=[...a.RM,{value:"Configurar el cliente Logto",id:"configure-logto-client",level:3},...c.RM,{value:"Obtener token de acceso para el recurso de API",id:"fetch-access-token-for-the-api-resource",level:3},...l.RM];function b(e){const n={h3:"h3",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.Ay,{}),"\n",(0,s.jsx)(n.h3,{id:"configure-logto-client",children:"Configurar el cliente Logto"}),"\n",(0,s.jsx)(c.Ay,{configResourcesCode:(0,s.jsx)(h,{}),configResourcesWithScopesCode:(0,s.jsx)(m,{}),configResourcesWithSharedScopesCode:(0,s.jsx)(g,{})}),"\n",(0,s.jsx)(n.h3,{id:"fetch-access-token-for-the-api-resource",children:"Obtener token de acceso para el recurso de API"}),"\n",(0,s.jsx)(l.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,s.jsx)(u,{})})]})}function v(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}function y(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"sdk-version-compatibility",children:"Compatibilidad de versiones de SDK"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Versi\xf3n de Logto SDK"}),(0,s.jsx)(n.th,{children:"Versi\xf3n de Dart SDK"}),(0,s.jsx)(n.th,{children:"Compatible con Dart 3.0"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"< 2.0.0"}),(0,s.jsx)(n.td,{children:">= 2.17.6 < 3.0.0"}),(0,s.jsx)(n.td,{children:"false"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:">= 2.0.0 < 3.0.0"}),(0,s.jsx)(n.td,{children:">= 3.0.0"}),(0,s.jsx)(n.td,{children:"true"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:">= 3.0.0"}),(0,s.jsx)(n.td,{children:">= 3.6.0"}),(0,s.jsx)(n.td,{children:"true"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"flutter_secure_storage-set-up",children:"Configuraci\xf3n de flutter_secure_storage"}),"\n",(0,s.jsxs)(n.p,{children:["En su funcionamiento interno, este SDK utiliza ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage",children:"flutter_secure_storage"})," para implementar el almacenamiento seguro persistente de tokens multiplataforma."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Se utiliza Keychain para iOS"}),"\n",(0,s.jsx)(n.li,{children:"Se utiliza cifrado AES para Android."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"config-android-version",children:"Configurar versi\xf3n de Android"}),"\n",(0,s.jsxs)(n.p,{children:["Establece el android",":minSdkVersion"," a ",(0,s.jsx)(n.code,{children:">= 18"})," en el archivo ",(0,s.jsx)(n.code,{children:"android/app/build.gradle"})," de tu proyecto."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-kotlin",metastring:'title="build.gradle"',children:"  android {\n      ...\n\n      defaultConfig {\n          ...\n          minSdkVersion 18\n          ...\n      }\n  }\n"})}),"\n",(0,s.jsx)(n.h4,{id:"disable-auto-backup-on-android",children:"Desactivar la copia de seguridad autom\xe1tica en Android"}),"\n",(0,s.jsxs)(n.p,{children:["Por defecto, Android realiza copias de seguridad de los datos en Google Drive. Esto puede causar la excepci\xf3n ",(0,s.jsx)(n.code,{children:"java.security.InvalidKeyException:Failed"})," al desencriptar la clave. Para evitar esto,"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Para desactivar la copia de seguridad autom\xe1tica, ve a tu archivo de manifiesto de la aplicaci\xf3n y establece los atributos ",(0,s.jsx)(n.code,{children:"android:allowBackup"})," y ",(0,s.jsx)(n.code,{children:"android:fullBackupContent"})," en ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<manifest ... >\n    ...\n    <application\n      android:allowBackup="false"\n      android:fullBackupContent="false"\n      ...\n    >\n        ...\n    </application>\n</manifest>\n\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Excluye ",(0,s.jsx)(n.code,{children:"sharedprefs"})," de ",(0,s.jsx)(n.code,{children:"FlutterSecureStorage"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Si necesitas mantener el ",(0,s.jsx)(n.code,{children:"android:fullBackupContent"})," para tu aplicaci\xf3n en lugar de desactivarlo, puedes excluir el directorio ",(0,s.jsx)(n.code,{children:"sharedprefs"})," de la copia de seguridad.\nConsulta m\xe1s detalles en la ",(0,s.jsx)(n.a,{href:"https://developer.android.com/identity/data/autobackup#IncludingFiles",children:"documentaci\xf3n de Android"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["En tu archivo AndroidManifest.xml, a\xf1ade el atributo android",":fullBackupContent"," al elemento ",(0,s.jsx)(n.code,{children:"<application>"}),", como se muestra en el siguiente ejemplo. Este atributo apunta a un archivo XML que contiene reglas de copia de seguridad."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<application ...\n  android:fullBackupContent="@xml/backup_rules">\n</application>\n'})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Crea un archivo XML llamado ",(0,s.jsx)(n.code,{children:"@xml/backup_rules"})," en el directorio ",(0,s.jsx)(n.code,{children:"res/xml/"}),". En este archivo, a\xf1ade reglas con los elementos ",(0,s.jsx)(n.code,{children:"<include>"})," y ",(0,s.jsx)(n.code,{children:"<exclude>"}),". El siguiente ejemplo realiza una copia de seguridad de todas las preferencias compartidas excepto device.xml:"]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="@xml/backup_rules"',children:'<?xml version="1.0" encoding="utf-8"?>\n<full-backup-content>\n  <exclude domain="sharedpref" path="FlutterSecureStorage"/>\n</full-backup-content>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Por favor, consulta ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage#configure-android-version",children:"flutter_secure_storage"})," para m\xe1s detalles."]}),"\n",(0,s.jsx)(n.h3,{id:"flutter_web_auth_2-set-up",children:"Configuraci\xf3n de flutter_web_auth_2"}),"\n",(0,s.jsxs)(n.p,{children:["Detr\xe1s de escena, este SDK utiliza ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2",children:"flutter_web_auth_2"})," para autenticar a los usuarios con Logto. Este paquete proporciona una forma sencilla de autenticar a los usuarios con Logto utilizando el webview del sistema o el navegador."]}),"\n",(0,s.jsxs)(n.p,{children:["Este complemento utiliza ",(0,s.jsx)(n.code,{children:"ASWebAuthenticationSession"})," en iOS 12+ y macOS 10.15+, ",(0,s.jsx)(n.code,{children:"SFAuthenticationSession"})," en iOS 11, ",(0,s.jsx)(n.code,{children:"Chrome Custom Tabs"})," en Android y abre una nueva ventana en la Web."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"iOS: No se requiere configuraci\xf3n adicional"}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Android: Registra la URL de callback en Android"}),"\n",(0,s.jsxs)(n.p,{children:["Para capturar la URL de callback desde la p\xe1gina de inicio de sesi\xf3n de Logto, necesitar\xe1s registrar tu redirectUri de inicio de sesi\xf3n en tu archivo ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'  <manifest>\n    <application>\n        <activity\n          android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n          android:exported="true">\n          <intent-filter android:label="flutter_web_auth_2">\n          <action android:name="android.intent.action.VIEW" />\n          <category android:name="android.intent.category.DEFAULT" />\n          <category android:name="android.intent.category.BROWSABLE" />\n          <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n          </intent-filter>\n        </activity>\n    </application>\n  </manifest>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navegador web: Crea un endpoint para manejar la URL de callback"}),"\n",(0,s.jsxs)(n.p,{children:["Si est\xe1s utilizando la plataforma web, necesitas crear un endpoint para manejar la URL de callback y enviarla de vuelta a la aplicaci\xf3n utilizando la API ",(0,s.jsx)(n.code,{children:"postMessage"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-html",metastring:'title="callback.html"',children:"<!doctype html>\n<title>Autenticaci\xf3n completa</title>\n<p>\n  La autenticaci\xf3n est\xe1 completa. Si esto no ocurre autom\xe1ticamente, por favor cierra la ventana.\n</p>\n<script>\n  function postAuthenticationMessage() {\n    const message = {\n      'flutter-web-auth-2': window.location.href,\n    };\n\n    if (window.opener) {\n      window.opener.postMessage(message, window.location.origin);\n      window.close();\n    } else if (window.parent && window.parent !== window) {\n      window.parent.postMessage(message, window.location.origin);\n    } else {\n      localStorage.setItem('flutter-web-auth-2', window.location.href);\n      window.close();\n    }\n  }\n\n  postAuthenticationMessage();\n<\/script>\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Por favor, consulta la gu\xeda de configuraci\xf3n en el paquete ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2#setup",children:"flutter_web_auth_2"})," para m\xe1s detalles."]})]})}function A(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}var _=i(81941),S=i(85713),k=i(74547),w=i(16118);function C(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userClaims = await logtoClient.idTokenClaims;\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obtener informaci\xf3n del usuario'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Mi Aplicaci\xf3n de Demostraci\xf3n'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function R(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(C,{...e})}):C(e)}function I(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userInfo = await logtoClient.getUserInfo();\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obtener informaci\xf3n del usuario'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Mi Aplicaci\xf3n de Demostraci\xf3n'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function L(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(I,{...e})}):I(e)}function M(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: ["email", "phone"],\n  // highlight-end\n);\n'})}),"\n",(0,s.jsxs)(n.p,{children:["Tambi\xe9n proporcionamos un enum ",(0,s.jsx)(n.code,{children:"LogtoUserScope"})," incorporado en el paquete SDK para ayudarte a usar los alcances predefinidos."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScope.email.value, LogtoUserScope.phone.value],\n  // highlight-end\n);\n'})})]})}function E(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(M,{...e})}):M(e)}const q=[{value:"Mostrar informaci\xf3n del usuario",id:"display-user-information",level:3},{value:"Solicitar reclamos adicionales",id:"request-additional-claims",level:3},...S.RM,...w.RM,..._.RM,{value:"Alcances y reclamos",id:"scopes-and-claims",level:3},...k.RM];function P(e){const n={code:"code",h3:"h3",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"display-user-information",children:"Mostrar informaci\xf3n del usuario"}),"\n",(0,s.jsxs)(n.p,{children:["Para mostrar la informaci\xf3n del usuario, puedes usar el getter ",(0,s.jsx)(n.code,{children:"logtoClient.idTokenClaims"}),". Por ejemplo, en una aplicaci\xf3n Flutter:"]}),"\n",(0,s.jsx)(R,{}),"\n",(0,s.jsx)(n.h3,{id:"request-additional-claims",children:"Solicitar reclamos adicionales"}),"\n",(0,s.jsx)(S.Ay,{method:"client.idTokenClaims"}),"\n",(0,s.jsx)(w.Ay,{}),"\n",(0,s.jsxs)(n.p,{children:["Para solicitar alcances adicionales, puedes pasar los alcances al objeto ",(0,s.jsx)(n.code,{children:"LogtoConfig"}),". Por ejemplo:"]}),"\n",(0,s.jsx)(E,{}),"\n",(0,s.jsx)(_.Ay,{type:"method",method:"logtoClient.getUserInfo()",codeSnippet:(0,s.jsx)(L,{})}),"\n",(0,s.jsx)(n.h3,{id:"scopes-and-claims",children:"Alcances y reclamos"}),"\n",(0,s.jsx)(k.Ay,{})]})}function z(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(P,{...e})}):P(e)}var D=i(38552),N=i(22002);function T(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(N.A,{children:[(0,s.jsxs)(D.A,{value:"pub",label:"pub.dev",children:[(0,s.jsxs)(n.p,{children:["Puedes instalar el ",(0,s.jsx)(n.code,{children:"logto_dart_sdk package"})," directamente usando el gestor de paquetes pub.\nEjecuta el siguiente comando en la ra\xedz de tu proyecto:"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"flutter pub add logto_dart_sdk\n"})}),(0,s.jsxs)(n.p,{children:["O a\xf1ade lo siguiente a tu archivo ",(0,s.jsx)(n.code,{children:"pubspec.yaml"}),":"]}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),(0,s.jsx)(n.p,{children:"Luego ejecuta:"}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"flutter pub get\n"})})]}),(0,s.jsxs)(D.A,{value:"github",label:"GitHub",children:[(0,s.jsx)(n.p,{children:"Si prefieres bifurcar tu propia versi\xf3n del SDK, puedes clonar el repositorio directamente desde GitHub."}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/logto-io/dart\n"})})]})]})}function U(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(T,{...e})}):T(e)}var O=i(86678);function F(e){const n={a:"a",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:(0,s.jsxs)(n.p,{children:["Cambiemos a la p\xe1gina de detalles de la aplicaci\xf3n en Logto Console. A\xf1ade un URI de redirecci\xf3n\nposterior al cierre de sesi\xf3n ",(0,s.jsx)("code",{children:e.postSignOutRedirectUri}),' y haz clic en "Guardar\ncambios".']})}),"\n",(0,s.jsx)("img",{alt:"URI de redirecci\xf3n posterior al cierre de sesi\xf3n en Logto Console",src:e.figureSrc,width:"600px"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-rpinitiated-1_0.html#RPLogout",children:"URI de redirecci\xf3n posterior al cierre de sesi\xf3n"})," es un concepto de OAuth 2.0 que implica la ubicaci\xf3n a la que se debe redirigir despu\xe9s de cerrar sesi\xf3n."]})]})}function B(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(F,{...e})}):F(e)}var W=i(76094),H=i(37220);const V=[{value:"Inicializar LogtoClient",id:"init-logtoclient",level:3},{value:"Implementar inicio de sesi\xf3n",id:"implement-sign-in",level:3},...H.RM,...W.RM,{value:"Implementar cierre de sesi\xf3n",id:"implement-sign-out",level:3},{value:"Manejar el estado de autenticaci\xf3n",id:"handle-authentication-status",level:3},...O.RM];function K(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"init-logtoclient",children:"Inicializar LogtoClient"}),"\n",(0,s.jsxs)(n.p,{children:["Importa el paquete ",(0,s.jsx)(n.code,{children:"logto_dart_sdk"})," e inicializa la instancia de ",(0,s.jsx)(n.code,{children:"LogtoClient"})," en la ra\xedz de tu aplicaci\xf3n."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"import 'package:logto_dart_sdk/logto_dart_sdk.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: 'Flutter Demo',\n      home: MyHomePage(title: 'Logto Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  late LogtoClient logtoClient;\n\n  void render() {\n    // cambio de estado\n  }\n\n  // highlight-start\n  // LogtoConfig\n  final logtoConfig = const LogtoConfig(\n    endpoint: \"<your-logto-endpoint>\",\n    appId: \"<your-app-id>\"\n  );\n\n  void _init() {\n    logtoClient = LogtoClient(\n      config: logtoConfig,\n      httpClient: http.Client(), // Cliente http opcional\n    );\n    render();\n  }\n  // highlight-end\n\n  @override\n  void initState() {\n    super.initState();\n    _init();\n  }\n\n  // ...\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"implement-sign-in",children:"Implementar inicio de sesi\xf3n"}),"\n",(0,s.jsx)(H.Ay,{}),"\n",(0,s.jsx)(n.p,{children:"Antes de comenzar, necesitas agregar un URI de redirecci\xf3n en la Consola de Administraci\xf3n para tu aplicaci\xf3n."}),"\n",(0,s.jsx)(W.Ay,{figureSrc:"/img/assets/flutter-redirect-uri.png",redirectUri:"io.logto://callback"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Para iOS, el esquema del URI de redirecci\xf3n no importa realmente ya que la clase ",(0,s.jsx)(n.code,{children:"ASWebAuthenticationSession"})," escuchar\xe1 el URI de redirecci\xf3n independientemente de si est\xe1 registrado."]}),"\n",(0,s.jsxs)(n.li,{children:["Para Android, el esquema del URI de redirecci\xf3n debe estar registrado en el archivo ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Despu\xe9s de configurar el URI de redirecci\xf3n, agregamos un bot\xf3n de inicio de sesi\xf3n a tu p\xe1gina, que llamar\xe1 a la API ",(0,s.jsx)(n.code,{children:"logtoClient.signIn"})," para invocar el flujo de inicio de sesi\xf3n de Logto:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  final redirectUri = 'io.logto://callback';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signInButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signIn(redirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign In'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"implement-sign-out",children:"Implementar cierre de sesi\xf3n"}),"\n",(0,s.jsx)(B,{figureSrc:"/img/assets/flutter-post-sign-out-redirect-uri.png",postSignOutRedirectUri:"io.logto://callback"}),"\n",(0,s.jsx)(n.p,{children:"Ahora vamos a agregar un bot\xf3n de cierre de sesi\xf3n en la p\xe1gina principal para que los usuarios puedan cerrar sesi\xf3n en tu aplicaci\xf3n."}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  final postSignOutRedirectUri = 'io.logto//home';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signOutButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signOut(postSignOutRedirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign Out'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n            signOutButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(n.h3,{id:"handle-authentication-status",children:"Manejar el estado de autenticaci\xf3n"}),"\n",(0,s.jsxs)(n.p,{children:["Logto SDK proporciona un m\xe9todo asincr\xf3nico para verificar el estado de autenticaci\xf3n. El m\xe9todo es ",(0,s.jsx)(n.code,{children:"logtoClient.isAuthenticated"}),". El m\xe9todo devuelve un valor booleano, ",(0,s.jsx)(n.code,{children:"true"})," si el usuario est\xe1 autenticado, de lo contrario ",(0,s.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["En el ejemplo, renderizamos condicionalmente los botones de inicio y cierre de sesi\xf3n seg\xfan el estado de autenticaci\xf3n. Ahora actualicemos el m\xe9todo ",(0,s.jsx)(n.code,{children:"render"})," en nuestro Widget para manejar el cambio de estado:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  bool? isAuthenticated = false;\n\n  void render() {\n    setState(() async {\n      // highlight-start\n      isAuthenticated = await logtoClient.isAuthenticated;\n      // highlight-end\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            isAuthenticated == true ? signOutButton : signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,s.jsx)(O.Ay,{})]})}function G(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(K,{...e})}):K(e)}var $=i(78494);function Z(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"// Los IDs de organizaci\xf3n v\xe1lidos para el usuario se pueden encontrar en el reclamo del Token de ID `organizations`.\nFuture<AccessToken?> getOrganizationAccessToken(String organizationId) async {\n  var token = await logtoClient.getOrganizationToken(organizationId);\n\n  return token;\n}\n"})})}function J(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(Z,{...e})}):Z(e)}function X(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScopes.organizations.value]\n  // highlight-end\n);\n'})})}function Y(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(X,{...e})}):X(e)}const Q=[{value:"Obtener token de acceso para organizaciones",id:"fetch-access-token-for-organizations",level:3},...$.RM];function ee(e){const n={h3:"h3",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"fetch-access-token-for-organizations",children:"Obtener token de acceso para organizaciones"}),"\n",(0,s.jsx)(n.p,{children:"Al igual que los recursos de API, tambi\xe9n puedes solicitar un token de acceso para organizaciones. Esto es \xfatil cuando necesitas acceder a recursos que est\xe1n definidos utilizando el alcance de la organizaci\xf3n en lugar del alcance del recurso de API."}),"\n",(0,s.jsx)($.Ay,{organizationScope:"LogtoUserScope.Organizations",configOrganizationCode:(0,s.jsx)(Y,{}),getOrganizationAccessTokenCode:(0,s.jsx)(J,{})})]})}function ne(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(ee,{...e})}):ee(e)}function ie(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["El paquete SDK est\xe1 disponible en ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk",children:"pub.dev"})," y en el ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/dart",children:"repositorio de GitHub de Logto"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["El proyecto de ejemplo est\xe1 construido usando ",(0,s.jsx)(n.a,{href:"https://flutter.dev",children:"Flutter material"}),". Puedes encontrarlo en ",(0,s.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk/example",children:"pub.dev"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Este SDK es compatible con aplicaciones Flutter en las plataformas iOS, Android y Web. La compatibilidad con otras plataformas no ha sido probada."}),"\n"]})})}function re(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(ie,{...e})}):ie(e)}const se={slug:"/quick-starts/flutter",sidebar_label:"Flutter",sidebar_custom_props:{description:"Flutter es un framework para construir aplicaciones m\xf3viles h\xedbridas."},language:"dart",official_link:"https://flutter.dev",app_type:"Native app",framework:"Flutter"},te="A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Flutter",oe={},ae=[{value:"Requisitos previos",id:"prerequisites",level:2},{value:"Instalaci\xf3n",id:"installation",level:2},{value:"Configuraci\xf3n",id:"set-up",level:2},{value:"Compatibilidad de versiones de SDK",id:"sdk-version-compatibility",level:3},{value:"Configuraci\xf3n de flutter_secure_storage",id:"flutter_secure_storage-set-up",level:3},{value:"Configurar versi\xf3n de Android",id:"config-android-version",level:4},{value:"Desactivar la copia de seguridad autom\xe1tica en Android",id:"disable-auto-backup-on-android",level:4},{value:"Configuraci\xf3n de flutter_web_auth_2",id:"flutter_web_auth_2-set-up",level:3},{value:"Integraci\xf3n",id:"integration",level:2},...V,{value:"Obtener informaci\xf3n del usuario",id:"get-user-information",level:2},...q,{value:"Recursos de API y organizaciones",id:"api-resources-and-organizations",level:2},...f,...Q,{value:"Gu\xeda de migraci\xf3n",id:"migration-guide",level:2},{value:"Soluci\xf3n de problemas",id:"troubleshooting",level:2},{value:"Soluci\xf3n de problemas en Android",id:"troubleshooting-android",level:3},{value:"Lecturas adicionales",id:"further-readings",level:2},...o.RM];function ce(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"a\xf1ade-autenticaci\xf3n-a-tu-aplicaci\xf3n-flutter",children:"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Flutter"})}),"\n",(0,s.jsx)(n.p,{children:"Este tutorial te mostrar\xe1 c\xf3mo integrar Logto en tu aplicaci\xf3n Flutter."}),"\n",(0,s.jsx)(re,{}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Requisitos previos"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Una cuenta de ",(0,s.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," o un ",(0,s.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto autoalojado"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Una aplicaci\xf3n nativa de Logto creada."}),"\n",(0,s.jsx)(n.li,{children:"Un entorno de desarrollo Flutter o Dart."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"installation",children:"Instalaci\xf3n"}),"\n",(0,s.jsx)(U,{}),"\n",(0,s.jsx)(n.h2,{id:"set-up",children:"Configuraci\xf3n"}),"\n",(0,s.jsx)(A,{}),"\n",(0,s.jsx)(n.h2,{id:"integration",children:"Integraci\xf3n"}),"\n",(0,s.jsx)(G,{}),"\n",(0,s.jsx)(n.h2,{id:"get-user-information",children:"Obtener informaci\xf3n del usuario"}),"\n",(0,s.jsx)(z,{}),"\n",(0,s.jsx)(n.h2,{id:"api-resources-and-organizations",children:"Recursos de API y organizaciones"}),"\n",(0,s.jsx)(v,{}),"\n",(0,s.jsx)(ne,{}),"\n",(0,s.jsx)(n.h2,{id:"migration-guide",children:"Gu\xeda de migraci\xf3n"}),"\n",(0,s.jsx)(n.p,{children:"Si est\xe1s migrando desde una versi\xf3n anterior del Logto Dart SDK, versi\xf3n < 3.0.0:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Actualiza tu archivo ",(0,s.jsx)(n.code,{children:"pubspec.yaml"})," para usar la \xfaltima versi\xf3n del Logto Dart SDK."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",metastring:'title="pubspec.yaml"',children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Actualiza el archivo de manifiesto de Android, reemplaza la actividad de callback ",(0,s.jsx)(n.code,{children:"flutter_web_auth"})," heredada con la nueva ",(0,s.jsx)(n.code,{children:"flutter_web_auth_2"}),"."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"FlutterWebAuth"})," -> ",(0,s.jsx)(n.code,{children:"FlutterWebAuth2"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"flutter_web_auth"})," -> ",(0,s.jsx)(n.code,{children:"flutter_web_auth_2"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Pasa el ",(0,s.jsx)(n.code,{children:"redirectUri"})," al m\xe9todo ",(0,s.jsx)(n.code,{children:"signOut"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"redirectUri"})," ahora es requerido al llamar al m\xe9todo ",(0,s.jsx)(n.code,{children:"signOut"}),". Para la plataforma iOS, este par\xe1metro es in\xfatil, pero para las plataformas Android y Web que requieren una solicitud adicional ",(0,s.jsx)(n.code,{children:"end_session"})," para limpiar la sesi\xf3n de inicio de sesi\xf3n, este par\xe1metro se usar\xe1 como el par\xe1metro ",(0,s.jsx)(n.code,{children:"post_logout_redirect_uri"})," en la solicitud ",(0,s.jsx)(n.code,{children:"end_session"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-dart",children:"await logtoClient.signOut(redirectUri);\n"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting",children:"Soluci\xf3n de problemas"}),"\n",(0,s.jsx)(n.h3,{id:"troubleshooting-android",children:"Soluci\xf3n de problemas en Android"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Necesitar\xe1s actualizar tu AndroidManifest.xml para incluir la actividad ",(0,s.jsx)(n.code,{children:"com.linusu.flutter_web_auth_2.CallbackActivity"}),", algo como:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'  <manifest>\n  <application>\n\n    \x3c!-- a\xf1ade la actividad com.linusu.flutter_web_auth_2.CallbackActivity --\x3e\n    <activity\n      android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n      android:exported="true">\n      <intent-filter android:label="flutter_web_auth_2">\n        <action android:name="android.intent.action.VIEW" />\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n        <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n      </intent-filter>\n    </activity>\n\n  </application>\n</manifest>\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Si est\xe1s apuntando a S+ (versi\xf3n SDK 31 y superior) necesitas proporcionar un valor expl\xedcito para ",(0,s.jsx)(n.code,{children:"android:exported"}),". Si seguiste las instrucciones de instalaci\xf3n anteriores, esto no estaba incluido. Aseg\xfarate de a\xf1adir ",(0,s.jsx)(n.code,{children:'android:exported="true"'})," a la actividad ",(0,s.jsx)(n.code,{children:"com.linusu.flutter_web_auth.CallbackActivity"})," en tu archivo ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navegador no cerrado despu\xe9s de un inicio de sesi\xf3n exitoso:"}),"\n",(0,s.jsxs)(n.p,{children:["Para asegurar que ",(0,s.jsx)(n.code,{children:"flutter_web_auth_2"})," funcione correctamente, necesitas eliminar cualquier entrada ",(0,s.jsx)(n.code,{children:"android:taskAffinity"})," de tu archivo ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),". Establece ",(0,s.jsx)(n.code,{children:'android:launchMode="singleTop"'})," en la actividad principal en tu archivo ",(0,s.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'<activity\n  android:name=".MainActivity"\n  android:launchMode="singleTop"\n  android:theme="@style/LaunchTheme"\n  // ...\n/>\n'})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"further-readings",children:"Lecturas adicionales"}),"\n",(0,s.jsx)(o.Ay,{})]})}function le(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(ce,{...e})}):ce(e)}},38552:(e,n,i)=>{i.d(n,{A:()=>o});i(58101);var r=i(13526);const s={tabItem:"tabItem_dgSZ"};var t=i(25105);function o(e){let{children:n,hidden:i,className:o}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,r.A)(s.tabItem,o),hidden:i,children:n})}},22002:(e,n,i)=>{i.d(n,{A:()=>A});var r=i(58101),s=i(13526),t=i(60755),o=i(55234),a=i(6635),c=i(4100),l=i(35661),d=i(42752);function u(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:i}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:i,attributes:r,default:s}}=e;return{value:n,label:i,attributes:r,default:s}}))}(i);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,i])}function h(e){let{value:n,tabValues:i}=e;return i.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:i}=e;const s=(0,o.W6)(),t=function(e){let{queryString:n=!1,groupId:i}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!i)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return i??null}({queryString:n,groupId:i});return[(0,c.aZ)(t),(0,r.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function m(e){const{defaultValue:n,queryString:i=!1,groupId:s}=e,t=p(e),[o,c]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:i}=e;if(0===i.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:i}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${i.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=i.find((e=>e.default))??i[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:t}))),[l,u]=x({queryString:i,groupId:s}),[m,j]=function(e){let{groupId:n}=e;const i=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,d.Dv)(i);return[s,(0,r.useCallback)((e=>{i&&t.set(e)}),[i,t])]}({groupId:s}),g=(()=>{const e=l??m;return h({value:e,tabValues:t})?e:null})();(0,a.A)((()=>{g&&c(g)}),[g]);return{selectedValue:o,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),j(e)}),[u,j,t]),tabValues:t}}var j=i(21929);const g={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=i(25105);function b(e){let{className:n,block:i,selectedValue:r,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,t.a_)(),d=e=>{const n=e.currentTarget,i=c.indexOf(n),s=a[i].value;s!==r&&(l(n),o(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const i=c.indexOf(e.currentTarget)+1;n=c[i]??c[0];break}case"ArrowLeft":{const i=c.indexOf(e.currentTarget)-1;n=c[i]??c[c.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":i},n),children:a.map((e=>{let{value:n,label:i,attributes:t}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{c.push(e)},onKeyDown:u,onClick:d,...t,className:(0,s.A)("tabs__item",g.tabItem,t?.className,{"tabs__item--active":r===n}),children:i??n},n)}))})}function v(e){let{lazy:n,children:i,selectedValue:t}=e;const o=(Array.isArray(i)?i:[i]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===t));return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",g.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(v,{...n,...e})]})}function A(e){const n=(0,j.A)();return(0,f.jsx)(y,{...e,children:u(e.children)},String(n))}},79621:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>a});var r=i(58101);const s={},t=r.createContext(s);function o(e){const n=r.useContext(t);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);