"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[80194],{86595:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>t});var i=r(25105),s=r(79621);const t=[];function o(e){const n={p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Vamos a cambiar a la p\xe1gina de detalles de la aplicaci\xf3n en Logto Console. A\xf1ade un URI de redirecci\xf3n ",(0,i.jsx)("code",{children:e.redirectUri}),' y haz clic en "Guardar cambios".']}),"\n",(0,i.jsx)("img",{alt:"URI de redirecci\xf3n en Logto Console",src:e.figureSrc,width:"600px"})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},57813:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>t});var i=r(25105),s=r(79621);const t=[];function o(e){const{Url:n}={...(0,s.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" Flujos de usuario final: flujos de autenticaci\xf3n, flujos de cuenta y flujos de organizaci\xf3n "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,i.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:" Protege tu API "})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},53669:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>o});var i=r(25105),s=r(79621);const t=r.p+"assets/images/app-secret-2b2c12ae8557fbcf3b283bf86f3ac6db.png",o=[];function c(e){const n={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(n.admonition,{type:"tip",children:[(0,i.jsx)("p",{children:(0,i.jsx)(n.p,{children:'Puedes encontrar y copiar el "App Secret" desde la p\xe1gina de detalles de la aplicaci\xf3n en la\nConsola de Administraci\xf3n:'})}),(0,i.jsx)("img",{alt:"App Secret",src:t,width:"586px"})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},39339:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>t});var i=r(25105),s=r(79621);const t=[{value:"Sobre el inicio de sesi\xf3n basado en redirecci\xf3n",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,s.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Sobre el inicio de sesi\xf3n basado en redirecci\xf3n"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Este proceso de autenticaci\xf3n sigue el protocolo ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", y Logto aplica medidas de seguridad estrictas para proteger el inicio de sesi\xf3n del usuario."]}),"\n",(0,i.jsx)(n.li,{children:"Si tienes m\xfaltiples aplicaciones, puedes usar el mismo proveedor de identidad (Logto). Una vez que el usuario inicia sesi\xf3n en una aplicaci\xf3n, Logto completar\xe1 autom\xe1ticamente el proceso de inicio de sesi\xf3n cuando el usuario acceda a otra aplicaci\xf3n."}),"\n"]}),(0,i.jsxs)(n.p,{children:["Para aprender m\xe1s sobre la l\xf3gica y los beneficios del inicio de sesi\xf3n basado en redirecci\xf3n, consulta ",(0,i.jsx)(n.a,{href:"/concepts/sign-in-experience",children:"Experiencia de inicio de sesi\xf3n de Logto explicada"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},95429:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>t});var i=r(25105),s=r(79621);const t=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Aqu\xed est\xe1 la lista de alcances (Scopes) soportados y los reclamos (Claims) correspondientes:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"El identificador \xfanico del usuario"}),(0,i.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"El nombre completo del usuario"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"El nombre de usuario del usuario"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"URL de la foto de perfil del usuario final. Esta URL DEBE referirse a un archivo de imagen (por ejemplo, un archivo de imagen PNG, JPEG o GIF), en lugar de a una p\xe1gina web que contenga una imagen. Ten en cuenta que esta URL DEBER\xcdA referirse espec\xedficamente a una foto de perfil del usuario final adecuada para mostrar al describir al usuario final, en lugar de una foto arbitraria tomada por el usuario final."}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Momento en que se cre\xf3 el usuario final. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Momento en que se actualiz\xf3 por \xfaltima vez la informaci\xf3n del usuario final. El tiempo se representa como el n\xfamero de milisegundos desde la \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Otros ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reclamos est\xe1ndar"})," incluyen ",(0,i.jsx)(n.code,{children:"family_name"}),", ",(0,i.jsx)(n.code,{children:"given_name"}),", ",(0,i.jsx)(n.code,{children:"middle_name"}),", ",(0,i.jsx)(n.code,{children:"nickname"}),", ",(0,i.jsx)(n.code,{children:"preferred_username"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", ",(0,i.jsx)(n.code,{children:"website"}),", ",(0,i.jsx)(n.code,{children:"gender"}),", ",(0,i.jsx)(n.code,{children:"birthdate"}),", ",(0,i.jsx)(n.code,{children:"zoneinfo"})," y ",(0,i.jsx)(n.code,{children:"locale"})," tambi\xe9n se incluir\xe1n en el alcance ",(0,i.jsx)(n.code,{children:"profile"})," sin necesidad de solicitar el endpoint de userinfo. Una diferencia en comparaci\xf3n con los reclamos anteriores es que estos reclamos solo se devolver\xe1n cuando sus valores no est\xe9n vac\xedos, mientras que los reclamos anteriores devolver\xe1n ",(0,i.jsx)(n.code,{children:"null"})," si los valores est\xe1n vac\xedos."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["A diferencia de los reclamos est\xe1ndar, los reclamos ",(0,i.jsx)(n.code,{children:"created_at"})," y ",(0,i.jsx)(n.code,{children:"updated_at"})," utilizan milisegundos en lugar de segundos."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"La direcci\xf3n de correo electr\xf3nico del usuario"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si la direcci\xf3n de correo electr\xf3nico ha sido verificada"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"El n\xfamero de tel\xe9fono del usuario"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si el n\xfamero de tel\xe9fono ha sido verificado"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["Por favor, consulta el ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para los detalles del reclamo de direcci\xf3n."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Los datos personalizados del usuario"}),(0,i.jsx)(n.td,{children:"S\xed"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Las identidades vinculadas del usuario"}),(0,i.jsx)(n.td,{children:"S\xed"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"Las identidades SSO vinculadas del usuario"}),(0,i.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Los IDs de las organizaciones a las que pertenece el usuario"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"Los datos de las organizaciones a las que pertenece el usuario"}),(0,i.jsx)(n.td,{children:"S\xed"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nombre del reclamo"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descripci\xf3n"}),(0,i.jsx)(n.th,{children:"\xbfNecesita userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["Los roles de organizaci\xf3n a los que pertenece el usuario con el formato ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:['Considerando el rendimiento y el tama\xf1o de los datos, si "\xbfNecesita userinfo?" es "S\xed", significa que el reclamo no aparecer\xe1 en el Token de ID, pero se devolver\xe1 en la respuesta del ',(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint de userinfo"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},5376:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>o});var i=r(25105),s=r(79621),t=r(95429);const o=[...t.RM];function c(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Logto utiliza las ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"convenciones de alcances y reclamos (scopes and claims)"})," de OIDC para definir los alcances y reclamos para obtener informaci\xf3n del usuario del Token de ID y del ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' de OIDC. Tanto "alcance" como "reclamo" son t\xe9rminos de las especificaciones de OAuth 2.0 y OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"En resumen, cuando solicitas un alcance, obtendr\xe1s los reclamos correspondientes en la informaci\xf3n del usuario. Por ejemplo, si solicitas el alcance `email`, obtendr\xe1s los datos `email` y `email_verified` del usuario."}),(0,i.jsx)("p",{children:"Por defecto, Logto SDK siempre solicitar\xe1 tres alcances: `openid`, `profile` y `offline_access`, y no hay forma de eliminar estos alcances predeterminados. Pero puedes a\xf1adir m\xe1s alcances al configurar Logto:"}),e.configScopesCode]}),"\n",(0,i.jsx)(t.Ay,{})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},5795:(e,n,r)=>{r.d(n,{Ay:()=>a,Ip:()=>t,RM:()=>o});var i=r(25105),s=r(79621);const t="http://localhost:3000/",o=[];function c(e){const n={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["En los siguientes fragmentos de c\xf3digo, asumimos que tu aplicaci\xf3n est\xe1 ejecut\xe1ndose en ",(0,i.jsx)("code",{children:t}),"."]})})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},9521:(e,n,r)=>{r.d(n,{Ay:()=>a,RM:()=>o});var i=r(25105),s=r(79621),t=r(39339);const o=[...t.RM];function c(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Antes de profundizar en los detalles, aqu\xed tienes una visi\xf3n general r\xe1pida de la experiencia del usuario final. El proceso de inicio de sesi\xf3n se puede simplificar de la siguiente manera:"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(Tu aplicaci\xf3n) --\x3e|1. Invocar inicio de sesi\xf3n| B(Logto)\n    B --\x3e|2. Finalizar inicio de sesi\xf3n| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Tu aplicaci\xf3n invoca el m\xe9todo de inicio de sesi\xf3n."}),"\n",(0,i.jsx)(n.li,{children:"El usuario es redirigido a la p\xe1gina de inicio de sesi\xf3n de Logto. Para aplicaciones nativas, se abre el navegador del sistema."}),"\n",(0,i.jsx)(n.li,{children:"El usuario inicia sesi\xf3n y es redirigido de vuelta a tu aplicaci\xf3n (configurada como el URI de redirecci\xf3n)."}),"\n"]}),"\n",(0,i.jsx)(t.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function a(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},63093:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>I,contentTitle:()=>_,default:()=>k,frontMatter:()=>w,metadata:()=>i,toc:()=>E});const i=JSON.parse('{"id":"quick-starts/framework/next-auth/README","title":"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Next Auth","description":"Esta gu\xeda te mostrar\xe1 c\xf3mo integrar Logto en tu aplicaci\xf3n Next.js con Next Auth.","source":"@site/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","sourceDirName":"quick-starts/framework/next-auth","slug":"/quick-starts/next-auth","permalink":"/es/quick-starts/next-auth","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/es/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/next-auth","sidebar_label":"Next Auth","sidebar_custom_props":{"logoFilename":"next-auth.svg","description":"Autenticaci\xf3n para Next.js."}},"sidebar":"quickStartSidebar","previous":{"title":"Next.js (App Router)","permalink":"/es/quick-starts/next-app-router"},"next":{"title":"Nuxt","permalink":"/es/quick-starts/nuxt"}}');var s=r(25105),t=r(79621),o=r(57813),c=r(3768),a=r(11043);const l=r.p+"assets/images/next-auth-redirect-uri-8aeb945fa0bdb8fab0929add43786b5c.png";var d=r(86595),u=r(53669),h=r(5795),p=r(9521);const x=[...p.RM,...h.RM,{value:"Configurar URI de redirecci\xf3n de inicio de sesi\xf3n",id:"configure-sign-in-redirect-uri",level:4},...d.RM,{value:"Configurar el proveedor de Next Auth",id:"set-up-next-auth-provider",level:4},...u.RM];function j(e){const n={code:"code",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(p.Ay,{}),"\n",(0,s.jsx)(h.Ay,{}),"\n",(0,s.jsx)(n.h4,{id:"configure-sign-in-redirect-uri",children:"Configurar URI de redirecci\xf3n de inicio de sesi\xf3n"}),"\n",(0,s.jsx)(d.Ay,{figureSrc:l,redirectUri:"http://localhost:3000/api/auth/callback/logto"}),"\n",(0,s.jsx)(n.h4,{id:"set-up-next-auth-provider",children:"Configurar el proveedor de Next Auth"}),"\n",(0,s.jsx)(u.Ay,{}),"\n",(0,s.jsxs)(n.p,{children:["Modifica la configuraci\xf3n de la ruta de la API de Next Auth, si est\xe1s utilizando Pages Router, el archivo est\xe1 en ",(0,s.jsx)(n.code,{children:"pages/api/auth/[...nextauth].js"}),", si est\xe1s utilizando App Router, el archivo est\xe1 en ",(0,s.jsx)(n.code,{children:"app/api/auth/[...nextauth]/route.ts"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"El siguiente es un ejemplo de App Router:"}),"\n",(0,s.jsxs)(a.A,{children:[(0,s.jsxs)(c.A,{value:"v5",label:"Next Auth v5",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nexport const {\n  handlers: { GET, POST },\n  signIn,\n  signOut,\n  auth,\n} = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oidc',\n      // Puedes obtener el valor del emisor desde la p\xe1gina de Detalles de la Aplicaci\xf3n de Logto,\n      // en el campo \"Punto de acceso del emisor\"\n      issuer: 'https://xxxx.logto.app/oidc',\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      authorization: {\n        params: { scope: 'openid offline_access profile email' },\n      },\n      profile(profile) {\n        // Puedes personalizar el mapeo del perfil de usuario aqu\xed\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Reemplaza la URL del ",(0,s.jsx)(n.code,{children:"issuer"}),' con el "Punto de acceso del emisor" de tu aplicaci\xf3n Logto.']}),"\n",(0,s.jsxs)(n.li,{children:["Reemplaza el ",(0,s.jsx)(n.code,{children:"clientId"})," y el ",(0,s.jsx)(n.code,{children:"clientSecret"})," con el ID y el secreto de tu aplicaci\xf3n Logto."]}),"\n",(0,s.jsxs)(n.li,{children:["Personaliza la funci\xf3n ",(0,s.jsx)(n.code,{children:"profile"})," para mapear el perfil de usuario al objeto de usuario de Next Auth, el mapeo predeterminado se muestra en el ejemplo."]}),"\n"]})]}),(0,s.jsxs)(c.A,{value:"v4",label:"Next Auth v4",children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nconst handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oauth',\n      // Puedes obtener la URL conocida desde la p\xe1gina de Detalles de la Aplicaci\xf3n de Logto,\n      // en el campo \"Punto de configuraci\xf3n del proveedor de OpenID\"\n      wellKnown: 'https://xxxx.logto.app/oidc/.well-known/openid-configuration',\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      client: {\n        id_token_signed_response_alg: 'ES384',\n      },\n      profile(profile) {\n        // Puedes personalizar el mapeo del perfil de usuario aqu\xed\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n\nexport { handler as GET, handler as POST };\n"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Reemplaza la URL de ",(0,s.jsx)(n.code,{children:"wellKnown"}),' con el "Punto de configuraci\xf3n del proveedor de OpenID" de tu aplicaci\xf3n Logto.']}),"\n",(0,s.jsxs)(n.li,{children:["Reemplaza el ",(0,s.jsx)(n.code,{children:"clientId"})," y el ",(0,s.jsx)(n.code,{children:"clientSecret"})," con el ID y el secreto de tu aplicaci\xf3n Logto."]}),"\n",(0,s.jsxs)(n.li,{children:["Personaliza la funci\xf3n ",(0,s.jsx)(n.code,{children:"profile"})," para mapear el perfil de usuario al objeto de usuario de Next Auth, el mapeo predeterminado se muestra en el ejemplo."]}),"\n",(0,s.jsxs)(n.li,{children:["Recuerda establecer el ",(0,s.jsx)(n.code,{children:"id_token_signed_response_alg"})," en ",(0,s.jsx)(n.code,{children:"ES384"}),"."]}),"\n"]})]})]})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}function f(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["En esta gu\xeda, asumimos que has configurado Next Auth en tu proyecto Next.js. Si no lo has hecho, consulta la ",(0,s.jsx)(n.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"documentaci\xf3n de Next Auth"})," para comenzar."]}),"\n"]})})}function g(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}var b=r(5376);function v(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-ts",children:"const handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      // ... other options\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      // ... other options\n    },\n  ],\n});\n"})})}function y(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(v,{...e})}):v(e)}const A=[...b.RM];function N(e){return(0,s.jsx)(b.Ay,{configScopesCode:(0,s.jsx)(y,{})})}function R(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(N,{...e})}):N()}const w={slug:"/quick-starts/next-auth",sidebar_label:"Next Auth",sidebar_custom_props:{logoFilename:"next-auth.svg",description:"Autenticaci\xf3n para Next.js."}},_="A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Next Auth",I={},E=[{value:"Prerrequisitos",id:"prerequisites",level:2},{value:"Integraci\xf3n",id:"integration",level:2},{value:"Configurar el proveedor de Next Auth",id:"config-next-auth-provider",level:3},...x,{value:"Punto de control",id:"checkpoint",level:3},{value:"Alcances y reclamos",id:"scopes-and-claims",level:2},...A,{value:"Lecturas adicionales",id:"further-readings",level:2},...o.RM];function L(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,t.R)(),...e.components},{Url:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"a\xf1ade-autenticaci\xf3n-a-tu-aplicaci\xf3n-next-auth",children:"A\xf1ade autenticaci\xf3n a tu aplicaci\xf3n Next Auth"})}),"\n",(0,s.jsxs)(n.p,{children:["Esta gu\xeda te mostrar\xe1 c\xf3mo integrar Logto en tu aplicaci\xf3n Next.js con ",(0,s.jsx)(n.a,{href:"https://next-auth.js.org/",children:"Next Auth"}),"."]}),"\n",(0,s.jsx)(g,{}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerrequisitos"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Una cuenta de ",(0,s.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," o un ",(0,s.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto autoalojado"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Una aplicaci\xf3n tradicional de Logto creada."}),"\n",(0,s.jsxs)(n.li,{children:["Un proyecto Next.js con Next Auth, consulta la ",(0,s.jsx)(n.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"documentaci\xf3n de Next Auth"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"integration",children:"Integraci\xf3n"}),"\n",(0,s.jsx)(n.h3,{id:"config-next-auth-provider",children:"Configurar el proveedor de Next Auth"}),"\n",(0,s.jsx)(m,{}),"\n",(0,s.jsx)(n.h3,{id:"checkpoint",children:"Punto de control"}),"\n",(0,s.jsx)(n.p,{children:"Ahora, puedes probar tu aplicaci\xf3n para ver si la autenticaci\xf3n funciona como se espera."}),"\n",(0,s.jsx)(n.h2,{id:"scopes-and-claims",children:"Alcances y reclamos"}),"\n",(0,s.jsx)(R,{}),"\n",(0,s.jsx)(n.h2,{id:"further-readings",children:"Lecturas adicionales"}),"\n",(0,s.jsx)(o.Ay,{}),"\n",(0,s.jsx)(r,{href:"https://blog.logto.io/next-auth-v5",children:(0,s.jsx)(n.p,{children:"Migraci\xf3n de la integraci\xf3n de Logto de NextAuth.js v4 a v5"})})]})}function k(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(L,{...e})}):L(e)}},3768:(e,n,r)=>{r.d(n,{A:()=>o});r(58101);var i=r(13526);const s={tabItem:"tabItem_y6LR"};var t=r(25105);function o(e){let{children:n,hidden:r,className:o}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,i.A)(s.tabItem,o),hidden:r,children:n})}},11043:(e,n,r)=>{r.d(n,{A:()=>A});var i=r(58101),s=r(13526),t=r(32571),o=r(55234),c=r(87394),a=r(87276),l=r(31637),d=r(16063);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:s}}=e;return{value:n,label:r,attributes:i,default:s}}))}(r);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const s=(0,o.W6)(),t=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,a.aZ)(t),(0,i.useCallback)((e=>{if(!t)return;const n=new URLSearchParams(s.location.search);n.set(t,e),s.replace({...s.location,search:n.toString()})}),[t,s])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:s}=e,t=h(e),[o,a]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:t}))),[l,u]=x({queryString:r,groupId:s}),[j,m]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,t]=(0,d.Dv)(r);return[s,(0,i.useCallback)((e=>{r&&t.set(e)}),[r,t])]}({groupId:s}),f=(()=>{const e=l??j;return p({value:e,tabValues:t})?e:null})();(0,c.A)((()=>{f&&a(f)}),[f]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);a(e),u(e),m(e)}),[u,m,t]),tabValues:t}}var m=r(27034);const f={tabList:"tabList_swUI",tabItem:"tabItem_BXZ5"};var g=r(25105);function b(e){let{className:n,block:r,selectedValue:i,selectValue:o,tabValues:c}=e;const a=[],{blockElementScrollPositionUntilNextRender:l}=(0,t.a_)(),d=e=>{const n=e.currentTarget,r=a.indexOf(n),s=c[r].value;s!==i&&(l(n),o(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=a.indexOf(e.currentTarget)+1;n=a[r]??a[0];break}case"ArrowLeft":{const r=a.indexOf(e.currentTarget)-1;n=a[r]??a[a.length-1];break}}n?.focus()};return(0,g.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},n),children:c.map((e=>{let{value:n,label:r,attributes:t}=e;return(0,g.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>a.push(e),onKeyDown:u,onClick:d,...t,className:(0,s.A)("tabs__item",f.tabItem,t?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function v(e){let{lazy:n,children:r,selectedValue:t}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===t));return e?(0,i.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,g.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==t})))})}function y(e){const n=j(e);return(0,g.jsxs)("div",{className:(0,s.A)("tabs-container",f.tabList),children:[(0,g.jsx)(b,{...n,...e}),(0,g.jsx)(v,{...n,...e})]})}function A(e){const n=(0,m.A)();return(0,g.jsx)(y,{...e,children:u(e.children)},String(n))}},79621:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>c});var i=r(58101);const s={},t=i.createContext(s);function o(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);