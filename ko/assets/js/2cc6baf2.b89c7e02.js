"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[3198],{75734:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>l,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"logto-oss/develop-your-connector/implement-connectors","title":"\ucee4\ub125\ud130 \uad6c\ud604","description":"\ucee4\ub125\ud130\uc758 \ud30c\uc77c \uad6c\uc870\ub97c \uc0b4\ud3b4\ubcf8 \ud6c4, \ucee4\ub125\ud130 \uac1c\ubc1c\uc758 \uad6c\ud604 \ubc0f \uc8fc\uc694 \uc544\uc774\ub514\uc5b4\uc5d0 \ub300\ud574 \ub17c\uc758\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4.","source":"@site/i18n/ko/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/implement-connectors.mdx","sourceDirName":"logto-oss/develop-your-connector","slug":"/logto-oss/develop-your-connector/implement-connectors","permalink":"/ko/logto-oss/develop-your-connector/implement-connectors","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/ko/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/implement-connectors.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"\ucee4\ub125\ud130 \ud30c\uc77c \uad6c\uc870","permalink":"/ko/logto-oss/develop-your-connector/connector-file-structure"},"next":{"title":"\uc18c\uc15c \ucee4\ub125\ud130 \uac1c\ubc1c \ub2e8\uacc4\ubcc4 \uac00\uc774\ub4dc","permalink":"/ko/logto-oss/develop-your-connector/step-by-step-guide"}}');var s=o(25105),r=o(79621);const c={sidebar_position:2},i="\ucee4\ub125\ud130 \uad6c\ud604",l={},d=[{value:"\uc18c\uc15c \ucee4\ub125\ud130 \uad6c\ucd95",id:"build-a-social-connector",level:2},{value:"getAuthorizationUri",id:"getauthorizationuri",level:3},{value:"getAccessToken",id:"getaccesstoken",level:3},{value:"getUserInfo",id:"getuserinfo",level:3},{value:"\ud328\uc2a4\uc6cc\ub4dc\ub9ac\uc2a4 \ucee4\ub125\ud130 \uad6c\ucd95",id:"build-a-passwordless-connector",level:2},{value:"sendMessage",id:"sendmessage",level:3},{value:"\uadf8 \uc678\uc5d0 \ub354 \uc54c\uc544\uc57c \ud560 \uac83\ub4e4",id:"whats-more",level:2},{value:"\uc790\uccb4 \ucee4\ub125\ud130 \uc124\uce58",id:"install-your-own-connectors",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"\ucee4\ub125\ud130-\uad6c\ud604",children:"\ucee4\ub125\ud130 \uad6c\ud604"})}),"\n",(0,s.jsx)(n.p,{children:"\ucee4\ub125\ud130\uc758 \ud30c\uc77c \uad6c\uc870\ub97c \uc0b4\ud3b4\ubcf8 \ud6c4, \ucee4\ub125\ud130 \uac1c\ubc1c\uc758 \uad6c\ud604 \ubc0f \uc8fc\uc694 \uc544\uc774\ub514\uc5b4\uc5d0 \ub300\ud574 \ub17c\uc758\ud574 \ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsx)(n.p,{children:"\uc18c\uc15c \ubc0f \ud328\uc2a4\uc6cc\ub4dc\ub9ac\uc2a4 \ucee4\ub125\ud130\uc5d0 \ub300\ud55c \uac04\ub2e8\ud55c \uc608\uc81c\ub97c \ud1b5\ud574 \uac70\uc758 \ub3d9\uc77c\ud55c \uc544\uc774\ub514\uc5b4\ub85c \ucee4\ub125\ud130\ub97c \uad6c\ucd95\ud560 \uc218 \uc788\ub3c4\ub85d \ud558\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\uc774 \ubd80\ubd84\uc5d0\uc11c\ub294 \ud2b9\uc815 \ub9e4\uac1c\ubcc0\uc218 (\uc608: ",(0,s.jsx)(n.code,{children:"config"}),")\uc758 \uc138\ubd80 \uc0ac\ud56d\uc5d0 \uae4a\uc774 \ub4e4\uc5b4\uac00\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \uc774\ub294 \uc774 \uac00\uc774\ub4dc\uc758 \ubaa9\uc801\uc774 \uc544\ub2d9\ub2c8\ub2e4. \uc0c8\ub85c\uc6b4 \ucee4\ub125\ud130\ub97c \uad6c\ud604\ud558\ub294 \uac1c\ubc1c\uc790\ub294 \ud0c0\uc0ac \uc11c\ube44\uc2a4 \uc81c\uacf5\uc5c5\uccb4\uac00 \uc81c\uacf5\ud558\ub294 \ubb38\uc11c\ub97c \uc77d\uc5b4\uc57c \ud558\uba70, \ud574\ub2f9 \ubb38\uc11c\uc5d0\uc11c\ub294 \ub9e4\uac1c\ubcc0\uc218\uc5d0 \ub300\ud55c \uc138\ubd80 \uc0ac\ud56d\uc744 \uc124\uba85\ud574\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h2,{id:"build-a-social-connector",children:"\uc18c\uc15c \ucee4\ub125\ud130 \uad6c\ucd95"}),"\n",(0,s.jsx)(n.p,{children:"GitHub \ucee4\ub125\ud130\ub97c \uc608\ub85c \ub4e4\uc5b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\ub300\ubd80\ubd84\uc758 \uc18c\uc15c \ucee4\ub125\ud130\uc758 \uc778\uac00 \ud750\ub984\uc740 ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-basic-1_0.html",children:"OAuth \uc778\uac00 \ucf54\ub4dc \ud750\ub984"}),"\uc744 \ub530\ub985\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsxs)(n.p,{children:["\ub300\ubd80\ubd84\uc758 ",(0,s.jsx)(n.em,{children:"\uc18c\uc15c \ucee4\ub125\ud130"}),"\ub294 \ucd5c\uc885 \uc0ac\uc6a9\uc790\uc758 \uc778\uc99d\uc744 \ud1b5\ud574 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544\uc744 \uc5bb\ub294 \ub450 \ub2e8\uacc4\uc758 \uc2a4\ud0b4\uc744 \ub530\ub985\ub2c8\ub2e4 (\ubaa8\ub4e0 \ub2e8\uacc4\uac00 \uc131\uacf5\ud55c\ub2e4\uace0 \uac00\uc815):"]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"\uc778\uc99d \uc694\uccad\uc744 \uc2dc\uc791\ud558\uace0 \uc0ac\uc6a9\uc790\uc758 \uc778\uc99d\uc744 \uc5bb\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.li,{children:["\ucee4\ub125\ud130 \uacf5\uae09\uc5c5\uccb4\uac00 \ubd80\uc5ec\ud55c ",(0,s.jsx)(n.code,{children:"authCode"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec ",(0,s.jsx)(n.code,{children:"\uc561\uc138\uc2a4 \ud1a0\ud070 (accessToken)"}),"\uc744 \uac00\uc838\uc635\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"\uc561\uc138\uc2a4 \ud1a0\ud070 (accessToken)"}),"\uc744 \uc0ac\uc6a9\ud558\uc5ec \uacf5\uac1c\uc801\uc73c\ub85c \uc811\uadfc \uac00\ub2a5\ud55c \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544\uc744 \uc694\uccad\ud569\ub2c8\ub2e4."]}),"\n"]})]}),"\n",(0,s.jsx)(n.mermaid,{value:"sequenceDiagram\n\tactor user as \ucd5c\uc885 \uc0ac\uc6a9\uc790\n\tparticipant logto as Logto\n\tparticipant platform as \ud0c0\uc0ac \uc18c\uc15c \ud50c\ub7ab\ud3fc\n\n\tuser ->> logto: \uc0ac\uc6a9\uc790\uac00 \uc18c\uc15c \ub85c\uadf8\uc778 \uc2dc\uc791\n\tlogto ->> platform: Logto\uac00 \ud0c0\uc0ac \uc18c\uc15c \ud50c\ub7ab\ud3fc\uc73c\ub85c \ub9ac\ub514\ub809\uc158\n\tplatform --\x3e> user: \uc18c\uc15c \ud50c\ub7ab\ud3fc\uc774 \uc0ac\uc6a9\uc790\uc5d0\uac8c \ub85c\uadf8\uc778 \uc694\uccad\n\tuser ->> platform: \uc0ac\uc6a9\uc790\uac00 \ub85c\uadf8\uc778\ud558\uace0 Logto\uc758 \uc811\uadfc\uc744 \uc2b9\uc778\n\tplatform --\x3e> logto: \uc778\uac00 \ucf54\ub4dc\uc640 \ud568\uaed8 Logto \ucf5c\ubc31 URI\ub85c \ub9ac\ub514\ub809\uc158\n\tlogto ->> platform: Logto\uac00 \ucf54\ub4dc\ub97c \uc561\uc138\uc2a4 \ud1a0\ud070\uc73c\ub85c \uad50\ud658\n\tplatform --\x3e> logto: \uc18c\uc15c \ud50c\ub7ab\ud3fc\uc774 \uc561\uc138\uc2a4 \ud1a0\ud070 \ubc18\ud658\n\tlogto ->> platform: Logto\uac00 \uc561\uc138\uc2a4 \ud1a0\ud070\uc73c\ub85c \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uac00\uc838\uc634\n\tplatform --\x3e> logto: \uc18c\uc15c \ud50c\ub7ab\ud3fc\uc774 \uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc18\ud658\n\tlogto --\x3e> user: Logto\uac00 \uc0ac\uc6a9\uc790 \uc571\uc5d0 \uc0ac\uc6a9\uc790 \uc815\ubcf4 \ubc18\ud658, <br> \ub85c\uadf8\uc778 \ud750\ub984 \uc644\ub8cc"}),"\n",(0,s.jsx)(n.p,{children:"\uc774 \ud750\ub984\uc744 \uc644\ub8cc\ud558\uae30 \uc704\ud574 \ub2e4\uc74c \uc138 \uac00\uc9c0 \uba54\uc11c\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4:"}),"\n",(0,s.jsx)(n.h3,{id:"getauthorizationuri",children:"getAuthorizationUri"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"getAuthorizationUri"}),"\ub294 \ucd5c\uc885 \uc0ac\uc6a9\uc790\ub97c \uc778\uc99d\uc774 \ud544\uc694\ud55c \ud398\uc774\uc9c0\ub85c \ub9ac\ub514\ub809\uc158\ud560 \uc218 \uc788\ub294 URL\uc744 \uc0dd\uc131\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\uc778\ud130\ud398\uc774\uc2a4\ub294 ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/logto/blob/master/packages/toolkit/connector-kit/src/types/social.ts",children:(0,s.jsx)(n.code,{children:"@logto/connector-kit"})}),"\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"GetAuthorizationUri"}),"\ub85c \uc815\uc758\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"getUserInfo"})," \uba54\uc11c\ub4dc\ub97c \uc704\ud574 ",(0,s.jsx)(n.code,{children:"setSession"})," ( ",(0,s.jsx)(n.code,{children:"GetAuthorizationUri"}),"\uc758 \ub450 \ubc88\uc9f8 \uc785\ub825 \ub9e4\uac1c\ubcc0\uc218)\uc744 \uc0ac\uc6a9\ud558\uc5ec \ub85c\uadf8\uc778 \uad00\ub828 \ud544\uc218 \uc815\ubcf4\ub97c \uc800\uc7a5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.p,{children:"\ud544\uc218 \ub9e4\uac1c\ubcc0\uc218\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"authorizationEndpoint"}),"\ub294 GitHub OAuth \ubb38\uc11c \uc0ac\uc774\ud2b8\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc73c\uba70, \ucd5c\uc885 \uc0ac\uc6a9\uc790\uac00 \uc778\uc99d\uc744 \uc704\ud574 \uac00\uc57c \ud558\ub294 \ud398\uc774\uc9c0\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config"}),", GitHub \uc2dc\ub098\ub9ac\uc624\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"clientId"}),"\uc640 ",(0,s.jsx)(n.code,{children:"clientSecret"}),"\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["CSRF\ub97c \uc99d\uba85\ud558\uae30 \uc704\ud55c \uc784\uc758\uc758 \ubb38\uc790\uc5f4\uc778 ",(0,s.jsx)(n.code,{children:"state"})]}),"\n",(0,s.jsxs)(n.li,{children:["\ucd5c\uc885 \uc0ac\uc6a9\uc790\uc758 \uc131\uacf5\uc801\uc778 \uc778\uc99d \ud6c4 \ub79c\ub529 \ud398\uc774\uc9c0\uc758 ",(0,s.jsx)(n.code,{children:"redirectUri"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const getAuthorizationUri = async ({ state, redirectUri }) => {\n  const queryParameters = new URLSearchParams({\n    client_id: config.clientId, // `config`\ub294 GitHub \uc560\ud50c\ub9ac\ucf00\uc774\uc158 \uc790\uaca9 \uc99d\uba85\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4.\n    redirect_uri: redirectUri,\n    state,\n  });\n\n  return `${authorizationEndpoint}?${queryParameters.toString()}`;\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getaccesstoken",children:"getAccessToken"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"getAccessToken"}),"\uc740 \ucd5c\uc885 \uc0ac\uc6a9\uc790\uc758 \uc131\uacf5\uc801\uc778 \uc778\uc99d \ud6c4 \ubc1c\uae09\ub41c \uc778\uac00 \ucf54\ub4dc\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc561\uc138\uc2a4 \ud1a0\ud070\uc744 \uac00\uc838\uc635\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\uc774\uc804 ",(0,s.jsx)(n.code,{children:"getAuthorizationUri"})," \uba54\uc11c\ub4dc\uc5d0\uc11c \uc5b8\uae09\ud55c ",(0,s.jsx)(n.code,{children:"config"})," \uc678\uc5d0\ub3c4 \ub2e4\uc74c\uc744 \uc5bb\uace0\uc790 \ud569\ub2c8\ub2e4:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ub9ac\ub514\ub809\uc158 \ub79c\ub529 \ud398\uc774\uc9c0\ub85c \uac00\uc838\uc628 \ub9e4\uac1c\ubcc0\uc218\uc5d0\uc11c \uc778\uac00 ",(0,s.jsx)(n.code,{children:"code"})]}),"\n",(0,s.jsxs)(n.li,{children:["\uc778\uac00 \ucf54\ub4dc\ub85c \uc561\uc138\uc2a4 \ud1a0\ud070\uc744 \uc5bb\uae30 \uc704\ud55c ",(0,s.jsx)(n.code,{children:"accessTokenEndpoint"})]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const getAccessToken = async (config: GithubConfig, code: string) => {\n  const { clientId: client_id, clientSecret: client_secret } = config;\n\n  const httpResponse = await got.post({\n    url: accessTokenEndpoint,\n    json: {\n      client_id,\n      client_secret,\n      code,\n    },\n    timeout: defaultTimeout,\n  });\n\n  const result = accessTokenResponseGuard.safeParse(qs.parse(httpResponse.body));\n\n  if (!result.success) {\n    throw new ConnectorError(ConnectorErrorCodes.InvalidResponse, result.error);\n  }\n\n  const { access_token: accessToken } = result.data;\n\n  assert(accessToken, new ConnectorError(ConnectorErrorCodes.SocialAuthCodeInvalid));\n\n  return { accessToken };\n};\n"})}),"\n",(0,s.jsx)(n.h3,{id:"getuserinfo",children:"getUserInfo"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"getUserInfo"}),"\ub294 \uc774\uc804 \ub2e8\uacc4\uc5d0\uc11c \uc5bb\uc740 \uc561\uc138\uc2a4 \ud1a0\ud070\uc73c\ub85c \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uac00\uc838\uc635\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\uc778\ud130\ud398\uc774\uc2a4\ub294 ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/logto/blob/master/packages/toolkit/connector-kit/src/types/social.ts",children:(0,s.jsx)(n.code,{children:"@logto/connector-kit"})}),"\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"GetUserInfo"}),"\ub85c \uc815\uc758\ub429\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:["\ub85c\uadf8\uc778 \ubaa9\uc801\uc744 \uc704\ud574 ",(0,s.jsx)(n.code,{children:"getSession"})," \ud568\uc218\ub97c \uc0ac\uc6a9\ud558\uc5ec \ud544\uc694\ud55c \uc815\ubcf4\ub97c \uac80\uc0c9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.code,{children:"userInfoEndpoint"}),"\ub294 \uc0ac\uc6a9\uc790 \uc815\ubcf4\ub97c \uc5bb\uae30 \uc704\ud574 \uc0ac\uc6a9\ub418\ub294 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.p,{children:"\uacf5\uc2dd \ubb38\uc11c\ub97c \ud655\uc778\ud558\uc5ec \uc0ac\uc6a9\uc790 \uc815\ubcf4 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc5d0\uc11c \uc811\uadfc\ud560 \uc218 \uc788\ub294 \ud2b9\uc815 \uc0ac\uc6a9\uc790 \uc815\ubcf4\uc640 \ud574\ub2f9 \uc2a4\ucf54\ud504\ub97c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\ucee4\ub125\ud130\uc758 \uc544\uc774\ub374\ud2f0\ud2f0 \uc81c\uacf5\uc790 (\uc774 \uacbd\uc6b0 GitHub)\uc5d0 \uc758\ud574 \ud560\ub2f9\ub41c ",(0,s.jsx)(n.code,{children:"id"}),"\ub294 \ud544\uc218\uc774\uba70, \ub2e4\ub978 \uc815\ubcf4\ub294 \uc120\ud0dd \uc0ac\ud56d\uc785\ub2c8\ub2e4. \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"email"})," \ub610\ub294 ",(0,s.jsx)(n.code,{children:"phone"}),'\uc744 \uc5bb\uc744 \uc218 \uc788\ub2e4\uba74, \ubc18\ub4dc\uc2dc "\ud655\uc778\ub41c" \uc0c1\ud0dc\uc5ec\uc57c \ud569\ub2c8\ub2e4. \ub610\ud55c \ubc18\ud658\ub418\ub294 \ud0a4\ub97c ',(0,s.jsx)(n.a,{href:"/user-management/user-data/#basic-data",children:"Logto \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544"}),"\uc758 \ud544\ub4dc \uc774\ub984\uacfc \uc77c\uce58\uc2dc\ucf1c\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const getUserInfo = async (\n  data: { code: string; config: GithubConfig },\n  getSession: GetSession,\n  { set: SetStorageValue, get: GetStorageValue }\n) => {\n  const { code, config } = data;\n  const { accessToken } = await getAccessToken(config, code);\n\n  try {\n    const httpResponse = await got.get(userInfoEndpoint, {\n      headers: {\n        authorization: `token ${accessToken}`,\n      },\n      timeout: defaultTimeout,\n    });\n\n    const result = userInfoResponseGuard.safeParse(parseJson(httpResponse.body));\n\n    if (!result.success) {\n      throw new ConnectorError(ConnectorErrorCodes.InvalidResponse, result.error);\n    }\n\n    const { id, avatar_url: avatar, email, name } = result.data;\n\n    return {\n      id: String(id),\n      avatar: conditional(avatar),\n      email: conditional(email),\n      name: conditional(name),\n    };\n  } catch (error: unknown) {\n    if (error instanceof HTTPError) {\n      const { statusCode, body: rawBody } = error.response;\n\n      if (statusCode === 401) {\n        throw new ConnectorError(ConnectorErrorCodes.SocialAccessTokenInvalid);\n      }\n\n      throw new ConnectorError(ConnectorErrorCodes.General, JSON.stringify(rawBody));\n    }\n\n    throw error;\n  }\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\uc644\uc804\ud55c \uad6c\ud604\uc740 ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/connectors/blob/master/packages/connector-github/src/index.ts",children:"\uc5ec\uae30"}),"\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.p,{children:"\uad6c\uc131 \uac00\ub2a5\ud55c \ub9e4\uac1c\ubcc0\uc218\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 GitHub \ucee4\ub125\ud130 README \ub610\ub294 GitHub \uacf5\uc2dd \ubb38\uc11c\ub97c \ucc38\uc870\ud558\uc138\uc694."}),"\n",(0,s.jsxs)(n.admonition,{type:"note",children:[(0,s.jsx)(n.p,{children:"\uc6b0\ub9ac\uac00 \ub17c\uc758\ud55c \uc608\uc81c\ub294 Logto\uc758 GitHub \ucee4\ub125\ud130\uc5d0\uc11c \uc0ac\uc6a9\ub418\ub294 OAuth \ud504\ub85c\ud1a0\ucf5c\uc758 \uc778\uac00 \ucf54\ub4dc \ubd80\uc5ec \uc720\ud615\uc744 \uae30\ubc18\uc73c\ub85c \ud569\ub2c8\ub2e4. \uadf8\ub7ec\ub098 \uc0ac\uc6a9\uc790\uc758 \ud504\ub85c\ud544\uc744 \uac80\uc0c9\ud558\uae30 \uc704\ud574 \ub610 \ub2e4\ub978 \ubd80\uc5ec \uc720\ud615\uc778 \uc554\uc2dc\uc801 \ubd80\uc5ec \uc720\ud615\ub3c4 \uc0ac\uc6a9\ud560 \uc218 \uc788\uc73c\uba70, \uc2e4\uc81c\ub85c \uc778\uc99d \uc751\ub2f5\uc5d0\uc11c \uc9c1\uc811 \uc561\uc138\uc2a4 \ud1a0\ud070\uc744 \uc81c\uacf5\ud569\ub2c8\ub2e4. \uc774\ub7ec\ud55c \ud3b8\ub9ac\ud568\uc5d0\ub3c4 \ubd88\uad6c\ud558\uace0, \uc778\uac00 \ucf54\ub4dc \ubd80\uc5ec \uc720\ud615\uc740 \uc77c\ubc18\uc801\uc73c\ub85c \uc554\uc2dc\uc801 \uc720\ud615\ubcf4\ub2e4 \ub354 \uac15\ub825\ud55c \ubcf4\uc548 \ub54c\ubb38\uc5d0 \uad8c\uc7a5\ub429\ub2c8\ub2e4."}),(0,s.jsx)(n.p,{children:"\ub610\ud55c OIDC \ub610\ub294 \ub2e4\ub978 \uc624\ud508 \ud504\ub85c\ud1a0\ucf5c\uc744 \uae30\ubc18\uc73c\ub85c \ucee4\ub125\ud130\ub97c \uad6c\ucd95\ud560 \uc218\ub3c4 \uc788\uc73c\uba70, \uc774\ub294 \uc5f0\uacb0\ud558\ub824\ub294 \uc18c\uc15c \uacf5\uae09\uc5c5\uccb4\uc758 \ud638\ud658\uc131\ubfd0\ub9cc \uc544\ub2c8\ub77c \uc0ac\uc6a9 \uc0ac\ub840\uc5d0 \ub530\ub77c \ub2e4\ub985\ub2c8\ub2e4."})]}),"\n",(0,s.jsx)(n.h2,{id:"build-a-passwordless-connector",children:"\ud328\uc2a4\uc6cc\ub4dc\ub9ac\uc2a4 \ucee4\ub125\ud130 \uad6c\ucd95"}),"\n",(0,s.jsx)(n.p,{children:"\ud328\uc2a4\uc6cc\ub4dc\ub9ac\uc2a4 \ucee4\ub125\ud130\ub97c \uad6c\ucd95\ud558\ub294 \uacfc\uc815\uc744 \uc774\ud574\ud558\uae30 \uc704\ud574 Aliyun \ub2e4\uc774\ub809\ud2b8 \uba54\uc77c \ucee4\ub125\ud130\uc758 \uad6c\ud604\uc744 \uc0b4\ud3b4\ubcf4\uaca0\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\ud328\uc2a4\uc6cc\ub4dc\ub9ac\uc2a4 \ucee4\ub125\ud130\ub294 \ucd5c\uc885 \uc0ac\uc6a9\uc790\uc758 \uc774\uba54\uc77c \ub610\ub294 \uc804\ud654\ub85c \uc784\uc758\uc758 \ucf54\ub4dc\ub97c \ubcf4\ub0b4\ub294 \ub370 \uc0ac\uc6a9\ub429\ub2c8\ub2e4. \uacb0\uacfc\uc801\uc73c\ub85c ",(0,s.jsx)(n.code,{children:"sendMessage"})," \uba54\uc11c\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.h3,{id:"sendmessage",children:"sendMessage"}),"\n",(0,s.jsxs)(n.p,{children:["\uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\uae30 \uc704\ud574\uc11c\ub294 ",(0,s.jsx)(n.code,{children:"config"}),"\uc640 ",(0,s.jsx)(n.code,{children:"endpoint"}),"\uac00 \uc62c\ubc14\ub974\uac8c \uc124\uc815\ub418\uc5b4\uc57c \ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"endpoint"}),"\ub294 API \ud638\ucd9c\uc774 \uc5f0\uacb0\ub418\ub294 \uc5d4\ub4dc\ud3ec\uc778\ud2b8\uc785\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"config"}),"\ub294 ",(0,s.jsx)(n.code,{children:"templates"})," (\ub2e4\uc591\ud55c \uc0ac\uc6a9\uc790 \ud750\ub984\uc5d0\uc11c \ud328\uc2a4\ucf54\ub4dc\ub97c \ubcf4\ub0b4\uae30 \uc704\ud55c \ucf58\ud150\uce20 \ud15c\ud50c\ub9bf), ",(0,s.jsx)(n.code,{children:"clientId"})," \ubc0f ",(0,s.jsx)(n.code,{children:"clientSecret"})," (API \uc694\uccad\uc5d0 \uc811\uadfc\ud558\uae30 \uc704\ud55c)\uc744 \ud3ec\ud568\ud569\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"const sendMessage = async (data, inputConfig) => {\n  const { to, type, payload } = data;\n  const config = inputConfig ?? (await getConfig(defaultMetadata.id));\n  validateConfig<AliyunDmConfig>(config, aliyunDmConfigGuard);\n  const { accessKeyId, accessKeySecret, accountName, fromAlias, templates } = config;\n  const template = templates.find((template) => template.usageType === type);\n\n  assert(\n    template,\n    new ConnectorError(\n      ConnectorErrorCodes.TemplateNotFound,\n      `Cannot find template for type: ${type}`\n    )\n  );\n\n  const parameters = {\n    AccessKeyId: accessKeyId,\n    AccountName: accountName,\n    ReplyToAddress: 'false',\n    AddressType: '1',\n    ToAddress: to,\n    FromAlias: fromAlias,\n    Subject: template.subject,\n    HtmlBody:\n      typeof payload.code === 'string'\n        ? template.content.replace(/{{code}}/g, payload.code)\n        : template.content,\n  };\n\n  try {\n    const httpResponse = await request(\n      endpoint,\n      { Action: 'SingleSendMail', ...staticConfigs, ...parameters },\n      accessKeySecret\n    );\n\n    const result = sendEmailResponseGuard.safeParse(parseJson(httpResponse.body));\n\n    if (!result.success) {\n      throw new ConnectorError(ConnectorErrorCodes.InvalidResponse, result.error);\n    }\n\n    return result.data;\n  } catch (error: unknown) {\n    if (error instanceof HTTPError) {\n      const {\n        response: { body: rawBody },\n      } = error;\n\n      assert(typeof rawBody === 'string', new ConnectorError(ConnectorErrorCodes.InvalidResponse));\n\n      errorHandler(rawBody);\n    }\n\n    throw error;\n  }\n};\n\nconst request = async (\n  url: string,\n  parameters: PublicParameters & Record<string, string>,\n  accessKeySecret: string\n) => {\n  const finalParameters: Record<string, string> = {\n    ...parameters,\n    SignatureNonce: String(Math.random()),\n    Timestamp: new Date().toISOString(),\n  };\n  const signature = getSignature(finalParameters, accessKeySecret, 'POST');\n\n  const payload = new URLSearchParams();\n\n  for (const [key, value] of Object.entries(finalParameters)) {\n    payload.append(key, value);\n  }\n  payload.append('Signature', signature);\n\n  return got.post({\n    url,\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n    },\n    form: payload,\n  });\n};\n"})}),"\n",(0,s.jsxs)(n.p,{children:["\uc644\uc804\ud55c \uad6c\ud604\uc740 ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/connectors/blob/master/packages/connector-aliyun-dm/src/index.ts",children:"\uc5ec\uae30"}),"\uc5d0\uc11c \ucc3e\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsx)(n.p,{children:"\uad6c\uc131 \uac00\ub2a5\ud55c \ub9e4\uac1c\ubcc0\uc218\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \ub0b4\uc6a9\uc740 Aliyun \ub2e4\uc774\ub809\ud2b8 \uba54\uc77c \ucee4\ub125\ud130 README \ub610\ub294 Aliyun \ub2e4\uc774\ub809\ud2b8 \uba54\uc77c \uacf5\uc2dd \ubb38\uc11c\ub97c \ucc38\uc870\ud558\uc138\uc694."}),"\n",(0,s.jsx)(n.h2,{id:"whats-more",children:"\uadf8 \uc678\uc5d0 \ub354 \uc54c\uc544\uc57c \ud560 \uac83\ub4e4"}),"\n",(0,s.jsxs)(n.p,{children:["\ucee4\ub125\ud130 \uba54\uc11c\ub4dc\uc758 \uc815\uc758\ub97c \ubcf4\uace0 \ucee4\ub125\ud130 \uc778\ud130\ud398\uc774\uc2a4 \uc124\uacc4\uc758 \uadf8\ub9bc\uc744 \uadf8\ub9ac\ub824\uba74 ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/logto/tree/master/packages/toolkit/connector-kit",children:(0,s.jsx)(n.code,{children:"@logto/connector-kit"})}),'\ub97c \ucc38\uc870\ud558\uc138\uc694. \ub610\ud55c "',(0,s.jsx)(n.a,{href:"/connectors/connector-data-structure/#connectors-local-storage-connectormetadata",children:"\ucee4\ub125\ud130 - ConnectorMetadata"}),'" \ubc0f "',(0,s.jsx)(n.a,{href:"/logto-oss/develop-your-connector/connector-file-structure/",children:"\ucee4\ub125\ud130 \ud30c\uc77c \uad6c\uc870"}),'"\uc5d0\uc11c ',(0,s.jsx)(n.em,{children:"ConnectorMetadata"})," \ucc38\uc870\ub97c \ucc3e\uc744 \uc218 \uc788\uc73c\uba70, \uc774\ub97c \ud1b5\ud574 \uad6c\ud604\uc744 \uc5b4\ub5bb\uac8c \uc870\uc9c1\ud560\uc9c0 \ud30c\uc545\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\ubaa8\ub4e0 \ucee4\ub125\ud130\uc5d0 \ub300\ud574 ",(0,s.jsx)(n.em,{children:"Zod"})," \uc2a4\ud0a4\ub9c8\uc758 \ucee4\ub125\ud130 ",(0,s.jsx)(n.code,{children:"config"}),"\uac00 \ud544\uc218\uc785\ub2c8\ub2e4. \uc774\ub294 ",(0,s.jsx)(n.code,{children:"config"}),"\ub97c DB\uc5d0 \uc800\uc7a5\ud558\uace0 ",(0,s.jsx)(n.code,{children:"config"})," \uc815\ubcf4\uac00 \ud544\uc694\ud55c API\ub97c \ud638\ucd9c\ud558\uae30 \uc804\uc5d0 \ud0c0\uc785 \uac80\uc0ac\ub97c \uc218\ud589\ud558\uae30 \ub54c\ubb38\uc5d0 \ub9e4\uc6b0 \uc911\uc694\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["\ubaa8\ub4e0 ",(0,s.jsx)(n.em,{children:"SMS \ucee4\ub125\ud130"})," \ubc0f ",(0,s.jsx)(n.em,{children:"\uc774\uba54\uc77c \ucee4\ub125\ud130"}),"\ub294 \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc758 \uad6c\uc131 \uc815\ubcf4\ub97c \uc0ac\uc6a9\ud558\uc5ec \uc11c\ube44\uc2a4 \uc81c\uacf5\uc5c5\uccb4\uc758 \uba54\uc2dc\uc9c0 \uc804\uc1a1 API\ub97c \ud638\ucd9c\ud558\uae30 \uc704\ud55c ",(0,s.jsx)(n.code,{children:"sendMessage"})," \uba54\uc11c\ub4dc\uac00 \ud544\uc694\ud569\ub2c8\ub2e4. \uac1c\ubc1c\uc790\ub294 \ub610\ud55c Admin Console\uc5d0\uc11c \ucee4\ub125\ud130\ub97c \uc124\uc815\ud560 \ub54c \uc800\uc7a5\ub418\uc9c0 \uc54a\uc740 \uad6c\uc131\uc73c\ub85c \ud14c\uc2a4\ud2b8 \uba54\uc2dc\uc9c0\ub97c \ubcf4\ub0b4\uae30 \uc704\ud574 \uc774 \uba54\uc11c\ub4dc\ub97c \uc7ac\uc0ac\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["\uc778\uac00 URL \uc0dd\uc131\uae30 ",(0,s.jsx)(n.code,{children:"getAuthorizationUri"}),"\uc640 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \uac80\uc0c9\uae30 ",(0,s.jsx)(n.code,{children:"getUserInfo"}),"\ub294 \ubaa8\ub4e0 ",(0,s.jsx)(n.em,{children:"\uc18c\uc15c \ucee4\ub125\ud130"}),"\uc5d0 \ud544\uc694\ud569\ub2c8\ub2e4 ( ",(0,s.jsx)(n.code,{children:"getAccessToken"}),"\uc740 ",(0,s.jsx)(n.code,{children:"getUserInfo"}),"\uc758 \uc120\ud0dd\uc801 \ub2e8\uacc4\ub85c \uac04\uc8fc\ub429\ub2c8\ub2e4)."]}),"\n",(0,s.jsx)(n.li,{children:"\ubaa8\ub4e0 \ucee4\ub125\ud130\uc758 \uba54\uc11c\ub4dc\ub294 API \ud638\ucd9c\uc744 \ud1b5\ud574 \uc791\ub3d9\ud558\ubbc0\ub85c, \ucee4\ub125\ud130 \uac1c\ubc1c\uc790\ub294 \ubb38\uc11c\ub97c \ud655\uc778\ud558\uace0 API \ud638\ucd9c\uc774 \uc2e4\ud328\ud560 \uc218 \uc788\ub294 \uc751\ub2f5\uc744 \ucc98\ub9ac\ud574\uc57c \ud569\ub2c8\ub2e4."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"install-your-own-connectors",children:"\uc790\uccb4 \ucee4\ub125\ud130 \uc124\uce58"}),"\n",(0,s.jsx)(n.p,{children:"\uc790\uccb4 \ucee4\ub125\ud130 \uad6c\ucd95\uc744 \uc644\ub8cc\ud588\ub2e4\uace0 \uac00\uc815\ud569\ub2c8\ub2e4. \ub2e4\uc74c \ub2e8\uacc4\ub97c \ud1b5\ud574 \uc218\ub3d9\uc73c\ub85c \uc124\uce58\ud558\uc138\uc694:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\uad6c\ud604\ud55c \ucee4\ub125\ud130 \ud3f4\ub354\ub97c ",(0,s.jsx)(n.a,{href:"https://github.com/logto-io/logto",children:(0,s.jsx)(n.code,{children:"logto-io/logto"})}),"\uc758 ",(0,s.jsx)(n.code,{children:"/packages/connectors"})," \ub514\ub809\ud1a0\ub9ac\uc5d0 \ubcf5\uc0ac\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:["logto \ud3f4\ub354\uc758 \ub8e8\ud2b8 \uacbd\ub85c\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"pnpm pnpm:devPreinstall && pnpm i"}),"\ub97c \uc785\ub825\ud558\uc5ec \ucee4\ub125\ud130 \uc800\uc7a5\uc18c\uc758 \uc885\uc18d\uc131\uc744 \uc124\uce58\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pnpm connectors build"}),"\ub85c \ucee4\ub125\ud130\ub97c \ube4c\ub4dc\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"pnpm cli connector link"}),"\ub97c \uc0ac\uc6a9\ud558\uc5ec \ub85c\uceec \ucee4\ub125\ud130\ub97c \uc5f0\uacb0\ud569\ub2c8\ub2e4."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.code,{children:"logto-io/logto"}),"\uc758 \ub8e8\ud2b8 \ub514\ub809\ud1a0\ub9ac\uc5d0\uc11c ",(0,s.jsx)(n.code,{children:"pnpm dev"}),"\ub85c Logto \uc778\uc2a4\ud134\uc2a4\ub97c \uc7ac\uc2dc\uc791\ud558\uace0, \ucee4\ub125\ud130\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc124\uce58\ub41c \uac83\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"\uc774\uc81c \ucee4\ub125\ud130\uac00 \uc608\uc0c1\ub300\ub85c \uc791\ub3d9\ud558\ub294\uc9c0 \ud14c\uc2a4\ud2b8\ud558\uace0 \uc2dc\ub3c4\ud574 \ubcfc \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),"\n",(0,s.jsxs)(n.p,{children:["\uc774\ubbf8 NPM \ub610\ub294 Logto \uacf5\uc2dd \ucee4\ub125\ud130\uc5d0 \uac8c\uc2dc\ub41c \ucee4\ub125\ud130\ub97c \ucd94\uac00\ud558\ub824\uba74 ",(0,s.jsx)(n.a,{href:"/logto-oss/using-cli/manage-connectors/#add-connectors",children:"Logto CLI \uc0ac\uc6a9 - \ucee4\ub125\ud130 \uad00\ub9ac"}),"\ub97c \ud655\uc778\ud558\uc138\uc694."]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},79621:(e,n,o)=>{o.d(n,{R:()=>c,x:()=>i});var t=o(58101);const s={},r=t.createContext(s);function c(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);