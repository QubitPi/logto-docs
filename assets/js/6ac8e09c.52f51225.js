"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5654],{72929:(e,t,n)=>{n.d(t,{Ay:()=>o,RM:()=>s});var r=n(25105),i=n(79621);const s=[];function a(e){const t={a:"a",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.p,{children:"Under the hood, a third-party app is just a standard OAuth 2.0 / OIDC client. This means you (or the third-party developer) can use any OAuth 2.0 / OIDC library or framework to integrate with Logto."}),"\n",(0,r.jsx)(t.p,{children:"If you're not familiar with OAuth 2.0 or OIDC, you can start by following one of our \u201cTraditional web\u201d quick start guides."}),"\n",(0,r.jsx)(t.p,{children:"A few things to keep in mind:"}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsx)(t.li,{children:"Logto currently requires third-party apps to be \u201cTraditional web\u201d apps. In other words, the app needs a backend server (or backend-for-frontend) to securely store the client secret."}),"\n",(0,r.jsx)(t.li,{children:"Most our quick start guides are written for first-party apps, but you can still use them as a reference for third-party app integration."}),"\n",(0,r.jsx)(t.li,{children:"The main difference is that third-party apps will show a consent screen, asking users for explicit permission to access their data."}),"\n"]}),"\n",(0,r.jsxs)(t.p,{children:["You can find more information in our ",(0,r.jsx)(t.a,{href:"/quick-starts",children:"quick start guides"}),"."]})]})}function o(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},98768:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"use-cases/ai/enable-third-party-ai-agent-access","title":"Enable third-party AI agent access to your app","description":"This guide walks you through integrating Logto with your service and enabling AI agents to access it.","source":"@site/docs/use-cases/ai/enable-third-party-ai-agent-access.mdx","sourceDirName":"use-cases/ai","slug":"/use-cases/ai/enable-third-party-ai-agent-access","permalink":"/use-cases/ai/enable-third-party-ai-agent-access","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/use-cases/ai/enable-third-party-ai-agent-access.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3,"sidebar_label":"Enable third-party AI agent access to app"},"sidebar":"useCasesSidebar","previous":{"title":"Enable third-party AI agent access to MCP server","permalink":"/use-cases/ai/mcp-server-enable-third-party-ai-agent-access"}}');var i=n(25105),s=n(79621),a=n(86254);const o={sidebar_position:3,sidebar_label:"Enable third-party AI agent access to app"},c="Enable third-party AI agent access to your app",l={},h=[{value:"Difference between third-party AI agent and your own AI agent (or app)",id:"difference-between-third-party-ai-agent-and-your-own-ai-agent-or-app",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Understanding the flow",id:"understanding-the-flow",level:3},{value:"Set up third-party AI agent",id:"set-up-third-party-ai-agent",level:2},...a.RM,{value:"Set up authorization in your service",id:"set-up-authorization-in-your-service",level:2},{value:"Test the integration",id:"test-the-integration",level:2}];function d(e){const t={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"enable-third-party-ai-agent-access-to-your-app",children:"Enable third-party AI agent access to your app"})}),"\n",(0,i.jsx)(t.p,{children:"This guide walks you through integrating Logto with your service and enabling AI agents to access it."}),"\n",(0,i.jsx)(t.p,{children:"You'll learn how to:"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"Configure Logto as the authorization server for your service."}),"\n",(0,i.jsx)(t.li,{children:"Obtain an access token for the AI agent to access your service."}),"\n",(0,i.jsx)(t.li,{children:"Test the flow with an AI agent."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"difference-between-third-party-ai-agent-and-your-own-ai-agent-or-app",children:"Difference between third-party AI agent and your own AI agent (or app)"}),"\n",(0,i.jsx)(t.p,{children:"Let's take a look at an example. Imagine you\u2019re a developer running a service that provides weather data."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Official weather app (Your own AI agent / app)"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"You provide an official weather app for users to check the weather."}),"\n",(0,i.jsx)(t.li,{children:"How it works: The official weather app connects to your service using Logto to authenticate users. When Alice signs in, she automatically gets access to the weather data, no extra permission screens needed, since it\u2019s your trusted app."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Third-party AI agent"})}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:'You\u2019re building an ecosystem around your service, so another developer creates "WeatherBot" (an AI assistant that can provide weather updates and forecasts) integrating it as a third-party AI agent.'}),"\n",(0,i.jsxs)(t.li,{children:["How it works: WeatherBot (third-party AI agent) wants to access user weather data via your service. When Alice signs in to WeatherBot using her account:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:"She\u2019s shown a consent screen, asking permission for WeatherBot to access her weather data."}),"\n",(0,i.jsx)(t.li,{children:"Alice can allow or deny this access."}),"\n",(0,i.jsx)(t.li,{children:"Only the data she consents to is shared with WeatherBot, and WeatherBot cannot access any additional data without explicit re-consent."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"This access (permission) control ensures user data safety, even though your service manages all the data, third-party AI agents like WeatherBot can only access what the user has explicitly allowed. They cannot bypass this process, as it's enforced by your access control implementation in the service."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.strong,{children:"Summary"})}),"\n",(0,i.jsxs)(t.table,{children:[(0,i.jsx)(t.thead,{children:(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.th,{children:"Client type"}),(0,i.jsx)(t.th,{children:"Example"}),(0,i.jsx)(t.th,{children:"Consent required?"}),(0,i.jsx)(t.th,{children:"Who controls it?"})]})}),(0,i.jsxs)(t.tbody,{children:[(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Official weather app"}),(0,i.jsx)(t.td,{children:"Your own weather app"}),(0,i.jsx)(t.td,{children:"No"}),(0,i.jsx)(t.td,{children:"You (the developer)"})]}),(0,i.jsxs)(t.tr,{children:[(0,i.jsx)(t.td,{children:"Third-party AI agent"}),(0,i.jsx)(t.td,{children:"WeatherBot assistant"}),(0,i.jsx)(t.td,{children:"Yes"}),(0,i.jsx)(t.td,{children:"Another developer"})]})]})]}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsxs)(t.p,{children:["If you want to integrate your service with your own AI agent or app, please refer to our ",(0,i.jsx)(t.a,{href:"/quick-starts",children:"quick start guides"})," for more information."]})}),"\n",(0,i.jsx)(t.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["A ",(0,i.jsx)(t.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," (or self-hosted) tenant"]}),"\n",(0,i.jsx)(t.li,{children:"A service that exposes API endpoints to be accessed by the AI agent"}),"\n"]}),"\n",(0,i.jsx)(t.h3,{id:"understanding-the-flow",children:"Understanding the flow"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Service"}),": The service you want to expose to the AI agent."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"AI agent"}),": The AI agent that will access your service."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Logto"}),": Serves as the OpenID Connect provider (authorization server) and manages user identities."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:"A non-normative sequence diagram illustrates the overall flow of the process:"}),"\n",(0,i.jsx)(t.mermaid,{value:"sequenceDiagram\n    participant Agent as AI Agent\n    participant Service as Your service\n    participant Logto\n\n    Service->>Logto: Request OpenID Connect configuration\n    Logto->>Service: Return configuration\n    Note over Service: Cache the configuration\n    Agent->>Service: Request access to a resource\n    Service->>Agent: Not authenticated (401 Unauthorized)\n    Agent->>Logto: Redirect to Logto for authentication\n    Logto->>Logto: User authenticates\n    Logto->>Logto: User authorizes (consents) scopes to the AI agent\n    Logto->>Agent: Redirect back to service with authorization code\n    Agent->>Logto: Request access token using authorization code\n    Logto->>Agent: Return access token\n    Agent->>Service: Request resource with access token\n    Service->>Service: Validate access token\n    Service->>Agent: Return resource response"}),"\n",(0,i.jsx)(t.h2,{id:"set-up-third-party-ai-agent",children:"Set up third-party AI agent"}),"\n",(0,i.jsx)(t.p,{children:"To set up a third-party AI agent to access your service, you need to follow these steps:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Register the AI agent in Logto"}),": Create an application in Logto to represent the AI agent."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Configure the AI agent"}),": Ensure the AI agent can make requests to your service and handle the 401 Unauthorized response."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Implement the authorization flow"}),": The AI agent should be able to handle the OAuth 2.0 authorization flow to obtain an access token from Logto."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Test the integration"}),": Use the AI agent to access your service and verify that it can successfully authenticate and authorize requests."]}),"\n"]}),"\n",(0,i.jsx)(a.Ay,{}),"\n",(0,i.jsx)(t.h2,{id:"set-up-authorization-in-your-service",children:"Set up authorization in your service"}),"\n",(0,i.jsx)(t.p,{children:"To enable access control in your service, you need to implement the following:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Define API resources in Logto"}),": Create API resources in Logto that represent the endpoints your AI agent will access."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Implement access control logic"}),": In your service, implement logic to validate the access token received from the AI agent and check if the user has the necessary permissions to access the requested resource."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Respond to the AI agent"}),": If the access token is valid and the user has permission, return the requested resource. If not, return a 401 Unauthorized response."]}),"\n"]}),"\n",(0,i.jsxs)(t.p,{children:["To learn more about how to implement access control in your service, refer to our ",(0,i.jsx)(t.a,{href:"/authorization",children:"Authorization guide"}),"."]}),"\n",(0,i.jsx)(t.h2,{id:"test-the-integration",children:"Test the integration"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Start your service."}),"\n",(0,i.jsx)(t.li,{children:"Start the AI agent."}),"\n",(0,i.jsx)(t.li,{children:"In the AI agent, invoke the API endpoint to access your service."}),"\n",(0,i.jsx)(t.li,{children:"The AI agent should handle the 401 Unauthorized response and redirect the user to Logto for authentication."}),"\n",(0,i.jsx)(t.li,{children:"After successful authentication, the AI agent should receive an access token and use it to make requests to your service."}),"\n",(0,i.jsx)(t.li,{children:"The AI agent should be able to retrieve the resource from your service using the access token."}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},86254:(e,t,n)=>{n.d(t,{Ay:()=>c,RM:()=>a});var r=n(25105),i=n(79621),s=n(72929);const a=[{value:"Configure third-party AI agent in Logto",id:"configure-third-party-ai-agent-in-logto",level:2},{value:"Allow developers to create third-party apps in Logto",id:"allow-developers-to-create-third-party-apps-in-logto",level:3},{value:"Manually create a third-party app in Logto",id:"manually-create-a-third-party-app-in-logto",level:3},...s.RM];function o(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",...(0,i.R)(),...e.components},{CloudLink:n}=t;return n||function(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h2,{id:"configure-third-party-ai-agent-in-logto",children:"Configure third-party AI agent in Logto"}),"\n",(0,r.jsxs)(t.p,{children:["To enable the third-party AI agent to access your ",e.serviceName??"your service",", you need to set up a ",(0,r.jsx)(t.strong,{children:"third-party app"})," in Logto. This app will be used to represent the AI agent and obtain the necessary credentials for authentication and authorization."]}),"\n",(0,r.jsx)(t.h3,{id:"allow-developers-to-create-third-party-apps-in-logto",children:"Allow developers to create third-party apps in Logto"}),"\n",(0,r.jsxs)(t.p,{children:["If you are building a marketplace or want to allow developers to create third-party apps in Logto, you can leverage ",(0,r.jsx)(t.a,{href:"/integrate-logto/interact-with-management-api",children:"Logto Management API"})," to create third-party apps programmatically. This allows developers to register their applications and obtain the necessary credentials for authentication."]}),"\n",(0,r.jsx)(t.p,{children:"You'll need to host your own service to handle the client registration process. This service will interact with the Logto Management API to create third-party apps on behalf of developers."}),"\n",(0,r.jsx)(t.mermaid,{value:"sequenceDiagram\n  actor Developer\n  participant Server as Your app registration service\n  participant Logto as Logto Management API\n  Developer->>Server: Register app\n  Server->>Logto: Create app\n  Logto->>Server: App ID, secret, etc.\n  Server->>Developer: App ID, secret, etc."}),"\n",(0,r.jsx)(t.p,{children:"Alternatively, you can manually create third-party apps in Logto Console to get familiar with the process."}),"\n",(0,r.jsx)(t.h3,{id:"manually-create-a-third-party-app-in-logto",children:"Manually create a third-party app in Logto"}),"\n",(0,r.jsx)(t.p,{children:"You can manually create a third-party app in Logto Console for testing purposes or ad-hoc integrations. This is useful when you want to quickly test the integration without implementing a full client-registration flow."}),"\n",(0,r.jsxs)(t.ol,{children:["\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsx)(t.p,{children:"Sign in to your Logto Console."}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Go ",(0,r.jsx)(n,{to:"/applications",children:(0,r.jsx)(t.strong,{children:"Applications"})})," \u2192 ",(0,r.jsx)(t.strong,{children:"Create application"})," \u2192 ",(0,r.jsx)(t.strong,{children:"Third-party app"})," -> ",(0,r.jsx)(t.strong,{children:"OIDC"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Fill in the app name and other required fields, then click ",(0,r.jsx)(t.strong,{children:"Create application"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Permissions"})," tab, in the ",(0,r.jsx)(t.strong,{children:"User"}),' section, click "Add".']}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In the opened dialog -> ",(0,r.jsx)(t.strong,{children:"User data"})," -> select ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"profile"})}),", ",(0,r.jsx)(t.strong,{children:(0,r.jsx)(t.code,{children:"email"})})," permissions, then click ",(0,r.jsx)(t.strong,{children:"Save"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["In the third-party app, configure scopes to request ",(0,r.jsx)(t.code,{children:"openid profile email"})," permissions (scopes)."]}),"\n",(0,r.jsxs)(t.p,{children:[(0,r.jsx)(t.strong,{children:"Note"}),": ",(0,r.jsx)(t.code,{children:"openid"})," is required for OIDC, and ",(0,r.jsx)(t.code,{children:"profile"})," and ",(0,r.jsx)(t.code,{children:"email"})," are the permissions you added in the previous step."]}),"\n"]}),"\n",(0,r.jsxs)(t.li,{children:["\n",(0,r.jsxs)(t.p,{children:["Configure the ",(0,r.jsx)(t.strong,{children:"redirect URI"})," of your third-party application accordingly. Remember to update the redirect URI in Logto as well."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)("img",{src:"/img/assets/third-party-app-permissions.png",alt:"Third-party app permissions",style:{maxWidth:"800px",width:"100%"}}),"\n",(0,r.jsx)(t.hr,{}),"\n",(0,r.jsx)(s.Ay,{})]})}function c(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},79621:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var r=n(58101);const i={},s=r.createContext(i);function a(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);