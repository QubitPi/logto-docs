"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[1753],{58261:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var o=t(25105),s=t(79621);const r=[];function a(e){const n={admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:['This guide assumes you have created an Application of type "',e.type,'" in Admin\nConsole.']})})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},66933:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>j,contentTitle:()=>x,default:()=>A,frontMatter:()=>m,metadata:()=>o,toc:()=>f});const o=JSON.parse('{"id":"quick-starts/generic/machine-to-machine/README","title":"Machine-to-machine: Auth with Logto","description":"Intro \\\\","source":"@site/docs/quick-starts/generic/machine-to-machine/README.mdx","sourceDirName":"quick-starts/generic/machine-to-machine","slug":"/quick-starts/m2m","permalink":"/quick-starts/m2m","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/quick-starts/generic/machine-to-machine/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/m2m","sidebar_label":"Machine-to-machine","sidebar_custom_props":{"description":"Enables direct communication between machines."}},"sidebar":"quickStartSidebar","previous":{"title":"WordPress plugin","permalink":"/quick-starts/wordpress-plugin"},"next":{"title":"Traditional web","permalink":"/quick-starts/traditional-web"}}');var s=t(25105),r=t(79621),a=t(38552),i=t(22002),c=t(58261),l=t(21294),d=t(47237),u=t(31717),h=t(72859),p=t(68172),g=t(710);const m={slug:"/quick-starts/m2m",sidebar_label:"Machine-to-machine",sidebar_custom_props:{description:"Enables direct communication between machines."}},x="Machine-to-machine: Auth with Logto",j={},f=[...c.RM,{value:"Intro",id:"intro",level:2},...g.RM,{value:"Fetch an access token",id:"fetch-an-access-token",level:2},{value:"Basics about access token request",id:"basics-about-access-token-request",level:3},...u.RM,{value:"Request an access token",id:"request-an-access-token",level:3},...h.RM,{value:"Access token response",id:"access-token-response",level:3},...p.RM,{value:"Access resource using access token",id:"access-resource-using-access-token",level:2},...d.RM,...l.RM,{value:"Authorization",id:"authorization",level:2}];function y(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"machine-to-machine-auth-with-logto",children:"Machine-to-machine: Auth with Logto"})}),"\n",(0,s.jsx)(c.Ay,{type:"Machine-to-machine"}),"\n",(0,s.jsx)(n.h2,{id:"intro",children:"Intro"}),"\n",(0,s.jsx)(n.p,{children:"Machine-to-machine (M2M) is a common practice to authenticate if you have an app (not user) that needs to directly talk to resources (usually, using M2M app doesn't need user interactions, so it has no UI). E.g., an API service that updates users' custom data in Logto, a statistic service that pulls daily orders, etc."}),"\n",(0,s.jsx)(n.p,{children:"Since Logto uses RBAC as its access control policy, assigning M2M roles to M2M apps is necessary for protecting your API which needs direct service talk."}),"\n",(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["To learn our current RBAC and the difference between user role and M2M role, see ",(0,s.jsx)(n.a,{href:"/authorization/role-based-access-control#configure-global-roles",children:"Configure global roles"})," to learn more."]})}),"\n",(0,s.jsx)(n.p,{children:"There are two common use cases of using machine-to-machine apps in Logto:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accessing Logto Management API"}),": In this case, you need to assign a M2M role that include the ",(0,s.jsx)(n.code,{children:"all"})," permission from the built-in Logto Management API to your M2M app."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Accessing your API resource"}),": In this case, you need to assign M2M roles that include permissions from your API resources to your M2M app."]}),"\n"]}),"\n",(0,s.jsx)(g.Ay,{}),"\n",(0,s.jsx)(n.p,{children:"Now, let\u2019s walk through the end-to-end process. For clarity, we will separate the steps for accessing Logto Management API and other API resources. And we assume you have already created an M2M app in Logto."}),"\n",(0,s.jsx)(n.h2,{id:"fetch-an-access-token",children:"Fetch an access token"}),"\n",(0,s.jsx)(n.h3,{id:"basics-about-access-token-request",children:"Basics about access token request"}),"\n",(0,s.jsx)(u.Ay,{}),"\n",(0,s.jsx)(n.p,{children:"An example of the access token request is:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-http",children:"POST /oidc/token HTTP/1.1\nHost: your.logto.endpoint\nAuthorization: Basic czZCaGRSa3F0MzpnWDFmQmF0M2JW\nContent-Type: application/x-www-form-urlencoded\n\ngrant_type=client_credentials\n&resource=https://shopping.api\n&scope=read:products write:products\n"})}),"\n",(0,s.jsx)(n.h3,{id:"request-an-access-token",children:"Request an access token"}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In the following demonstration, replace ",(0,s.jsx)(n.code,{children:"https://your.logto.endpoint"})," with the Logto endpoint you are targeting. For Logto Cloud, it will be ",(0,s.jsx)(n.code,{children:"https://{your-tenant-id}.logto.app"}),"."]})}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsx)(a.A,{value:"Logto Management API",label:"For Logto Management API",children:(0,s.jsx)(h.Ay,{})}),(0,s.jsxs)(a.A,{value:"API resource",label:"For your API resource",children:[(0,s.jsxs)(n.p,{children:["In your API Resource list, find the API identifier that the app needs to access. If you haven't added the API Resource in Logto or don't know what API Resource is, see ",(0,s.jsx)(n.a,{href:"/authorization",children:"Authorization"}),"."]}),(0,s.jsx)("img",{alt:"API identifier",src:"/img/assets/api-identifier.png",width:"600px",style:{paddingBottom:"12px"}}),(0,s.jsxs)(n.p,{children:["Assume that we have ",(0,s.jsx)(n.code,{children:"read:products"})," and ",(0,s.jsx)(n.code,{children:"write:products"})," permissions under this \u201cOnline Shopping\u201d API resource."]}),(0,s.jsx)(n.p,{children:"Before accessing your API resource, make sure your M2M app has been assigned with M2M roles that include permissions from your API resource."}),(0,s.jsx)(n.p,{children:"Now, compose all we have and send the request:"}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(a.A,{value:"Node.js",label:"Node.js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint';\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: 'https://shopping.api',\n      scope: 'read:products write:products',\n    }).toString(),\n  });\n};\n"})})}),(0,s.jsx)(a.A,{value:"cURL",label:"cURL",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint/oidc/token' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://shopping.api' \\\n  --data-urlencode 'scope=read:products write:products'\n"})})})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"access-token-response",children:"Access token response"}),"\n",(0,s.jsx)(n.p,{children:"A successful access response body would be like:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",children:'{\n  "access_token": "eyJhbG...2g", // Use this token for accessing the Logto Management API\n  "expires_in": 3600, // Token expiration in seconds\n  "token_type": "Bearer", // Auth type for your request when using the access token\n  "scope": "all" // scope `all` for Logto Management API\n}\n'})}),"\n",(0,s.jsx)(p.Ay,{}),"\n",(0,s.jsx)(n.h2,{id:"access-resource-using-access-token",children:"Access resource using access token"}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsxs)(i.A,{children:[(0,s.jsx)(a.A,{value:"Logto Management API",label:"Interact with Logto Management API",children:(0,s.jsx)(l.Ay,{})}),(0,s.jsxs)(a.A,{value:"Your API resource",label:"Interact with your API resource",children:[(0,s.jsxs)(n.p,{children:["Using the requested access token with the API resource ",(0,s.jsx)(n.code,{children:"https://shopping.api"})," to get all products in the shopping API:"]}),(0,s.jsxs)(i.A,{children:[(0,s.jsx)(a.A,{value:"Node.js",label:"Node.js",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-js",children:"const apiEndpoint = 'https://your.api.endpoint';\nconst accessToken = 'eyJhb...2g'; // Access Token\n\nconst fetchProducts = async () => {\n  return await fetch(`${apiEndpoint}/products`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,s.jsx)(a.A,{value:"cURL",label:"cURL",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.api.endpoint/products' \\\n  --header 'Authorization: Bearer eyJhbG...2 # Access Token\n"})})})]})]})]}),"\n",(0,s.jsx)(n.h2,{id:"authorization",children:"Authorization"}),"\n",(0,s.jsx)(n.p,{children:"If you are protecting your own API Resources other than Logto Management API, you need to implement the authorization logic in your API service to verify the access token and check if the M2M app has the required permissions to access the resource."}),"\n",(0,s.jsxs)(n.p,{children:["For more details, see ",(0,s.jsx)(n.a,{href:"/authorization",children:"Authorization"})," and ",(0,s.jsx)(n.a,{href:"/authorization/validate-access-tokens",children:"Validate access tokens"}),"."]})]})}function A(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(y,{...e})}):y(e)}},21294:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>i});var o=t(25105),s=t(79621),r=t(38552),a=t(22002);const i=[];function c(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Using the requested access token with the built-in Logto Management API resource ",(0,o.jsx)(n.code,{children:"https://[your-tenant-id].logto.app/api"})," to get all applications in Logto:"]}),"\n",(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Replace with your Logto endpoint\nconst accessToken = 'eyJhb...2g'; // Access Token\n\nconst fetchLogtoApplications = async () => {\n  return await fetch(`${logtoEndpoint}/api/applications`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,o.jsxs)(r.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.logto.endpoint/api/applications' \\\n  --header 'Authorization: Bearer eyJhbG...2g'\n"})}),(0,o.jsxs)(n.p,{children:["Remember to replace the actual values with your own. The value after ",(0,o.jsx)(n.code,{children:"Bearer"})," should be the access token (JWT) you received."]})]})]})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},47237:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var o=t(25105),s=t(79621);const r=[];function a(e){const n={code:"code",p:"p",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["You may notice the token response has a ",(0,o.jsx)(n.code,{children:"token_type"})," field, which it's fixed to ",(0,o.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,o.jsxs)(n.p,{children:["Thus you should put the access token in the ",(0,o.jsx)(n.code,{children:"Authorization"})," field of HTTP headers with the Bearer format (",(0,o.jsx)(n.code,{children:"Bearer YOUR_TOKEN"}),") when you're interacting with your API resource server."]})]})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},31717:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var o=t(25105),s=t(79621);const r=[];function a(e){const n={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["M2M app makes a ",(0,o.jsx)(n.code,{children:"POST"})," request to the token endpoint to fetch an access token by adding the following parameters using the ",(0,o.jsx)(n.code,{children:"application/x-www-form-urlencoded"})," format in the HTTP request entity-body:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"grant_type"}),": Must be set to ",(0,o.jsx)(n.code,{children:"client_credentials"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"resource"}),": The resource you want to access"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"scope"}),": The scope of the access request"]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"And you also need to include your M2M app's credentials in the request header for the token endpoint to authenticate your M2M app."}),"\n",(0,o.jsxs)(n.p,{children:["This is achieved by including the app's credentials in the ",(0,o.jsx)(n.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication",children:"Basic authentication"})," form in the request ",(0,o.jsx)(n.code,{children:"Authorization"})," header, where username is the App ID, and password is the App Secret."]}),"\n",(0,o.jsx)(n.p,{children:"You can find the App ID and App Secret from your M2M app's details page:"}),"\n",(0,o.jsx)("img",{alt:"App ID and App Secret",src:"/img/assets/app-id-secret.png",width:"600px"})]})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},72859:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>i});var o=t(25105),s=t(79621),r=t(38552),a=t(22002);const i=[];function c(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["Logto provides a built-in \u201cLogto Management API\u201d resource, it\u2019s a readonly resource with the ",(0,o.jsx)(n.code,{children:"all"})," permission to access Logto Management API, you can see it from your API resource list.\nThe resource API indicator is in the pattern of ",(0,o.jsx)(n.code,{children:"https://{your-tenant-id}.logto.app/api"})," , and this will be your resource value used in the access token request body."]}),"\n",(0,o.jsx)("img",{alt:"Logto Management API details",src:"/img/assets/logto-management-api.png",width:"600px"}),"\n",(0,o.jsxs)(n.p,{children:["Before accessing Logto Management API, make sure your M2M app has been assigned with M2M roles that include the ",(0,o.jsx)(n.code,{children:"all"})," permission from this built-in \u201cLogto Management API\u201d resource."]}),"\n",(0,o.jsx)(n.admonition,{type:"info",children:(0,o.jsx)(n.p,{children:"Logto also provides a pre-configured \u201cLogto Management API access\u201d M2M role for new created tenants, which the Logto Management API resource\u2019s all permission has already assigned to. You can use it directly without manually setting permissions. This pre-configured role can also be edited and deleted as needed."})}),"\n",(0,o.jsx)(n.p,{children:"Now, compose all we have and send the request:"}),"\n",(0,o.jsxs)(a.A,{children:[(0,o.jsx)(r.A,{value:"Node.js",label:"Node.js",children:(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Replace with your Logto endpoint\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\nconst tenantId = 'your-tenant-id';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: `https://${tenantId}.logto.app/api`,\n      scope: 'all',\n    }).toString(),\n  });\n};\n"})})}),(0,o.jsxs)(r.A,{value:"cURL",label:"cURL",children:[(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://${tenantId}.logto.app/api' \\\n  --data-urlencode 'scope=all'\n"})}),(0,o.jsx)(n.p,{children:"Remember to replace the actual values with your own."})]})]}),"\n",(0,o.jsx)(n.admonition,{type:"caution",children:(0,o.jsxs)(n.p,{children:["For Logto Cloud users: when you\u2019re interacting with Logto Management API, you can not use custom domain, use the default Logto endpoint ",(0,o.jsx)(n.code,{children:"https://{your_tenant_id}.logto.app/oidc/token"})," to grant access tokens."]})})]})}function l(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},68172:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var o=t(25105),s=t(79621);const r=[];function a(e){const n={admonition:"admonition",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsxs)(n.p,{children:["Logto does not currently support the M2M app to represent a user. The ",(0,o.jsx)(n.code,{children:"sub"})," in the access token payload will be the App ID."]})})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},710:(e,n,t)=>{t.d(n,{Ay:()=>i,RM:()=>r});var o=t(25105),s=t(79621);const r=[];function a(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(n.p,{children:["During the M2M app creation process, you\u2019ll be directed to a page where you can assign ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control/#configure-global-roles",children:"M2M roles"})," to your applications:"]}),"\n",(0,o.jsx)("img",{alt:"Assign M2M roles modal",src:"/img/assets/assign-m2m-roles-modal.png",width:"600px"}),"\n",(0,o.jsx)(n.p,{children:"Or you can also assign these roles on the M2M app detail page when you already have an M2M app created:"}),"\n",(0,o.jsx)("img",{alt:"Assign M2M roles page",src:"/img/assets/assign-m2m-roles-page.png",width:"600px"})]})}function i(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},38552:(e,n,t)=>{t.d(n,{A:()=>a});t(58101);var o=t(13526);const s={tabItem:"tabItem_dgSZ"};var r=t(25105);function a(e){let{children:n,hidden:t,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,o.A)(s.tabItem,a),hidden:t,children:n})}},22002:(e,n,t)=>{t.d(n,{A:()=>w});var o=t(58101),s=t(13526),r=t(60755),a=t(55234),i=t(6635),c=t(4100),l=t(35661),d=t(42752);function u(e){return o.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,o.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,o.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:o,default:s}}=e;return{value:n,label:t,attributes:o,default:s}}))}(t);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const s=(0,a.W6)(),r=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(r),(0,o.useCallback)((e=>{if(!r)return;const n=new URLSearchParams(s.location.search);n.set(r,e),s.replace({...s.location,search:n.toString()})}),[r,s])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,r=h(e),[a,c]=(0,o.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const o=t.find((e=>e.default))??t[0];if(!o)throw new Error("Unexpected error: 0 tabValues");return o.value}({defaultValue:n,tabValues:r}))),[l,u]=g({queryString:t,groupId:s}),[m,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[s,r]=(0,d.Dv)(t);return[s,(0,o.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:s}),j=(()=>{const e=l??m;return p({value:e,tabValues:r})?e:null})();(0,i.A)((()=>{j&&c(j)}),[j]);return{selectedValue:a,selectValue:(0,o.useCallback)((e=>{if(!p({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,r]),tabValues:r}}var x=t(21929);const j={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=t(25105);function y(e){let{className:n,block:t,selectedValue:o,selectValue:a,tabValues:i}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,r.a_)(),d=e=>{const n=e.currentTarget,t=c.indexOf(n),s=i[t].value;s!==o&&(l(n),a(s))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":t},n),children:i.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:o===n?0:-1,"aria-selected":o===n,ref:e=>{c.push(e)},onKeyDown:u,onClick:d,...r,className:(0,s.A)("tabs__item",j.tabItem,r?.className,{"tabs__item--active":o===n}),children:t??n},n)}))})}function A(e){let{lazy:n,children:t,selectedValue:r}=e;const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=a.find((e=>e.props.value===r));return e?(0,o.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:a.map(((e,n)=>(0,o.cloneElement)(e,{key:n,hidden:e.props.value!==r})))})}function b(e){const n=m(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,f.jsx)(y,{...n,...e}),(0,f.jsx)(A,{...n,...e})]})}function w(e){const n=(0,x.A)();return(0,f.jsx)(b,{...e,children:u(e.children)},String(n))}},79621:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>i});var o=t(58101);const s={},r=o.createContext(s);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);