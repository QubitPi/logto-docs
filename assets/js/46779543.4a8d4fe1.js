"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[622],{20147:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"end-user-flows/enterprise-sso/sp-initiated-sso","title":"SP-initiated SSO","description":"SP-initiated SSO, the default and more secure method than IdP-initiated SSO, allows enterprise users to initiate the SSO login process from Logto sign-in page. Logto supports both email domain prompt SSO and direct sign-in parameter for SSO.","source":"@site/docs/end-user-flows/enterprise-sso/sp-initiated-sso.mdx","sourceDirName":"end-user-flows/enterprise-sso","slug":"/end-user-flows/enterprise-sso/sp-initiated-sso","permalink":"/end-user-flows/enterprise-sso/sp-initiated-sso","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/end-user-flows/enterprise-sso/sp-initiated-sso.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Enterprise SSO","permalink":"/end-user-flows/enterprise-sso/"},"next":{"title":"IdP-initiated SSO","permalink":"/end-user-flows/enterprise-sso/idp-initiated-sso"}}');var s=n(25105),r=n(79621);const o={sidebar_position:1},a="SP-initiated SSO",d={},l=[{value:"Set up SP-initiated SSO",id:"set-up-sp-initiated-sso",level:2},{value:"SP-initiated SSO experience",id:"sp-initiated-sso-experience",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Can I use Organization Name/Domain instead of Email Domain to redirect to the IdP?",id:"can-i-use-organization-namedomain-instead-of-email-domain-to-redirect-to-the-idp",level:3},{value:"Can I display a specific Enterprise Connector button on the sign-in page?",id:"can-i-display-a-specific-enterprise-connector-button-on-the-sign-in-page",level:3},{value:"How to enable SSO-only sign-in and registration?",id:"how-to-enable-sso-only-sign-in-and-registration",level:3}];function c(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{CloudLink:n,Details:t}=i;return n||h("CloudLink",!0),t||h("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"sp-initiated-sso",children:"SP-initiated SSO"})}),"\n",(0,s.jsxs)(i.p,{children:["SP-initiated SSO, the default and more secure method than ",(0,s.jsx)(i.a,{href:"/end-user-flows/enterprise-sso/idp-initiated-sso",children:"IdP-initiated SSO"}),", allows enterprise users to initiate the SSO login process from Logto sign-in page. Logto supports both ",(0,s.jsx)(i.a,{href:"#sp-initiated-sso-experience",children:"email domain prompt SSO"})," and ",(0,s.jsx)(i.a,{href:"/end-user-flows/authentication-parameters/direct-sign-in#enterprise-sso",children:"direct sign-in parameter for SSO"}),"."]}),"\n",(0,s.jsx)(i.h2,{id:"set-up-sp-initiated-sso",children:"Set up SP-initiated SSO"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Enable enterprise SSO"})," in your identity system"]}),"\n",(0,s.jsxs)(i.p,{children:["To activate enterprise SSO, navigate to the ",(0,s.jsx)(n,{to:"/sign-in-experience/sign-up-and-sign-in",children:"Console > Sign-in experience > Sign-up and sign-in"}),' and toggle on the "Enable enterprise SSO" setting. Once enabled, a "Single Sign-On" button will appear on your sign-in page. Enterprise users with SSO-enabled email domains can access your services via their enterprise identity providers.']}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Create enterprise connectors"})," for different clients"]}),"\n",(0,s.jsxs)(i.p,{children:["Next, you need to integrate each enterprise identity provider for your clients. Similar to social sign-in, create a new enterprise connector in Logto and configure the required settings. Navigate to the ",(0,s.jsx)(n,{to:"/enterprise-sso",children:"Console > Enterprise SSO"}),', click the "Add enterprise connector" button, and follow the instructions to set up the connector. Refer to the ',(0,s.jsx)(i.a,{href:"/connectors/enterprise-connectors/",children:"enterprise SSO connector setup"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Set up email domains"})," for the enterprise connector"]}),"\n",(0,s.jsx)(i.p,{children:"Enterprise SSO identities are typically recognized by a company email domain. In the SSO Experience tab of each enterprise connector's details page, you can specify the associated email domains."}),"\n",(0,s.jsx)(i.p,{children:"Users with the specified email domains will be restricted to signing in exclusively through this enterprise SSO connector, while other sign-in methods\u2014such as email verification codes, email-password authentication, or social login, will be disabled for these users. The SSO connector will be visible only to users with the specified email domains."}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsx)(i.p,{children:"Public email domains (e.g., gmail.com, yahoo.com) cannot be linked to an Enterprise connector."})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"sp-initiated-sso-experience",children:"SP-initiated SSO experience"}),"\n",(0,s.jsx)(i.p,{children:"SSO is activated when users attempt to sign in using an enterprise email domain configured for SSO. This process bypasses standard verification methods like passwords."}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Single sign-on button"}),":"]}),"\n",(0,s.jsx)(i.p,{children:'When the enterprise SSO sign-in method is enabled, a "Single Sign-On" button will appear as an alternative sign-in option on the sign-in page. By clicking this link, users are prompted to enter their enterprise email address to initiate the SSO process.'}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Single connector: If only one enterprise SSO connector is associated with the user's email domain, the user is redirected directly to the IdP login page."}),"\n",(0,s.jsx)(i.li,{children:"Multiple connectors: If multiple enterprise SSO connectors are associated with the user's email domain, the user will first select the desired IdP from a list before being redirected to the IdP login page."}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/assets/sso-button-sign-in.png",alt:"Single sign-on button"}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.strong,{children:"Universal email sign-in"}),":"]}),"\n",(0,s.jsx)(i.p,{children:'In the universal identifier sign-in form (with email sign-in method enabled), enterprise SSO email domain detection is enabled by default. When users enter their email address, Logto automatically identifies if an enterprise SSO connector is associated with that domain. If a match is found, the default sign-in form updates: the "Sign in" button changes to a "Single Sign-On" button, restricting the user to signing in with the enterprise SSO connector(s).'}),"\n",(0,s.jsx)("img",{src:"/img/assets/sso-email-sign-in.png",alt:"Universal email sign-in"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"faqs",children:"FAQs"}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(i.h3,{id:"can-i-use-organization-namedomain-instead-of-email-domain-to-redirect-to-the-idp",children:"Can I use Organization Name/Domain instead of Email Domain to redirect to the IdP?"})}),(0,s.jsxs)(i.p,{children:["Currently, Logto prebuilt sign-in experience supports only ",(0,s.jsx)(i.strong,{children:"email domain prompt SSO"}),", not ",(0,s.jsx)(i.strong,{children:"organization domain prompt SSO"}),"."]}),(0,s.jsxs)(i.p,{children:["You can create a custom routing page at your client side using the authentication parameters with ",(0,s.jsx)(i.code,{children:"directSignIn:'sso:{connectorId}"})," . This page will redirect large enterprise clients to the appropriate IdP based on their organization domain. Learn more about the ",(0,s.jsx)(i.a,{href:"/end-user-flows/authentication-parameters/direct-sign-in/",children:"direct sign-in parameter"}),"."]})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(i.h3,{id:"can-i-display-a-specific-enterprise-connector-button-on-the-sign-in-page",children:"Can I display a specific Enterprise Connector button on the sign-in page?"})}),(0,s.jsx)(i.p,{children:"Different enterprise clients use different identity providers to manage their employee, and request different scopes (OIDC) or attribute (SAML). Therefore, it's not recommended to display an Enterprise connector button intended for a specific client on a generic sign-in page."}),(0,s.jsxs)(i.p,{children:["However, if you are developing a B2E product and want to show a button for a specific enterprise client, you can create a custom login page and use ",(0,s.jsx)(i.code,{children:"directSignIn:sso"})," to route the button appropriately. Learn more about the ",(0,s.jsx)(i.a,{href:"/end-user-flows/authentication-parameters/direct-sign-in/",children:"direct sign-in parameter"}),"."]})]}),"\n",(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(i.h3,{id:"how-to-enable-sso-only-sign-in-and-registration",children:"How to enable SSO-only sign-in and registration?"})}),(0,s.jsx)(i.p,{children:"To enable SSO-Only Sign-in and registration, follow these steps:"}),(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:["Configure in ",(0,s.jsx)(n,{to:"/sign-in-experience/sign-up-and-sign-in",children:"Console > Sign-in experience > Sign-in and sign-in"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Sign up: Not applicable"}),"\n",(0,s.jsx)(i.li,{children:"Sign in: None"}),"\n",(0,s.jsx)(i.li,{children:"Social sign-in: None"}),"\n",(0,s.jsx)(i.li,{children:"Enterprise SSO: Enabled"}),"\n",(0,s.jsx)(i.li,{children:"User registration: Disabled"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["Manually add users by entering their enterprise email address in ",(0,s.jsx)(n,{to:"/users",children:"Console > User management"})," or import via ",(0,s.jsx)(i.a,{href:"https://openapi.logto.io/operation/operation-createuser",children:"Management API"}),"."]}),"\n",(0,s.jsxs)(i.li,{children:["When users sign in via SSO for the first time, Logto will ",(0,s.jsx)(i.a,{href:"/end-user-flows/enterprise-sso/enterprise-sso-identity#enterprise-sso-account-linking",children:"auto-link"})," their existing email address to their SSO account."]}),"\n"]})]})]})}function p(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function h(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,i,n)=>{n.d(i,{R:()=>o,x:()=>a});var t=n(58101);const s={},r=t.createContext(s);function o(e){const i=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function a(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(r.Provider,{value:i},e.children)}}}]);