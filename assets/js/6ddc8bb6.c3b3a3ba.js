"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[64449],{18340:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>u,frontMatter:()=>i,metadata:()=>r,toc:()=>c});var t=s(11527),a=s(17279);const i={sidebar_label:"Custom data",sidebar_position:2},o="Custom data",r={id:"docs/references/users/custom-data",title:"Custom data",description:"customdata_ stores additional user info not listed in the pre-defined user properties.",source:"@site/docs/docs/references/users/custom-data.md",sourceDirName:"docs/references/users",slug:"/docs/references/users/custom-data",permalink:"/docs/references/users/custom-data",draft:!1,unlisted:!1,editUrl:"https://github.com/logto-io/docs/tree/master/docs/docs/references/users/custom-data.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Custom data",sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Social identities",permalink:"/docs/references/users/social-identities"}},d={},c=[];function l(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",li:"li",mdxAdmonitionTitle:"mdxAdmonitionTitle",p:"p",pre:"pre",ul:"ul",...(0,a.a)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"custom-data",children:"Custom data"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.em,{children:"custom_data"})," stores additional user info not listed in the pre-defined user properties."]}),"\n",(0,t.jsxs)(n.p,{children:["You can use ",(0,t.jsx)(n.em,{children:"custom_data"})," to do the following things:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Record whether specific actions have been done by the user, such as having seen the welcome page."}),"\n",(0,t.jsx)(n.li,{children:"Store application-specific data in the user profile, such as the user's preferred language and appearance per application."}),"\n",(0,t.jsx)(n.li,{children:"Maintain other arbitrary data related to the user."}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Sample ",(0,t.jsx)(n.em,{children:"custom_data"})," from an admin user in Logto:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "adminConsolePreferences": {\n    "language": "en",\n    "appearanceMode": "system",\n    "experienceNoticeConfirmed": true\n  },\n  "customDataFoo": {\n    "foo": "foo"\n  },\n  "customDataBar": {\n    "bar": "bar"\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["Each user's ",(0,t.jsx)(n.em,{children:"custom_data"})," is stored in an individual JSON object."]}),"\n",(0,t.jsxs)(n.admonition,{type:"caution",children:[(0,t.jsxs)(n.mdxAdmonitionTitle,{children:["DO NOT put sensitive data in ",(0,t.jsx)(n.em,{children:"custom_data"})]}),(0,t.jsxs)(n.p,{children:["You may fetch a user profile containing ",(0,t.jsx)(n.em,{children:"custom_data"})," using Management API and send it to the frontend apps or external backend services.\nTherefore, putting the sensitive information in ",(0,t.jsx)(n.em,{children:"custom_data"})," may cause data leaks."]}),(0,t.jsxs)(n.p,{children:["If you still want to put the sensitive information in ",(0,t.jsx)(n.em,{children:"custom_data"}),", we recommend encrypting it first.\nOnly encrypt/decrypt it in a trusted party like your backend services, and avoid doing it in the frontend apps.\nThese will minimize the loss if your users' ",(0,t.jsx)(n.em,{children:"custom_data"})," is leaked by mistake."]})]}),"\n",(0,t.jsxs)(n.p,{children:["You can update the user's ",(0,t.jsx)(n.em,{children:"custom_data"})," using\n",(0,t.jsx)(n.a,{href:"/docs/recipes/manage-users/admin-console#view-and-update-user-profile",children:"Admin Console"})," or\n",(0,t.jsx)(n.a,{href:"/docs/recipes/manage-users/management-api",children:"Management API"}),",\nsuch as ",(0,t.jsx)("a",{href:"https://openapi.logto.io/operation/operation-patch-api-users-parameter",target:"_blank",children:(0,t.jsx)(n.code,{children:"PATCH /api/users/:userId"})}),"."]}),"\n",(0,t.jsxs)(n.admonition,{title:"Update carefully",type:"caution",children:[(0,t.jsxs)(n.p,{children:["Updating a user's ",(0,t.jsx)(n.em,{children:"custom_data"})," will completely overwrite its original content in the storage."]}),(0,t.jsxs)(n.p,{children:["For example, if your input of calling update ",(0,t.jsx)(n.em,{children:"custom_data"})," API looks like this (suppose that the original ",(0,t.jsx)(n.em,{children:"custom_data"})," is previous shown sample data):"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),(0,t.jsxs)(n.p,{children:["then new ",(0,t.jsx)(n.em,{children:"custom_data"})," value after updating should be:"]}),(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),(0,t.jsx)(n.p,{children:"That is, the updated field value has nothing to do with the previous value."})]})]})}function u(e={}){const{wrapper:n}={...(0,a.a)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},17279:(e,n,s)=>{s.d(n,{Z:()=>r,a:()=>o});var t=s(50959);const a={},i=t.createContext(a);function o(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);