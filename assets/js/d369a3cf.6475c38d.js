"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[67132],{98281:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>d});var o=i(11527),t=i(17279);const r={sidebar_position:2},s="Configure organizations",a={id:"docs/recipes/organizations/configuration",title:"Configure organizations",description:"Configure via Console",source:"@site/docs/docs/recipes/organizations/configuration.mdx",sourceDirName:"docs/recipes/organizations",slug:"/docs/recipes/organizations/configuration",permalink:"/docs/recipes/organizations/configuration",draft:!1,unlisted:!1,editUrl:"https://github.com/logto-io/docs/tree/master/docs/docs/recipes/organizations/configuration.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"docsSidebar",previous:{title:"Understand how organizations work",permalink:"/docs/recipes/organizations/understand-how-it-works"},next:{title:"Impact on end-user sign-in experience",permalink:"/docs/recipes/organizations/impact-on-end-users"}},l={},d=[{value:"Configure via Console",id:"configure-via-console",level:2},{value:"Configure organization template",id:"configure-organization-template",level:3},{value:"Adding members and assigning organization roles",id:"adding-members-and-assigning-organization-roles",level:3},{value:"Configure via Management API",id:"configure-via-management-api",level:2},{value:"Example: Develop a platform or interface that enables your clients to manage identities within their organization",id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",level:3}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.a)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"configure-organizations",children:"Configure organizations"}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-console",children:"Configure via Console"}),"\n",(0,o.jsxs)(n.p,{children:["We'll go through the process of configuring the organizations feature via Logto Console (",(0,o.jsx)(n.a,{href:"https://cloud.logto.io/",children:"https://cloud.logto.io/"}),")."]}),"\n",(0,o.jsx)(n.h3,{id:"configure-organization-template",children:"Configure organization template"}),"\n",(0,o.jsx)(n.p,{children:"Configuring organizations can be divided into two parts: setting up organization templates and creating and managing organizations."}),"\n",(0,o.jsx)(n.p,{children:"First, navigate to the organization template in the left navigation menu. You will see that the organization template includes two parts: Organization Roles and Organization Permissions. An organization template defines shared access control policies (permissions and roles) for multiple organizations."}),"\n",(0,o.jsx)(n.h3,{id:"adding-members-and-assigning-organization-roles",children:"Adding members and assigning organization roles"}),"\n",(0,o.jsx)(n.p,{children:"Users can hold one or more roles. When adding members to an organization, you have the option to assign roles to multiple users at once. If you leave this assignment blank, the added users will not receive any roles."}),"\n",(0,o.jsx)(n.p,{children:"In the user management section, on the user detail page, you can see which organizations the users belong to and what organization roles they have."}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-management-api",children:"Configure via Management API"}),"\n",(0,o.jsx)(n.p,{children:"Everything you can do in Console can also be done through Management API. This includes, but not limited to:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"Create, delete, or edit an organization."}),"\n",(0,o.jsx)(n.li,{children:"Add users to the organization."}),"\n",(0,o.jsx)(n.li,{children:"Remove users from the organization."}),"\n",(0,o.jsx)(n.li,{children:"Manage organization template:"}),"\n"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Add, delete, or edit organization roles."}),"\n",(0,o.jsx)(n.li,{children:"Add, delete, or edit organization permissions."}),"\n"]}),"\n",(0,o.jsxs)(n.ol,{start:"5",children:["\n",(0,o.jsx)(n.li,{children:"Assign or remove user's organization roles."}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["For a complete list of capabilities, please refer to our ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organizations",children:"API references"}),"."]}),"\n",(0,o.jsx)(n.h3,{id:"example-develop-a-platform-or-interface-that-enables-your-clients-to-manage-identities-within-their-organization",children:"Example: Develop a platform or interface that enables your clients to manage identities within their organization"}),"\n",(0,o.jsx)(n.p,{children:"A common scenario for your product involves having both admins and members. They will manage resources and identities at different levels."}),"\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Role"}),(0,o.jsx)(n.th,{children:"Permissions"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Admin"}),(0,o.jsx)(n.td,{children:"Able to invite users to and remove users from the organization."})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Member"}),(0,o.jsx)(n.td,{children:"Only able to invite users to the organization."})]})]})]}),"\n",(0,o.jsx)(n.p,{children:"So we can define the following organization template:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Organization permissions: ",(0,o.jsx)(n.code,{children:"invite:users"}),", ",(0,o.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:["Organization roles:","\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"admin"})," with permissions ",(0,o.jsx)(n.code,{children:"invite:users"})," and ",(0,o.jsx)(n.code,{children:"remove:users"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"member"})," with permission ",(0,o.jsx)(n.code,{children:"invite:users"}),"."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You can use ",(0,o.jsx)(n.code,{children:"POST /organization-scopes"})," in Management API to create the organization permissions first, then use ",(0,o.jsx)(n.code,{children:"POST /organization-roles"})," to create roles."]}),"\n",(0,o.jsx)(n.p,{children:"After organization template is set, you may also create two APIs in your service that call Management API under the hood for inviting and removing users in a specific organization. The APIs in your service should check organization access token to ensure the user has the right access. See Organization RBAC for details."})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},17279:(e,n,i)=>{i.d(n,{Z:()=>a,a:()=>s});var o=i(50959);const t={},r=o.createContext(t);function s(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);