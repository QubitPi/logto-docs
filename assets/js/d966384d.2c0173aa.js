"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[8155],{75679:(e,o,n)=>{n.d(o,{Ay:()=>r,RM:()=>i});var s=n(25105),t=n(79621);const i=[];function c(e){const o={a:"a",admonition:"admonition",p:"p",...(0,t.R)(),...e.components};return(0,s.jsx)(o.admonition,{type:"tip",children:(0,s.jsxs)(o.p,{children:["This guide assumes you have basic understanding of Logto Connectors. For those unfamiliar, please refer to the ",(0,s.jsx)(o.a,{href:"/connectors",children:"Connectors"})," guide to get started."]})})}function r(e={}){const{wrapper:o}={...(0,t.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},34042:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>h,contentTitle:()=>d,default:()=>g,frontMatter:()=>l,metadata:()=>s,toc:()=>p});const s=JSON.parse('{"id":"integrations/social/facebook/README","title":"Set up social login with Facebook","description":"Integrate Facebook OAuth 2.0 authentication system to enable Sign-in with Facebook, account linking, and secure access to Facebook APIs.","source":"@site/docs/integrations/social/facebook/README.mdx","sourceDirName":"integrations/social/facebook","slug":"/integrations/facebook","permalink":"/integrations/facebook","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/integrations/social/facebook/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/facebook","sidebar_label":"Facebook","sidebar_custom_props":{"description":"Facebook is a worldwide social media platform with billions of users."},"tutorial_config_name":"Facebook login"},"sidebar":"integrationsSidebar","previous":{"title":"Discord","permalink":"/integrations/discord"},"next":{"title":"Feishu","permalink":"/integrations/feishu-web"}}');var t=n(25105),i=n(79621),c=n(75679);function r(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.h2,{id:"step-1-set-up-an-app-on-facebook-app-dashboard",children:"Step 1: Set up an app on Facebook App Dashboard"}),"\n",(0,t.jsx)(o.p,{children:"Before you can use Facebook as an authentication provider, you must set up an app on the Facebook developer platform to obtain OAuth 2.0 credentials."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.a,{href:"https://developers.facebook.com/docs/development/register/",children:"Register as a Facebook Developer"})," if you don't already have an account."]}),"\n",(0,t.jsxs)(o.li,{children:["Visit the ",(0,t.jsx)(o.a,{href:"https://developers.facebook.com/apps",children:"Apps"})," page."]}),"\n",(0,t.jsxs)(o.li,{children:["Click your existing app or ",(0,t.jsx)(o.a,{href:"https://developers.facebook.com/docs/development/create-an-app",children:"create a new one"})," if needed."]}),"\n"]}),"\n",(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsx)(o.p,{children:'A use case is the primary way your app will interact with Meta and determines which APIs, features, permissions, and products are available to your app. If you need social authentication only (to get email & public_profile), select "Authentication and request data from users with Facebook Login". If you want to access Facebook APIs, choose your preferred use cases - most of them also support integrating "Facebook Login for business" after app creation.'})}),"\n",(0,t.jsxs)(o.ol,{start:"4",children:["\n",(0,t.jsxs)(o.li,{children:["After app creation, on the app dashboard page, navigate to ",(0,t.jsx)(o.strong,{children:"Use cases > Facebook Login > Settings"})," or ",(0,t.jsx)(o.strong,{children:"Facebook Login for business > Settings"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Fill in the ",(0,t.jsx)(o.strong,{children:"Valid OAuth Redirect URIs"})," with the Logto ",(0,t.jsx)(o.strong,{children:"Callback URI"})," (copy this from your Logto Facebook connector). After users sign in with Facebook, they'll be redirected here with an authorization code that Logto uses to finish authentication."]}),"\n",(0,t.jsxs)(o.li,{children:["Navigate to ",(0,t.jsx)(o.strong,{children:"Use cases"})," and click ",(0,t.jsx)(o.strong,{children:"Customize"})," of your use case to add the scopes. We recommend adding ",(0,t.jsx)(o.code,{children:"email"})," and ",(0,t.jsx)(o.code,{children:"public_profile"})," which are required to implement Sign-in with Facebook in Logto."]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"step-2-set-up-logto-connector-with-client-credentials",children:"Step 2: Set up Logto connector with client credentials"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["In the Facebook App Dashboard, click the sidebar ",(0,t.jsx)(o.strong,{children:"App settings > Basic"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["You will see the ",(0,t.jsx)(o.strong,{children:"App ID"})," and ",(0,t.jsx)(o.strong,{children:"App secret"})," on the panel."]}),"\n",(0,t.jsxs)(o.li,{children:["Click the ",(0,t.jsx)(o.strong,{children:"Show"})," button next to the App secret input box to reveal and copy its content."]}),"\n",(0,t.jsxs)(o.li,{children:["Configure your Logto Facebook connector settings:","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Fill the ",(0,t.jsx)(o.code,{children:"clientId"})," field with the ",(0,t.jsx)(o.strong,{children:"App ID"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Fill the ",(0,t.jsx)(o.code,{children:"clientSecret"})," field with the ",(0,t.jsx)(o.strong,{children:"App secret"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Click ",(0,t.jsx)(o.strong,{children:"Save and Done"})," in Logto to connect your identity system with Facebook."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"step-3-configure-scopes",children:"Step 3: Configure scopes"}),"\n",(0,t.jsx)(o.p,{children:"Scopes define the permissions your app requests from users and control which private data your project can access from their Facebook accounts."}),"\n",(0,t.jsx)(o.h3,{id:"configure-scopes-in-facebook-app-dashboard",children:"Configure scopes in Facebook App Dashboard"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Navigate to ",(0,t.jsx)(o.strong,{children:"Facebook App Dashboard > Use cases"})," and click the ",(0,t.jsx)(o.strong,{children:"Customize"})," button."]}),"\n",(0,t.jsxs)(o.li,{children:["Add only the scopes your app needs. Users will review and authorize these permissions on the Facebook consent screen:","\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"For authentication (Required)"}),": ",(0,t.jsx)(o.code,{children:"email"})," and ",(0,t.jsx)(o.code,{children:"public_profile"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"For API access (Optional)"}),": Any additional scopes your app needs (e.g., ",(0,t.jsx)(o.code,{children:"threads_content_publish"}),", ",(0,t.jsx)(o.code,{children:"threads_read_replies"})," for accessing the Threads API). Browse the ",(0,t.jsx)(o.a,{href:"https://developers.facebook.com/docs/",children:"Meta Developer Documentation"})," for available services."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"configure-scopes-in-logto",children:"Configure scopes in Logto"}),"\n",(0,t.jsx)(o.p,{children:"Choose one or more of the following approaches based on your needs:"}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.strong,{children:"Option 1: No extra API scopes needed"})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Leave the ",(0,t.jsx)(o.code,{children:"Scopes"})," field in your Logto Facebook connector blank."]}),"\n",(0,t.jsxs)(o.li,{children:["The default scope ",(0,t.jsx)(o.code,{children:"email public_profile"})," will be requested to ensure Logto can get basic user info properly."]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.strong,{children:"Option 2: Request additional scopes at sign-in"})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:["Enter all desired scopes in the ",(0,t.jsx)(o.strong,{children:"Scopes"})," field, separated by spaces."]}),"\n",(0,t.jsxs)(o.li,{children:["Any scopes you list here override the defaults, so always include the authentication scopes: ",(0,t.jsx)(o.code,{children:"email public_profile"}),"."]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:(0,t.jsx)(o.strong,{children:"Option 3: Request incremental scopes later"})}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"After the user signs in, you can request additional scopes on demand by reinitiating a federated social authorization flow and updating users' stored token set."}),"\n",(0,t.jsxs)(o.li,{children:["These additional scopes do not need to be filled in the ",(0,t.jsx)(o.code,{children:"Scopes"})," field in your Logto Facebook connector, and can be achieved through Logto's Social Verification API."]}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"By following these steps, your Logto Facebook connector requests exactly the permissions your app needs - no more, no less."}),"\n",(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsxs)(o.p,{children:["If your app requests these scopes to access the Facebook API and perform actions, make sure to enable ",(0,t.jsx)(o.strong,{children:"Store tokens for persistent API access"})," in Logto Facebook connector. See the next section for details."]})}),"\n",(0,t.jsx)(o.h2,{id:"step-4-general-settings",children:"Step 4: General settings"}),"\n",(0,t.jsx)(o.p,{children:"Here are some general settings that won't block the connection to Facebook but may affect the end-user authentication experience."}),"\n",(0,t.jsx)(o.h3,{id:"sync-profile-information",children:"Sync profile information"}),"\n",(0,t.jsx)(o.p,{children:"In the Facebook connector, you can set the policy for syncing profile information, such as user names and avatars. Choose from:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Only sync at sign-up"}),": Profile info is fetched once when the user first signs in."]}),"\n",(0,t.jsxs)(o.li,{children:[(0,t.jsx)(o.strong,{children:"Always sync at sign-in"}),": Profile info is updated every time the user signs in."]}),"\n"]}),"\n",(0,t.jsx)(o.h3,{id:"store-tokens-to-access-facebook-apis-optional",children:"Store tokens to access Facebook APIs (Optional)"}),"\n",(0,t.jsx)(o.p,{children:"If you want to access Facebook APIs and perform actions with user authorization (whether via social sign-in or account linking), Logto needs to get specific API scopes and store tokens."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsx)(o.li,{children:"Add the required scopes following the tutorial above."}),"\n",(0,t.jsxs)(o.li,{children:["Enable ",(0,t.jsx)(o.strong,{children:"Store tokens for persistent API access"})," in the Logto Facebook connector. Logto will securely store Facebook access tokens in the Secret Vault."]}),"\n"]}),"\n",(0,t.jsx)(o.admonition,{type:"note",children:(0,t.jsxs)(o.p,{children:["Facebook doesn't provide refresh tokens. However, when token storage is enabled, Logto automatically requests a long-lived access token (60 days) upon user authentication. During this period, users can manually revoke access tokens, but otherwise won't need re-authorization to access Facebook APIs. Note: Don't add ",(0,t.jsx)(o.code,{children:"offline_access"})," to the ",(0,t.jsx)(o.code,{children:"Scope"})," field as this may cause errors."]})}),"\n",(0,t.jsx)(o.h2,{id:"step-5-test-sign-in-with-facebooks-test-users-optional",children:"Step 5: Test sign-in with Facebook's test users (Optional)"}),"\n",(0,t.jsx)(o.p,{children:"You can use test, developer, and admin user accounts to test sign-in with the app. You can also publish the app directly so that any Facebook user can sign in."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["In the Facebook App Dashboard, click the sidebar ",(0,t.jsx)(o.strong,{children:"App roles > Test Users"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Click the ",(0,t.jsx)(o.strong,{children:"Create test users"})," button to create a testing user."]}),"\n",(0,t.jsxs)(o.li,{children:["Click the ",(0,t.jsx)(o.strong,{children:"Options"}),' button of an existing test user to see more operations, such as "Change name and password".']}),"\n"]}),"\n",(0,t.jsx)(o.h2,{id:"step-6-publish-facebook-sign-in-settings",children:"Step 6: Publish Facebook sign-in settings"}),"\n",(0,t.jsx)(o.p,{children:"Usually, only test, admin, and developer users can sign in with the app. To enable normal Facebook users to sign in with the app in the production environment, you may need to publish this app."}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["In the Facebook App Dashboard, click the sidebar ",(0,t.jsx)(o.strong,{children:"Publish"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Fill out the ",(0,t.jsx)(o.strong,{children:"Privacy Policy URL"})," and ",(0,t.jsx)(o.strong,{children:"User data deletion"})," fields if required."]}),"\n",(0,t.jsxs)(o.li,{children:["Click the ",(0,t.jsx)(o.strong,{children:"Save changes"})," button at the bottom right corner."]}),"\n",(0,t.jsxs)(o.li,{children:["Click the ",(0,t.jsx)(o.strong,{children:"Live"})," switch button on the app top bar."]}),"\n"]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}const l={slug:"/integrations/facebook",sidebar_label:"Facebook",sidebar_custom_props:{description:"Facebook is a worldwide social media platform with billions of users."},tutorial_config_name:"Facebook login"},d="Set up social login with Facebook",h={},p=[...c.RM,{value:"Get started",id:"get-started",level:2},{value:"Step 1: Set up an app on Facebook App Dashboard",id:"step-1-set-up-an-app-on-facebook-app-dashboard",level:2},{value:"Step 2: Set up Logto connector with client credentials",id:"step-2-set-up-logto-connector-with-client-credentials",level:2},{value:"Step 3: Configure scopes",id:"step-3-configure-scopes",level:2},{value:"Configure scopes in Facebook App Dashboard",id:"configure-scopes-in-facebook-app-dashboard",level:3},{value:"Configure scopes in Logto",id:"configure-scopes-in-logto",level:3},{value:"Step 4: General settings",id:"step-4-general-settings",level:2},{value:"Sync profile information",id:"sync-profile-information",level:3},{value:"Store tokens to access Facebook APIs (Optional)",id:"store-tokens-to-access-facebook-apis-optional",level:3},{value:"Step 5: Test sign-in with Facebook&#39;s test users (Optional)",id:"step-5-test-sign-in-with-facebooks-test-users-optional",level:2},{value:"Step 6: Publish Facebook sign-in settings",id:"step-6-publish-facebook-sign-in-settings",level:2},{value:"Utilize the Facebook connector",id:"utilize-the-facebook-connector",level:2},{value:"Enable &quot;Sign-in with Facebook&quot;",id:"enable-sign-in-with-facebook",level:3},{value:"Link or unlink a Facebook account",id:"link-or-unlink-a-facebook-account",level:3},{value:"Access Facebook API and perform actions",id:"access-facebook-api-and-perform-actions",level:3},{value:"Manage user&#39;s Facebook identity",id:"manage-users-facebook-identity",level:2},{value:"Reference",id:"reference",level:2}];function u(e){const o={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{CloudLink:n,Url:s}=o;return n||b("CloudLink",!0),s||b("Url",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(o.header,{children:(0,t.jsx)(o.h1,{id:"set-up-social-login-with-facebook",children:"Set up social login with Facebook"})}),"\n",(0,t.jsx)(o.p,{children:"Integrate Facebook OAuth 2.0 authentication system to enable Sign-in with Facebook, account linking, and secure access to Facebook APIs."}),"\n",(0,t.jsx)(c.Ay,{}),"\n",(0,t.jsx)(o.h2,{id:"get-started",children:"Get started"}),"\n",(0,t.jsx)(o.p,{children:"The Facebook connector enables OAuth 2.0 integration to let your application:"}),"\n",(0,t.jsxs)(o.ul,{children:["\n",(0,t.jsx)(o.li,{children:"Add \u201cSign-in with Facebook\u201d authentication"}),"\n",(0,t.jsx)(o.li,{children:"Link user accounts to Facebook identities"}),"\n",(0,t.jsx)(o.li,{children:"Sync user profile info from Facebook"}),"\n",(0,t.jsx)(o.li,{children:"Access Facebook APIs through secure token storage in Logto Secret Vault for automation tasks (e.g.,reply to thread; publish content and videos in your app)"}),"\n"]}),"\n",(0,t.jsx)(o.p,{children:"To set up these authentication features, create a Facebook connector in Logto first:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Go to ",(0,t.jsx)(o.a,{href:"https://cloud.logto.io/to/connectors/social",children:"Logto > Connector > Social connector"}),"."]}),"\n",(0,t.jsxs)(o.li,{children:["Click ",(0,t.jsx)(o.strong,{children:"Add social connector,"})," select ",(0,t.jsx)(o.strong,{children:"Facebook"}),", click ",(0,t.jsx)(o.strong,{children:"Next"}),", and follow the step-by-step tutorial to complete the integration."]}),"\n"]}),"\n",(0,t.jsx)(a,{}),"\n",(0,t.jsx)(o.h2,{id:"utilize-the-facebook-connector",children:"Utilize the Facebook connector"}),"\n",(0,t.jsx)(o.p,{children:"Once you've created a Facebook connector and connected it to Facebook, you can incorporate it into your end-user flows. Choose the options that match your needs:"}),"\n",(0,t.jsx)(o.h3,{id:"enable-sign-in-with-facebook",children:'Enable "Sign-in with Facebook"'}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["In Logto Console, go to ",(0,t.jsx)(n,{to:"/sign-in-experience/sign-up-and-sign-in",children:"Sign-in experience > Sign-up and sign-in"})]}),"\n",(0,t.jsxs)(o.li,{children:["Add the Facebook connector under ",(0,t.jsx)(o.strong,{children:"Social sign-in"})," section to let users authenticate with Facebook"]}),"\n"]}),"\n",(0,t.jsxs)(o.p,{children:["Learn more about ",(0,t.jsx)(o.a,{href:"/end-user-flows/sign-up-and-sign-in/social-sign-in",children:"social sign-in experience"}),"."]}),"\n",(0,t.jsx)(o.h3,{id:"link-or-unlink-a-facebook-account",children:"Link or unlink a Facebook account"}),"\n",(0,t.jsxs)(o.p,{children:["Use the Account API to build a custom Account Center in your app that lets signed-in users link or unlink their Facebook account. ",(0,t.jsx)(o.a,{href:"/end-user-flows/account-settings/by-account-api#link-a-new-social-connection",children:"Follow the Account API tutorial"})]}),"\n",(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsx)(o.p,{children:"It's allowed to enable the Facebook connector only for account linking and API access, without enabling it for social sign-in."})}),"\n",(0,t.jsx)(o.h3,{id:"access-facebook-api-and-perform-actions",children:"Access Facebook API and perform actions"}),"\n",(0,t.jsx)(o.p,{children:"Your application can retrieve stored Facebook access tokens from the Secret Vault to call Facebook APIs and automate backend tasks (for example, publishing content or managing posts). Refer to the guide on retrieving stored tokens for API access."}),"\n",(0,t.jsx)(o.h2,{id:"manage-users-facebook-identity",children:"Manage user's Facebook identity"}),"\n",(0,t.jsx)(o.p,{children:"After a user links their Facebook account, admins can manage that connection in the Logto Console:"}),"\n",(0,t.jsxs)(o.ol,{children:["\n",(0,t.jsxs)(o.li,{children:["Navigate to ",(0,t.jsx)(n,{to:"/users",children:"User management"})," and open the user's profile."]}),"\n",(0,t.jsxs)(o.li,{children:["Under ",(0,t.jsx)(o.strong,{children:"Social connections"}),", locate the Facebook item and click ",(0,t.jsx)(o.strong,{children:"Manage"}),"."]}),"\n",(0,t.jsx)(o.li,{children:"On this page, admins can manage the user's Facebook connection, see all profile information granted and synced from their Facebook account, and check the access token status."}),"\n"]}),"\n",(0,t.jsx)(o.admonition,{type:"note",children:(0,t.jsx)(o.p,{children:"Facebook's access token response does not include the specific scope information, so Logto cannot directly display the list of permissions granted by the user. However, as long as the user has consented to the requested scopes during authorization, your application will have the corresponding permissions when accessing the Facebook API. It is recommended to accurately configure the required scopes in both the Facebook Developer Console and Logto to ensure your app has the necessary access."})}),"\n",(0,t.jsx)(o.h2,{id:"reference",children:"Reference"}),"\n",(0,t.jsx)(s,{href:"https://developers.facebook.com/docs/",children:"Facebook for Developers - Documentation"}),"\n",(0,t.jsx)(s,{href:"https://developers.facebook.com/docs/facebook-login",children:"Facebook Login Documentation"})]})}function g(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}function b(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,o,n)=>{n.d(o,{R:()=>c,x:()=>r});var s=n(58101);const t={},i=s.createContext(t);function c(e){const o=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:o},e.children)}}}]);