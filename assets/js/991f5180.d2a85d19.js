"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[7218],{10195:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>g,contentTitle:()=>p,default:()=>j,frontMatter:()=>h,metadata:()=>t,resource:()=>m,toc:()=>x});const t=JSON.parse('{"id":"authorization/global-api-resources","title":"Protect global API resources","description":"Protect product-wide APIs using role-based access control (RBAC) in Logto. Assign global roles and permissions to control access for all users and clients across your application.","source":"@site/docs/authorization/global-api-resources.mdx","sourceDirName":"authorization","slug":"/authorization/global-api-resources","permalink":"/authorization/global-api-resources","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/authorization/global-api-resources.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Organization template","permalink":"/authorization/organization-template"},"next":{"title":"Protect organization (non-API) permissions","permalink":"/authorization/organization-permissions"}}');var r=s(25105),o=s(79621),i=s(46643),a=s(39088),c=s(78506),l=s(42372),d=s(38552),u=s(22002);const h={sidebar_position:3},p="Protect global API resources",g={},m="https://api.your-app.com",x=[{value:"What are global API resources?",id:"what-are-global-api-resources",level:2},{value:"How it works in Logto",id:"how-it-works-in-logto",level:2},{value:"Implementation overview",id:"implementation-overview",level:3},{value:"Understanding resource indicators",id:"understanding-resource-indicators",level:3},{value:"Authorization flow: authenticating and securing your API",id:"authorization-flow-authenticating-and-securing-your-api",level:3},{value:"Implementation steps",id:"implementation-steps",level:2},{value:"Register your API resources",id:"register-your-api-resources",level:3},{value:"Set up global roles",id:"set-up-global-roles",level:3},{value:"Obtain access tokens for global API resources",id:"obtain-access-tokens-for-global-api-resources",level:3},{value:"Authorization code or refresh token flow",id:"authorization-code-or-refresh-token-flow",level:4},{value:"Client credentials flow",id:"client-credentials-flow",level:4},{value:"Validating JWT access tokens in your API",id:"validating-jwt-access-tokens-in-your-api",level:3},{value:"Optional: Handle user permission change",id:"optional-handle-user-permission-change",level:3},{value:"Best practices and security tips",id:"best-practices-and-security-tips",level:2},{value:"FAQs",id:"faqs",level:2},{value:"What if my client doesn&#39;t support the resource parameter?",id:"what-if-my-client-doesn-t-support-the-resource-parameter",level:3},{value:"Why do I get 401 Unauthorized from my API?",id:"why-do-i-get-401-unauthorized-from-my-api",level:3},{value:"How do I test without a full client?",id:"how-do-i-test-without-a-full-client",level:3},{value:"Further reading",id:"further-reading",level:2}];function f(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{CloudLink:s,Details:t,Url:h}=n;return s||b("CloudLink",!0),t||b("Details",!0),h||b("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"protect-global-api-resources",children:"Protect global API resources"})}),"\n","\n",(0,r.jsx)(n.p,{children:"Protect product-wide APIs using role-based access control (RBAC) in Logto. Assign global roles and permissions to control access for all users and clients across your application."}),"\n",(0,r.jsx)(n.h2,{id:"what-are-global-api-resources",children:"What are global API resources?"}),"\n",(0,r.jsx)(n.p,{children:"Global API resources are endpoints or services in your application that are accessible to all users, regardless of organization or tenant. These are typically public-facing APIs, core product services, or any endpoint that is not scoped to a specific organization."}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Use cases include"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Public APIs or endpoints shared across your user base."}),"\n",(0,r.jsx)(n.li,{children:"Microservices that are not tied to multi-tenancy."}),"\n",(0,r.jsxs)(n.li,{children:["Core application APIs (e.g., ",(0,r.jsx)(n.code,{children:"/api/users"}),", ",(0,r.jsx)(n.code,{children:"/api/products"}),") used by all customers."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Logto allows you to secure these APIs using OAuth 2.1, combined with flexible, role-based access control."}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works-in-logto",children:"How it works in Logto"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"API resources and permissions are registered globally:"})," Each API you want to protect is defined with a unique resource indicator (URI) with a set of permissions (scopes) that control access."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Access is controlled by global roles:"})," You can assign permissions to roles, which are then assigned to users or clients."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Separate from organization-level permissions:"})," Global API resources have no organization context. However, they may be used in conjunction with organization roles to provide an additional layer of context if needed. To protect organization-level APIs, see ",(0,r.jsx)(n.a,{href:"/authorization/organization-level-api-resources",children:"Protect organization-level API resources"}),"."]}),"\n"]}),"\n",(0,r.jsx)("img",{src:i.A,alt:"Global API resources RBAC",style:{maxWidth:"100%"}}),"\n",(0,r.jsx)(n.h3,{id:"implementation-overview",children:"Implementation overview"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Register your API resource"})," and define its permissions in Logto."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Define roles"})," with the necessary permissions for accessing the API."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Assign roles"})," to users or clients."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use OAuth 2.0 authorization flows"})," to obtain access tokens for the API (resource parameter must match the registered API identifier)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Validate access tokens"})," in your API to enforce permissions."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"understanding-resource-indicators",children:"Understanding resource indicators"}),"\n",(0,r.jsxs)(n.p,{children:["Logto models API resources according to ",(0,r.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707: Resource Indicators for OAuth 2.0"}),". A ",(0,r.jsx)(n.strong,{children:"resource indicator"})," is a URI that uniquely identifies the target API or service being requested."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key points"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Resource indicators must be absolute URIs (e.g., ",(0,r.jsx)(n.code,{children:"https://api.example.com"}),")"]}),"\n",(0,r.jsx)(n.li,{children:"No fragment component; avoid using query strings when possible."}),"\n",(0,r.jsx)(n.li,{children:"Resource indicators enable audience-restricted tokens and support for multi-API architectures."}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Example"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Management API: ",(0,r.jsx)(n.code,{children:"https://my-tenant.logto.app/api"})]}),"\n",(0,r.jsxs)(n.li,{children:["Custom global API: ",(0,r.jsx)(n.code,{children:"https://api.yourapp.com"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"authorization-flow-authenticating-and-securing-your-api",children:"Authorization flow: authenticating and securing your API"}),"\n",(0,r.jsx)(n.p,{children:"The flow below applies to both interactive user authentication (browser/app) and backend machine-to-machine (M2M) scenarios."}),"\n",(0,r.jsx)(n.p,{children:"Please note that the flow does not include exhaustive details about the required parameters or headers, but focuses on the key steps involved. Continue reading to see how the flow works in practice."}),"\n",(0,r.jsx)(n.mermaid,{value:"sequenceDiagram\n    participant Client\n    participant Logto\n    participant API as API resource\n\n    alt User authentication\n        Client->>Logto: GET /oidc/auth\n        Logto->>Logto: Redirects user to sign-in page\n        Logto->>Client: Redirects back with `authorization_code`\n        alt Use authorization_code grant\n            Client->>Logto: POST /oidc/token with `grant_type=authorization_code`<br/>and `resource` parameter\n        else Use refresh_token grant\n            Client->>Logto: POST /oidc/token with `grant_type=authorization_code`\n            Logto->>Client: Returns refresh token\n            Client->>Logto: POST /oidc/token with `grant_type=refresh_token`<br/>and `resource` parameter\n        end\n    else Machine-to-machine (M2M) client authentication\n        Client->>Logto: POST /oidc/token with `grant_type=client_credentials`<br/>and `resource` parameter\n    end\n\n    Logto->>Client: Returns access token (JSON Web Token)\n    Client->>API: Request with Bearer token\n    API->>API: Validates access token\n\n    alt Token is valid\n      API->>Client: Returns protected resource data\n    else Token is invalid\n      API->>Client: 401 Unauthorized\n    end"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.em,{children:"User authentication = browser/app. M2M = backend service or script using client credentials."})}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"resource"})," parameter must exactly match the API identifier (resource indicator) you registered in Logto."]})}),"\n",(0,r.jsx)(n.h2,{id:"implementation-steps",children:"Implementation steps"}),"\n",(0,r.jsx)(n.h3,{id:"register-your-api-resources",children:"Register your API resources"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(s,{to:"/api-resources",children:"Console \u2192 API resources"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Create a new API resource (e.g., ",(0,r.jsx)(n.code,{children:"https://api.yourapp.com/org"}),") and define its permissions (scopes)."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For full configuration steps, see ",(0,r.jsx)(n.a,{href:"/authorization/role-based-access-control#define-api-resources-with-permissions",children:"Define API resources with permissions"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"set-up-global-roles",children:"Set up global roles"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Go to ",(0,r.jsx)(s,{to:"/roles",children:"Console \u2192 Roles"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Create roles that map to your API permissions (e.g., ",(0,r.jsx)(n.code,{children:"read:products"}),", ",(0,r.jsx)(n.code,{children:"write:products"}),")."]}),"\n",(0,r.jsx)(n.li,{children:"Assign these roles to users or clients that need access to the API."}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For full configuration steps, see ",(0,r.jsx)(n.a,{href:"/authorization/role-based-access-control#configure-global-roles",children:"Use global roles"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"obtain-access-tokens-for-global-api-resources",children:"Obtain access tokens for global API resources"}),"\n",(0,r.jsxs)(n.p,{children:["Before accessing a global API resource, your client must obtain an access token. Logto issues ",(0,r.jsx)(n.a,{href:"https://auth.wiki/jwt",children:"JSON Web Tokens (JWTs)"})," as access tokens for global API resources. This is typically done using the ",(0,r.jsx)(n.a,{href:"https://auth.wiki/authorization-code-flow",children:"OAuth 2.0 authorization code flow"}),", ",(0,r.jsx)(n.a,{href:"https://auth.wiki/refresh-token",children:"refresh token flow"}),", or the ",(0,r.jsx)(n.a,{href:"https://auth.wiki/client-credentials-flow",children:"client credentials flow"}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"authorization-code-or-refresh-token-flow",children:"Authorization code or refresh token flow"}),"\n",(0,r.jsx)(n.p,{children:"All Logto official SDKs support obtaining access tokens for global API resources using the refresh token flow out of the box. A standard OAuth 2.0 / OIDC client library can also be used to implement this flow."}),"\n",(0,r.jsxs)(u.A,{groupId:"user-client",children:[(0,r.jsxs)(d.A,{value:"logto-sdk",label:"Logto SDK",children:[(0,r.jsxs)(n.p,{children:["When initializing the Logto client, add the resource indicator to the ",(0,r.jsx)(n.code,{children:"resources"})," parameter (array), then add desired permissions (scopes) to the ",(0,r.jsx)(n.code,{children:"scopes"})," parameter."]}),(0,r.jsxs)(n.p,{children:["Once the user is authenticated, pass the resource indicator in the ",(0,r.jsx)(n.code,{children:"resource"})," parameter or similarly named parameter when requesting the access token (e.g., calling ",(0,r.jsx)(n.code,{children:"getAccessToken()"}),")."]}),(0,r.jsxs)(n.p,{children:["For details on each SDK, see the ",(0,r.jsx)(n.a,{href:"/quick-starts",children:"Quick starts"}),"."]})]}),(0,r.jsxs)(d.A,{value:"oauth-client",label:"OAuth 2.0 / OIDC client library",children:[(0,r.jsxs)(n.p,{children:["When configuring your OAuth 2.0 client or initializing the authorization code flow, ensure you include the ",(0,r.jsx)(n.code,{children:"resource"})," parameter and the desired scopes in the authorization request."]}),(0,r.jsxs)(n.p,{children:["Some libraries may not support the ",(0,r.jsx)(n.code,{children:"resource"})," parameter natively, but usually allow you to pass additional parameters in the authorization request. Check your library's documentation for details."]}),(0,r.jsxs)(n.p,{children:["Here's a non-normative example of the authorization request with the ",(0,r.jsx)(n.code,{children:"resource"})," and ",(0,r.jsx)(n.code,{children:"scope"})," parameters:"]}),(0,r.jsx)(a.A,{resource:m,scope:"read:products write:products"}),(0,r.jsxs)(n.p,{children:["Once the user is authenticated, you will receive an authorization code. Exchange this code for an access token by making a POST request to Logto's ",(0,r.jsx)(n.code,{children:"/oidc/token"})," endpoint, including the ",(0,r.jsx)(n.code,{children:"resource"})," parameter in the request body."]}),(0,r.jsx)(n.p,{children:"Here's a non-normative example of the token request using the authorization code grant type:"}),(0,r.jsx)(l.A,{grantType:"authorization_code",resource:m}),(0,r.jsxs)(n.p,{children:["You can also use the ",(0,r.jsx)(n.code,{children:"refresh_token"})," grant type to obtain a new access token without user interaction, as long as the ",(0,r.jsx)(n.code,{children:"resource"})," parameter is included in the request."]}),(0,r.jsx)(n.p,{children:"Here's a non-normative example of the token request using the refresh token grant type:"}),(0,r.jsx)(l.A,{grantType:"refresh_token",resource:m})]})]}),"\n",(0,r.jsx)(n.h4,{id:"client-credentials-flow",children:"Client credentials flow"}),"\n",(0,r.jsxs)(n.p,{children:["For machine-to-machine (M2M) scenarios, you can use the client credentials flow to obtain an access token for your global API resource. By making a POST request to Logto's ",(0,r.jsx)(n.code,{children:"/oidc/token"})," endpoint, you can request an access token using your client ID and secret."]}),"\n",(0,r.jsx)(n.p,{children:"There are two key parameters to include in the request:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"resource"}),": The resource indicator URI of the API you want to access (e.g., ",(0,r.jsx)(n.code,{children:"https://api.yourapp.com"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"scope"}),": The permissions you want to request for the API (e.g., ",(0,r.jsx)(n.code,{children:"read:products write:products"}),")."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Here's a non-normative example of the token request using the client credentials grant type:"}),"\n",(0,r.jsx)(c.A,{resource:"https://api.yourapp.com",scope:"read:products write:products"}),"\n",(0,r.jsx)(n.h3,{id:"validating-jwt-access-tokens-in-your-api",children:"Validating JWT access tokens in your API"}),"\n",(0,r.jsx)(n.p,{children:"Logto-issued JWTs contain claims that your API can use to enforce authorization."}),"\n",(0,r.jsx)(n.p,{children:"When your API receives a request with a Logto-issued access token, you should:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify the token signature (using Logto's JWKs)."}),"\n",(0,r.jsxs)(n.li,{children:["Confirm the token is not expired (",(0,r.jsx)(n.code,{children:"exp"})," claim)."]}),"\n",(0,r.jsxs)(n.li,{children:["Check that the ",(0,r.jsx)(n.code,{children:"iss"})," (issuer) matches your Logto endpoint."]}),"\n",(0,r.jsxs)(n.li,{children:["Ensure the ",(0,r.jsx)(n.code,{children:"aud"})," (audience) matches the API resource identifier you registered (e.g., ",(0,r.jsx)(n.code,{children:"https://api.yourapp.com"}),")."]}),"\n",(0,r.jsxs)(n.li,{children:["Split the ",(0,r.jsx)(n.code,{children:"scope"})," claim (space-separated) and check for required permissions."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["For step-by-step and language-specific guides, see ",(0,r.jsx)(n.a,{href:"/authorization/validate-access-tokens",children:"How to validate access tokens"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"optional-handle-user-permission-change",children:"Optional: Handle user permission change"}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:"\ud83d\udc77 Work in progress. \ud83d\udea7"})}),"\n",(0,r.jsx)(n.h2,{id:"best-practices-and-security-tips",children:"Best practices and security tips"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep permissions business-driven:"})," Use clear names that map to real actions."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Keep token expiration short:"})," Reduces risk if a token is leaked."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Limit granted scopes:"})," Only give tokens the permissions they actually need."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Use audience restriction:"})," Always verify the ",(0,r.jsx)(n.code,{children:"aud"})," claim to prevent misuse."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"faqs",children:"FAQs"}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"what-if-my-client-doesn-t-support-the-resource-parameter",children:"What if my client doesn't support the resource parameter?"})}),(0,r.jsx)(n.p,{children:"Set a default API resource in Logto Console. Tokens will default to this audience when no resource parameter is specified in the token request."})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"why-do-i-get-401-unauthorized-from-my-api",children:"Why do I get 401 Unauthorized from my API?"})}),(0,r.jsx)(n.p,{children:"Check the following common issues:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token signature"}),": Verify your backend is fetching the correct JWKs from Logto"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Token expiration"}),": Ensure the token hasn't expired (",(0,r.jsx)(n.code,{children:"exp"})," claim)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Audience"}),": Confirm the ",(0,r.jsx)(n.code,{children:"aud"})," claim matches your registered API resource indicator"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Required scopes"}),": Verify the token contains the necessary permissions in the ",(0,r.jsx)(n.code,{children:"scope"})," claim"]}),"\n"]})]}),"\n",(0,r.jsxs)(t,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"how-do-i-test-without-a-full-client",children:"How do I test without a full client?"})}),(0,r.jsxs)(n.p,{children:["Use a ",(0,r.jsx)(n.a,{href:"/user-management/personal-access-token",children:"personal access token"})," to simulate authenticated calls. This allows you to test your API endpoints without implementing a complete OAuth flow in your client application."]})]}),"\n",(0,r.jsx)(n.h2,{id:"further-reading",children:"Further reading"}),"\n",(0,r.jsx)(h,{href:"/authorization/validate-access-tokens",children:"How to validate access tokens"}),"\n",(0,r.jsx)(h,{href:"/use-cases/authorization/rbac-in-practice",children:(0,r.jsx)(n.p,{children:"RBAC in practice: Implementing secure authorization for your application"})}),"\n",(0,r.jsx)(h,{href:"/developers/custom-token-claims",children:"Customizing token claims"}),"\n",(0,r.jsx)(h,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707: Resource Indicators"})]})}function j(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(f,{...e})}):f(e)}function b(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},39088:(e,n,s)=>{s.d(n,{A:()=>o});var t=s(80173),r=s(25105);const o=e=>{let{resource:n,scope:s}=e;return(0,r.jsx)(t.A,{language:"http",children:`GET /oidc/auth?response_type=code\n&client_id=your-client-id\n&redirect_uri=https://your-app.com/callback\n&scope=openid profile offline_access ${s}\n&resource=${n}\n&code_challenge=abc123\n&code_challenge_method=S256\n&state=xyz\nHTTP/1.1\nHost: your.logto.endpoint\n`})}},78506:(e,n,s)=>{s.d(n,{A:()=>o});var t=s(80173),r=s(25105);const o=e=>{let{resource:n,organizationId:s,scope:o}=e;return(0,r.jsxs)(t.A,{language:"http",children:["POST /oidc/token HTTP/1.1\nHost: your.logto.endpoint\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic base64(client_id:client_secret)\n\ngrant_type=client_credentials\n",n&&`&resource=${n}\n`,s&&`&organization_id=${s}\n`,`&scope=${o}\n`]})}},42372:(e,n,s)=>{s.d(n,{A:()=>o});var t=s(80173),r=s(25105);const o=e=>{let{grantType:n,resource:s,organizationId:o}=e;const i=[`grant_type=${n}`,"authorization_code"===n&&"code=authorization-code-received","authorization_code"===n&&"redirect_uri=https://your-app.com/callback","refresh_token"===n&&"refresh_token=your-refresh-token",s&&`resource=${s}`,o&&`organization_id=${o}`].filter(Boolean);return(0,r.jsx)(t.A,{language:"http",children:`POST /oidc/token HTTP/1.1\nHost: your.logto.endpoint\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic base64(client_id:client_secret)\n\n${i.join("\n&")}`})}},38552:(e,n,s)=>{s.d(n,{A:()=>i});s(58101);var t=s(13526);const r={tabItem:"tabItem_dgSZ"};var o=s(25105);function i(e){let{children:n,hidden:s,className:i}=e;return(0,o.jsx)("div",{role:"tabpanel",className:(0,t.A)(r.tabItem,i),hidden:s,children:n})}},22002:(e,n,s)=>{s.d(n,{A:()=>k});var t=s(58101),r=s(13526),o=s(60755),i=s(55234),a=s(6635),c=s(4100),l=s(35661),d=s(42752);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:s}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:s,attributes:t,default:r}}=e;return{value:n,label:s,attributes:t,default:r}}))}(s);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function p(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:s}=e;const r=(0,i.W6)(),o=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,c.aZ)(o),(0,t.useCallback)((e=>{if(!o)return;const n=new URLSearchParams(r.location.search);n.set(o,e),r.replace({...r.location,search:n.toString()})}),[o,r])]}function m(e){const{defaultValue:n,queryString:s=!1,groupId:r}=e,o=h(e),[i,c]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=s.find((e=>e.default))??s[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o}))),[l,u]=g({queryString:s,groupId:r}),[m,x]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,o]=(0,d.Dv)(s);return[r,(0,t.useCallback)((e=>{s&&o.set(e)}),[s,o])]}({groupId:r}),f=(()=>{const e=l??m;return p({value:e,tabValues:o})?e:null})();(0,a.A)((()=>{f&&c(f)}),[f]);return{selectedValue:i,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,o]),tabValues:o}}var x=s(21929);const f={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var j=s(25105);function b(e){let{className:n,block:s,selectedValue:t,selectValue:i,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,o.a_)(),d=e=>{const n=e.currentTarget,s=c.indexOf(n),r=a[s].value;r!==t&&(l(n),i(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":s},n),children:a.map((e=>{let{value:n,label:s,attributes:o}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>{c.push(e)},onKeyDown:u,onClick:d,...o,className:(0,r.A)("tabs__item",f.tabItem,o?.className,{"tabs__item--active":t===n}),children:s??n},n)}))})}function y(e){let{lazy:n,children:s,selectedValue:o}=e;const i=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=i.find((e=>e.props.value===o));return e?(0,t.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:i.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==o})))})}function w(e){const n=m(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",f.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function k(e){const n=(0,x.A)();return(0,j.jsx)(w,{...e,children:u(e.children)},String(n))}},55138:(e,n,s)=>{s.d(n,{A:()=>m});var t=s(28259),r=s(6097),o=s(58574),i=s(9484),a=s(76566),c=s(26346),l=s(17867),d=s(17510),u=s(13526),h=s(72355);const p={codeBlockContent:"codeBlockContent_m3Ux",codeBlockTitle:"codeBlockTitle_P25_",codeBlock:"codeBlock_qGQc",codeBlockStandalone:"codeBlockStandalone_zC50",codeBlockLines:"codeBlockLines_p187",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_OFgW",buttonGroup:"buttonGroup_6DOT"};var g=s(25105);function m(e){let{children:n,className:s="",metastring:m,title:x,showLineNumbers:f,language:j}=e;const{prism:{defaultLanguage:b,magicComments:y}}=(0,t.p)(),w=function(e){return e?.toLowerCase()}(j??(0,o.Op)(s)??b),k=(0,r.A)(),v=(0,i.f)(),A=(0,o.wt)(m)||x,{lineClassNames:I,code:P}=(0,o.Li)(n,{metastring:m,language:w,magicComments:y}),z=f??(0,o._u)(m);return(0,g.jsxs)(a.A,{as:"div",className:(0,u.A)(s,w&&!s.includes(`language-${w}`)&&`language-${w}`),children:[A&&(0,g.jsx)("div",{className:p.codeBlockTitle,children:A}),(0,g.jsxs)("div",{className:p.codeBlockContent,children:[(0,g.jsx)(h.f4,{theme:k,code:P,language:w??"text",children:e=>{let{className:n,tokens:s,getLineProps:t,getTokenProps:r}=e;return(0,g.jsx)("pre",{ref:v.codeBlockRef,tabIndex:0,className:(0,u.A)(n,p.codeBlock,"thin-scrollbar"),children:(0,g.jsx)("code",{className:(0,u.A)(p.codeBlockLines,z&&p.codeBlockLinesWithNumbering),children:s.map(((e,n)=>(0,g.jsx)(l.A,{line:e,getLineProps:t,getTokenProps:r,classNames:I[n],showLineNumbers:z},n)))})})}}),(0,g.jsxs)("div",{className:p.buttonGroup,children:[(v.isEnabled||v.isCodeScrollable)&&(0,g.jsx)(d.A,{className:p.codeButton,isEnabled:v.isEnabled,onClick:()=>{v.toggle()}}),(0,g.jsx)(c.A,{className:p.codeButton,code:P})]})]})]})}},46643:(e,n,s)=>{s.d(n,{A:()=>t});const t=s.p+"assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png"}}]);