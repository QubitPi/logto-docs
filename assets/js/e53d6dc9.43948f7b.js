"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[6762],{67781:(e,o,n)=>{n.d(o,{Ay:()=>c,RM:()=>i});var t=n(25105),s=n(79621);const i=[];function r(e){const o={a:"a",admonition:"admonition",p:"p",...(0,s.R)(),...e.components};return(0,t.jsx)(o.admonition,{type:"tip",children:(0,t.jsxs)(o.p,{children:["For more information about SSO and how to configure SSO in Logto, please check out the ",(0,t.jsx)(o.a,{href:"/connectors/enterprise-connectors",children:"Enterprise SSO (SAML & OIDC)"})," documentation to get started."]})})}function c(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,t.jsx)(o,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},20356:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>y,contentTitle:()=>S,default:()=>O,frontMatter:()=>w,metadata:()=>t,toc:()=>k});const t=JSON.parse('{"id":"integrations/sso/google-workspace/README","title":"Set up Single Sign-On with Google Workspace","description":"With minimal configuration efforts, this connector allows integration with Microsoft Entra ID for enterprise SSO.","source":"@site/docs/integrations/sso/google-workspace/README.mdx","sourceDirName":"integrations/sso/google-workspace","slug":"/integrations/google-workspace","permalink":"/integrations/google-workspace","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/integrations/sso/google-workspace/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/google-workspace","sidebar_label":"Google Workspace","sidebar_custom_props":{"description":"Unified and secure management of user access within the Google ecosystem.","logoFilename":"google.svg"},"tutorial_name":"Google Workspace enterprise SSO","tutorial_config_name":"Google Cloud Platform"},"sidebar":"integrationsSidebar","previous":{"title":"Microsoft Entra ID (SAML)","permalink":"/integrations/entra-id-saml"},"next":{"title":"OIDC (Enterprise)","permalink":"/integrations/oidc-sso"}}');var s=n(25105),i=n(79621),r=n(67781);function c(e){const o={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(o.p,{children:["Before you can use Google Workspace as an authentication provider, you must set up a project in the ",(0,s.jsx)(o.a,{href:"https://console.developers.google.com/",children:"Google API Console"})," to obtain OAuth 2.0 credentials, If you already have a project, you can skip this step. Otherwise, create a new project under your Google organization."]})}function l(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function a(e){const o={a:"a",code:"code",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"In order to create a new OIDC credential, you need to configure the consent screen for your application."}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Navigate to the ",(0,s.jsx)(o.a,{href:"https://console.cloud.google.com/apis/credentials/consent",children:"OAuth consent screen"})," page and select the ",(0,s.jsx)(o.code,{children:"Internal"})," user type. This will make the OAuth application only available to users within your organization."]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_consent_screen_user_type.webp",alt:"Google Workspace consent screen user type"}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:["Fill in the ",(0,s.jsx)(o.code,{children:"Consent Screen"})," settings following the instructions on the page. You need to provide the following minimum information:"]}),"\n"]}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Application name"}),": The name of your application. It will be displayed on the consent screen."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Support email"}),": The support email of your application. It will be displayed on the consent screen."]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_consent_screen_settings.webp",alt:"Google Workspace consent screen settings"}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsxs)(o.li,{children:["Set the ",(0,s.jsx)(o.code,{children:"Scopes"})," for your application. In order to retrieve the user's identity information and email address properly from the IdP, Logto SSO connectors need to grant the following scopes from the IdP:"]}),"\n"]}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_consent_screen_scopes.webp",alt:"Google Workspace consent screen scopes"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"openid"}),": This scope is required for OIDC authentication. It is used to retrieve the ID token and get access to the userInfo endpoint of the IdP."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"profile"}),": This scope is required for accessing the user's basic profile information."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"email"}),": This scope is required for accessing the user's email address."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Click the ",(0,s.jsx)(o.code,{children:"Save"})," button to save the consent screen settings."]})]})}function d(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}function p(e){const o={a:"a",code:"code",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Navigate to the ",(0,s.jsx)(o.a,{href:"https://console.cloud.google.com/apis/credentials",children:"Credentials"})," page and click the ",(0,s.jsx)(o.code,{children:"Create Credentials"})," button. Select the ",(0,s.jsx)(o.code,{children:"OAuth client ID"})," option from the dropdown menu to create a new OAuth credential for your application."]}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_create_credentials.webp",alt:"Google Workspace create credentials"}),"\n",(0,s.jsx)(o.p,{children:"Continue setting up the OAuth credential by filling up the following information:"}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_credentials_config.webp",alt:"Google Workspace credentials config"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Select the ",(0,s.jsx)(o.code,{children:"Web application"})," as the application type."]}),"\n",(0,s.jsxs)(o.li,{children:["Fill in the ",(0,s.jsx)(o.code,{children:"Name"})," of your client application, ",(0,s.jsx)(o.code,{children:"Logto SSO Connector"})," for example. This will help you to identify the credentials in the future."]}),"\n",(0,s.jsxs)(o.li,{children:["Fill in the ",(0,s.jsx)(o.code,{children:"Authorized redirect URIs"})," with the Logto callback URI. This is the URI that Google will redirect the user's browser after successful authentication. After a user successfully authenticates with the IdP, the IdP redirects the user's browser back to this designated URI along with an authorization code. Logto will complete the authentication process based on the authorization code received from this URI."]}),"\n",(0,s.jsxs)(o.li,{children:["Fill in the ",(0,s.jsx)(o.code,{children:"Authorized JavaScript origins"})," with the Logto callback URI's origin. This ensures only your Logto application can send requests to the Google OAuth server."]}),"\n",(0,s.jsxs)(o.li,{children:["Click the ",(0,s.jsx)(o.code,{children:"Create"})," button to create the OAuth credential."]}),"\n"]})]})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function u(e){const o={code:"code",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"After successfully creating the OAuth credential, you will receive a prompt modal with the client ID and client secret."}),"\n",(0,s.jsx)("img",{src:"/img/assets/google_workspace_create_credentials.webp",alt:"Google Workspace create credentials"}),"\n",(0,s.jsxs)(o.p,{children:["Copy the ",(0,s.jsx)(o.code,{children:"Client ID"})," and ",(0,s.jsx)(o.code,{children:"Client secret"})," and fill in the corresponding fields on Logto\u2019s SSO connector ",(0,s.jsx)(o.code,{children:"Connection"})," tab."]}),"\n",(0,s.jsx)(o.p,{children:"Now you have successfully configured a Google Workspace SSO connector on Logto."})]})}function g(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}function m(e){const o={a:"a",code:"code",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Use the ",(0,s.jsx)(o.code,{children:"Scope"})," field to add additional scopes to your OAuth request. This will allow you to request more information from the Google OAuth server. Please refer to the ",(0,s.jsx)(o.a,{href:"https://developers.google.com/identity/protocols/oauth2/scopes",children:"Google OAuth Scopes"})," documentation for more information."]}),"\n",(0,s.jsxs)(o.p,{children:["Regardless of the custom scope settings, Logto will always send the ",(0,s.jsx)(o.code,{children:"openid"}),", ",(0,s.jsx)(o.code,{children:"profile"}),", and ",(0,s.jsx)(o.code,{children:"email"})," scopes to the IdP. This is to ensure that Logto can retrieve the user's identity information and email address properly."]})]})}function f(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}function x(e){const o={a:"a",code:"code",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Provide the ",(0,s.jsx)(o.code,{children:"email domains"})," of your organization on Logto\u2019s connector ",(0,s.jsx)(o.code,{children:"SSO experience"})," tab. This will enable the SSO connector as an authentication method for those users."]}),"\n",(0,s.jsx)(o.p,{children:"Users with email addresses in the specified domains will be redirected to use your SSO connector as their only authentication method."}),"\n",(0,s.jsxs)(o.p,{children:["For more information about the Google Workspace SSO connector, please check ",(0,s.jsx)(o.a,{href:"https://developers.google.com/identity/openid-connect/openid-connect",children:"Google OpenID Connector"}),"."]})]})}function j(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}const w={slug:"/integrations/google-workspace",sidebar_label:"Google Workspace",sidebar_custom_props:{description:"Unified and secure management of user access within the Google ecosystem.",logoFilename:"google.svg"},tutorial_name:"Google Workspace enterprise SSO",tutorial_config_name:"Google Cloud Platform"},S="Set up Single Sign-On with Google Workspace",y={},k=[...r.RM,{value:"Step 1: Create a new project on Google Cloud Platform",id:"step-1-create-a-new-project-on-google-cloud-platform",level:2},{value:"Step 2: Config the consent screen for your application",id:"step-2-config-the-consent-screen-for-your-application",level:2},{value:"Step 3: Create a new OAuth credential",id:"step-3-create-a-new-oauth-credential",level:2},{value:"Step 4: Set up Logto connector with the client credentials",id:"step-4-set-up-logto-connector-with-the-client-credentials",level:2},{value:"Step 5: Additional Scopes (Optional)",id:"step-5-additional-scopes-optional",level:2},{value:"Step 6: Set email domains and enable the SSO connector",id:"step-6-set-email-domains-and-enable-the-sso-connector",level:2}];function b(e){const o={h1:"h1",h2:"h2",header:"header",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.header,{children:(0,s.jsx)(o.h1,{id:"set-up-single-sign-on-with-google-workspace",children:"Set up Single Sign-On with Google Workspace"})}),"\n",(0,s.jsx)(o.p,{children:"With minimal configuration efforts, this connector allows integration with Microsoft Entra ID for enterprise SSO."}),"\n",(0,s.jsx)(r.Ay,{}),"\n",(0,s.jsx)(o.h2,{id:"step-1-create-a-new-project-on-google-cloud-platform",children:"Step 1: Create a new project on Google Cloud Platform"}),"\n",(0,s.jsx)(l,{}),"\n",(0,s.jsx)(o.h2,{id:"step-2-config-the-consent-screen-for-your-application",children:"Step 2: Config the consent screen for your application"}),"\n",(0,s.jsx)(d,{}),"\n",(0,s.jsx)(o.h2,{id:"step-3-create-a-new-oauth-credential",children:"Step 3: Create a new OAuth credential"}),"\n",(0,s.jsx)(h,{}),"\n",(0,s.jsx)(o.h2,{id:"step-4-set-up-logto-connector-with-the-client-credentials",children:"Step 4: Set up Logto connector with the client credentials"}),"\n",(0,s.jsx)(g,{}),"\n",(0,s.jsx)(o.h2,{id:"step-5-additional-scopes-optional",children:"Step 5: Additional Scopes (Optional)"}),"\n",(0,s.jsx)(f,{}),"\n",(0,s.jsx)(o.h2,{id:"step-6-set-email-domains-and-enable-the-sso-connector",children:"Step 6: Set email domains and enable the SSO connector"}),"\n",(0,s.jsx)(j,{})]})}function O(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}},79621:(e,o,n)=>{n.d(o,{R:()=>r,x:()=>c});var t=n(58101);const s={},i=t.createContext(s);function r(e){const o=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function c(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(i.Provider,{value:o},e.children)}}}]);