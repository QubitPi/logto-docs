"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[94069],{89765:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"connectors/email-connectors/email-templates","title":"Email templates","description":"Logto provides different templates for customizing email content, which are categorized based on their use cases.","source":"@site/docs/connectors/email-connectors/email-templates.mdx","sourceDirName":"connectors/email-connectors","slug":"/connectors/email-connectors/email-templates","permalink":"/connectors/email-connectors/email-templates","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/connectors/email-connectors/email-templates.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"email-templates","title":"Email templates","sidebar_label":"Email templates","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Logto built-in email service","permalink":"/connectors/email-connectors/built-in-email-service"},"next":{"title":"SMS connectors","permalink":"/connectors/sms-connectors/"}}');var o=n(25105),s=n(79621);const r={id:"email-templates",title:"Email templates",sidebar_label:"Email templates",sidebar_position:3},a=void 0,l={},c=[{value:"Email template types",id:"email-template-types",level:2},{value:"Email template examples",id:"email-template-examples",level:2},{value:"FAQs",id:"faqs",level:2},{value:"How to use third-party email template services if templates are not configured in Logto?",id:"how-to-use-third-party-email-template-services-if-templates-are-not-configured-in-logto",level:3},{value:"Is there a way to use Logto email for sending our users a customized &quot;Welcome email&quot;?",id:"is-there-a-way-to-use-logto-email-for-sending-our-users-a-customized-welcome-email",level:3},{value:"Related resources",id:"related-resources",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components},{Details:i,Url:r}=t;return i||m("Details",!0),r||m("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"Logto provides different templates for customizing email content, which are categorized based on their use cases."}),"\n",(0,o.jsx)(t.p,{children:"It is strongly recommended that you use different templates in different scenarios. Otherwise, users may receive email content that does not match the current operation, causing confusion. If there are missing templates that are not configured, it may cause flow errors that rely on that template and affect the normal development of business."}),"\n",(0,o.jsx)(t.h2,{id:"email-template-types",children:"Email template types"}),"\n",(0,o.jsxs)(t.table,{children:[(0,o.jsx)(t.thead,{children:(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.th,{children:"usageType"}),(0,o.jsx)(t.th,{children:"Scenario"})]})}),(0,o.jsxs)(t.tbody,{children:[(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"SignIn"}),(0,o.jsx)(t.td,{children:"Users sign in using their email and verify by entering verification code instead of entering a password."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Register"}),(0,o.jsx)(t.td,{children:"Users create an account using their email and verify it by entering a verification code sent by Logto to their email."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"ForgotPassword"}),(0,o.jsx)(t.td,{children:"If users forget their password during login, they can choose to verify their identity using the email they've already verified with Logto."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"Generic"}),(0,o.jsx)(t.td,{children:"This template can be used as a general backup option for various scenarios, including testing connector configurations and so on."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"OrganizationInvitation"}),(0,o.jsx)(t.td,{children:"Use this template to send users an invitation link to join the organization."})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"UserPermissionValidation"}),(0,o.jsxs)(t.td,{children:["During app usage, there may be some high-risk operations or operations with a relatively high risk level that require additional user verification, such as bank transfers, deleting resources in use, and canceling memberships. The ",(0,o.jsx)(t.code,{children:"UserPermissionValidation"})," template can be used to define the content of the email verification code users receive in these situations."]})]}),(0,o.jsxs)(t.tr,{children:[(0,o.jsx)(t.td,{children:"BindNewIdentifier"}),(0,o.jsxs)(t.td,{children:["When a user modifies their profile, they may bind an email address to their current account. In this case, the ",(0,o.jsx)(t.code,{children:"BindNewIdentifier"})," template can be used to customize the content of the verification email."]})]})]})]}),"\n",(0,o.jsx)(t.p,{children:"It's important to understand these parameters:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"Verification codes expire in 10 minutes. We currently do not support the customization of verification code expiry time."}),"\n",(0,o.jsxs)(t.li,{children:["A ",(0,o.jsx)(t.code,{children:"{{code}}"})," placeholder needs to be reserved in the template. When sending a verification code, a randomly generated code will replace this placeholder before we send email to users."]}),"\n"]}),"\n",(0,o.jsx)(t.h2,{id:"email-template-examples",children:"Email template examples"}),"\n",(0,o.jsx)(t.p,{children:"You can use the provided email template code examples as a starting point for customizing your UI. To create a user interface similar to the following:"}),"\n",(0,o.jsx)(t.p,{children:(0,o.jsx)(t.img,{alt:"Built-in email template sample",src:n(43787).A+"",width:"1876",height:"1364"})}),"\n",(0,o.jsx)(t.p,{children:"Since the email templates used in different scenarios of Logto are very similar, with the only difference being the description of the current scenario and operation."}),"\n",(0,o.jsxs)(t.p,{children:["We do not show the HTML code of all templates in detail here. Instead, we only take the ",(0,o.jsx)(t.strong,{children:"sign-in"})," scenario as an example. Other scenarios, such as sign-up and forgot password, are very similar to the following sample."]}),"\n",(0,o.jsx)(t.p,{children:"Users can refer to this template and adjust according to their actual situation."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-html",children:'<!doctype html>\n<html lang="en">\n  <head>\n    <meta charset="UTF-8" />\n    <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n    <title>Verify your email to sign in</title>\n    <style>\n      .auth-service-by:hover .mini-logo {\n        display: none !important;\n      }\n      .auth-service-by:hover .mini-logo-color {\n        display: block !important;\n      }\n      body {\n        font-family:\n          \'SF Pro Text\',\n          -apple-system,\n          system-ui,\n          BlinkMacSystemFont,\n          \'Segoe UI\',\n          Roboto,\n          Arial,\n          sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        font-smooth: always;\n        background-color: #fff;\n        color: #191c1d;\n        max-width: 640px;\n        padding: 32px 0;\n        font-size: 14px;\n        font-weight: 400;\n        line-height: 20px;\n      }\n      h1 {\n        font-size: 24px;\n        font-weight: 700;\n        line-height: 32px;\n        margin-top: 32px;\n      }\n      .verification-code {\n        margin: 20px 0;\n        background: #eff1f1;\n        border-radius: 12px;\n        padding: 36px;\n        font-size: 32px;\n        font-weight: 600;\n        line-height: 40px;\n      }\n      .footer {\n        text-align: center;\n        color: #a9acac;\n        margin-top: 48px;\n      }\n    </style>\n  </head>\n  <body>\n    <div style="max-width: 698px; border-radius: 16px; border: 1px solid #E0E3E3;">\n      <div style="padding: 0 24px;">\n        <center>\n          <img src="{{logoUrl}}" alt="Logo" width="auto" height="40" />\n          <h1>Verify your email to sign in</h1>\n          <p>\n            We have received a sign in attempt with the following code. Please enter it in the page\n            you opened to complete the sign in process.\n          </p>\n          <div class="verification-code">000000</div>\n          <p style="color: #747778;">\n            If you did not attempt to sign in but received this email, please ignore it. The code\n            will remain active for 10 minutes.\n          </p>\n          <hr style="margin: 64px 0 24px; max-width: 420px;" />\n          <p style="color: #747778; margin: 16px 0 0;">{{companyInfo}}</p>\n        </center>\n      </div>\n    </div>\n    <div class="footer">\n      <hr />\n      <p style="font-size: 14px; line-height: 20px; margin: 20px 0;">\n        <a href="https://logto.io" style="color: #A9ACAC; text-decoration: underline;">Logto</a>:\n        The better identity infrastructure for developers.\n      </p>\n      <table style="margin: 0 auto; width: auto; border-spacing: 0;">\n        <tbody>\n          <tr>\n            <td style="vertical-align: middle;">\n              <a href="{{discordServerUrl}}" style="display: block; margin: 0 12px;">\n                <img src="{{discordLogoUrl}}" style="width: 20px;" />\n              </a>\n            </td>\n            <td style="vertical-align: middle;">\n              <a href="{{githubUrl}}" style="display: block; margin: 0 12px;">\n                <img src="{{githubLogoUrl}}" style="width: 20px;" />\n              </a>\n            </td>\n            <td style="vertical-align: middle;">\n              <a href="{{twitterUrl}}" style="display: block; margin: 0 12px;">\n                <img src="{{twitterLogoUrl}}" style="width: 20px;" />\n              </a>\n            </td>\n            <td style="vertical-align: middle;">\n              <a href="{{mailToUrl}}" style="display: block; margin: 0 12px;">\n                <img src="{{emailIconUrl}}" style="width: 20px;" />\n              </a>\n            </td>\n          </tr>\n        </tbody>\n      </table>\n      <p style="font-size: 12px; line-height: 16px;">\n        \xa9 Silverhand, Inc., 2810 North Church Street, Wilmington, DE 19802\n      </p>\n      <p style="color: #A9ACAC; font-size: 12px; line-height: 16px;">\n        Have questions or need help?\n        <a href="{{mailToUrl}}" style="color: #A9ACAC; text-decoration: underline;">Contact us</a>\n      </p>\n    </div>\n  </body>\n</html>\n'})}),"\n",(0,o.jsx)(t.p,{children:'You can then escape the HTML code above and add it to the connector "Template" field in configs as follows (assuming using SendGrid connector):'}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-json",children:'{\n  "subject": "<sign-in-template-subject>",\n  "content": "<table cellpadding=\\"0\\" cellspacing=\\"0\\" ...",\n  "usageType": "SignIn",\n  "type": "text/html"\n}\n'})}),"\n",(0,o.jsx)(t.h2,{id:"faqs",children:"FAQs"}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(t.h3,{id:"how-to-use-third-party-email-template-services-if-templates-are-not-configured-in-logto",children:"How to use third-party email template services if templates are not configured in Logto?"})}),(0,o.jsxs)(t.p,{children:["You can add a new endpoint to your own web service to send emails, then use ",(0,o.jsx)(t.a,{href:"/integrations/http-email",children:"the Logto HTTP email connector"})," to call the endpoint you maintain."]}),(0,o.jsx)(t.p,{children:"This allows you to handle email template logic on your own server."})]}),"\n",(0,o.jsxs)(i,{children:[(0,o.jsx)("summary",{children:(0,o.jsx)(t.h3,{id:"is-there-a-way-to-use-logto-email-for-sending-our-users-a-customized-welcome-email",children:'Is there a way to use Logto email for sending our users a customized "Welcome email"?'})}),(0,o.jsxs)(t.p,{children:["We offer ",(0,o.jsx)(t.a,{href:"/developers/webhooks",children:"Webhook"})," functionality. You can implement your own API endpoint to receive the ",(0,o.jsx)(t.code,{children:"User.Created"})," event sent by the Logto Webhook, and add logic to send a customized welcome email within the webhook handler."]}),(0,o.jsx)(t.p,{children:"The Logto email connector only provides email notifications for events related to the authentication flow. Welcome emails are a business requirement and are not natively supported by the email connector, but this functionality can be achieved through Webhooks."})]}),"\n",(0,o.jsx)(t.h2,{id:"related-resources",children:"Related resources"}),"\n",(0,o.jsx)(r,{href:"https://blog.logto.io/verification-email-delivery",children:(0,o.jsx)(t.p,{children:"Maximize verification email delivery to guarantee user access"})})]})}function h(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},43787:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/images/built-in-email-template-sample-0b0c76dbb070ced4babb98e911d3d2c8.jpeg"},79621:(e,t,n)=>{n.d(t,{R:()=>r,x:()=>a});var i=n(58101);const o={},s=i.createContext(o);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);