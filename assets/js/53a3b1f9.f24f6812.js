"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4395],{58261:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[];function o(e){const n={admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:['This guide assumes you have created an Application of type "',e.type,'" in Admin\nConsole.']})})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},2531:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Let's switch to the Application details page of Logto Console. Add a Redirect URI ",(0,s.jsx)("code",{children:e.redirectUri}),' and click "Save changes".']}),"\n",(0,s.jsx)("img",{alt:"Redirect URI in Logto Console",src:e.figureSrc,width:"600px"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},38517:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[];function o(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{href:"/end-user-flows",children:" End-user flows: authentication flows, account flows, and organization flows "}),"\n",(0,s.jsx)(n,{href:"/connectors",children:" Configure connectors "}),"\n",(0,s.jsx)(n,{href:"/authorization",children:" Authorization "})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},14812:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[];function o(e){const n={admonition:"admonition",...(0,r.R)(),...e.components};return(0,s.jsxs)(n.admonition,{type:"tip",children:[(0,s.jsx)("p",{children:'You can find and copy "App Secret" from application details page in Admin Console:'}),(0,s.jsx)("img",{alt:"App Secret",src:"/img/assets/app-secret.png",width:"586px"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},71019:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[{value:"Regarding redirect-based sign-in",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:t,MainSiteUrl:i}=n;return t||c("Details",!0),i||c("MainSiteUrl",!0),(0,s.jsxs)(t,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Regarding redirect-based sign-in"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["This authentication process follows the ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," protocol, and Logto enforces strict security measures to protect user sign-in."]}),"\n",(0,s.jsx)(n.li,{children:"If you have multiple apps, you can use the same identity provider (Logto). Once the user signs in to one app, Logto will automatically complete the sign-in process when the user accesses another app."}),"\n"]}),(0,s.jsxs)(n.p,{children:["To learn more about the rationale and benefits of redirect-based sign-in, see ",(0,s.jsx)(i,{href:"/concepts/sign-in-experience",children:"Logto sign-in experience explained"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},73653:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>i});var s=t(25105),r=t(79621);const i=[];function o(e){const n={admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Before calling ",(0,s.jsx)("code",{children:e.calling}),", make sure you have correctly configured Redirect URI\nin Admin Console."]})})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},79825:(e,n,t)=>{t.d(n,{Ay:()=>c,RM:()=>o});var s=t(25105),r=t(79621),i=t(71019);const o=[...i.RM];function a(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Before we dive into the details, here's a quick overview of the end-user experience. The sign-in process can be simplified as follows:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A(Your app) --\x3e|1. Invoke sign-in| B(Logto)\n    B --\x3e|2. Finish sign-in| A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Your app invokes the sign-in method."}),"\n",(0,s.jsx)(n.li,{children:"The user is redirected to the Logto sign-in page. For native apps, the system browser is opened."}),"\n",(0,s.jsx)(n.li,{children:"The user signs in and is redirected back to your app (configured as the redirect URI)."}),"\n"]}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsx)(n.hr,{})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},78541:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>x,contentTitle:()=>f,default:()=>b,frontMatter:()=>g,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"quick-starts/generic/traditional/README","title":"Add authentication to your traditional web application","description":"Your app may run on the server-side instead of the browser, using frameworks like Django, Laravel, etc. That is called a Traditional web app. If you cannot find a suitable SDK in this page, you probably need to integrate manually.","source":"@site/docs/quick-starts/generic/traditional/README.mdx","sourceDirName":"quick-starts/generic/traditional","slug":"/quick-starts/traditional-web","permalink":"/quick-starts/traditional-web","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/quick-starts/generic/traditional/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/traditional-web","sidebar_label":"Traditional web","sidebar_custom_props":{"description":"Integrate Logto with traditional web apps that run on the server."}},"sidebar":"quickStartSidebar","previous":{"title":"Machine-to-machine","permalink":"/quick-starts/m2m"},"next":{"title":"Hasura","permalink":"/quick-starts/hasura"}}');var r=t(25105),i=t(79621),o=t(38552),a=t(22002),c=t(58261),l=t(2531),d=t(38517),u=t(14812),h=t(73653),p=t(79825);const g={slug:"/quick-starts/traditional-web",sidebar_label:"Traditional web",sidebar_custom_props:{description:"Integrate Logto with traditional web apps that run on the server."}},f="Add authentication to your traditional web application",x={},m=[...c.RM,{value:"Get source code",id:"get-source-code",level:2},{value:"Start an Express project",id:"start-an-express-project",level:2},{value:"Install dependencies",id:"install-dependencies",level:2},{value:"Use session",id:"use-session",level:2},{value:"Implement functions to authenticate users",id:"implement-functions-to-authenticate-users",level:2},...u.RM,{value:"Sign in",id:"sign-in",level:2},...p.RM,{value:"Configure Redirect URI",id:"configure-redirect-uri",level:3},...l.RM,{value:"Implement sign in route",id:"implement-sign-in-route",level:3},...h.RM,{value:"Sign out",id:"sign-out",level:2},{value:"Access protected resource",id:"access-protected-resource",level:2},{value:"Further readings",id:"further-readings",level:2},...d.RM];function j(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components},{Url:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"add-authentication-to-your-traditional-web-application",children:"Add authentication to your traditional web application"})}),"\n",(0,r.jsx)(c.Ay,{type:"Traditional web"}),"\n",(0,r.jsx)(n.p,{children:"Your app may run on the server-side instead of the browser, using frameworks like Django, Laravel, etc. That is called a Traditional web app. If you cannot find a suitable SDK in this page, you probably need to integrate manually."}),"\n",(0,r.jsx)(n.p,{children:"This article guides you on how to finish it step by step. And we take Express in Node.js as an example."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["This article is not just for Express, and if you are using other frameworks or even other languages, you can replace ",(0,r.jsx)(n.code,{children:"@logto/js"})," with other language's core SDK and then adjust some of the steps."]})}),"\n",(0,r.jsx)(n.h2,{id:"get-source-code",children:"Get source code"}),"\n",(0,r.jsxs)(n.p,{children:["You can go to ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/express-example",children:"GitHub"})," to get the final code for this guide."]}),"\n",(0,r.jsx)(n.h2,{id:"start-an-express-project",children:"Start an Express project"}),"\n",(0,r.jsxs)(n.p,{children:["With ",(0,r.jsx)(n.code,{children:"express-generator"}),", you can quickly start an Express project."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"mkdir express-logto\ncd express-logto\nnpx express-generator\n"})}),"\n",(0,r.jsx)(n.h2,{id:"install-dependencies",children:"Install dependencies"}),"\n",(0,r.jsx)(n.p,{children:"The demo app will need 4 dependencies:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"@logto/js"}),": Logto's core SDK for JavaScript."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"node-fetch"}),": Minimal code for a ",(0,r.jsx)(n.code,{children:"window.fetch"})," compatible API on Node.js runtime."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"express-session"}),": A session middleware, we'll use the session to store user tokens."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"js-base64"}),": Yet another Base64 transcoder."]}),"\n"]}),"\n",(0,r.jsxs)(a.A,{children:[(0,r.jsx)(o.A,{value:"npm",label:"npm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"npm i @logto/js node-fetch@v2 express-session js-base64\n"})})}),(0,r.jsx)(o.A,{value:"yarn",label:"Yarn",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"yarn add @logto/js node-fetch@v2 express-session js-base64\n"})})}),(0,r.jsx)(o.A,{value:"pnpm",label:"pnpm",children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"pnpm add @logto/js node-fetch@v2 express-session js-base64\n"})})})]}),"\n",(0,r.jsx)(n.h2,{id:"use-session",children:"Use session"}),"\n",(0,r.jsx)(n.p,{children:"When users are signed in, they will get a set of tokens (Access Token, ID Token, Refresh Token) and interaction data, and the session is an excellent place to store them."}),"\n",(0,r.jsxs)(n.p,{children:["We have installed ",(0,r.jsx)(n.a,{href:"https://github.com/expressjs/session",children:"express-session"})," in the previous step, so now let's simply add the following code to set it up:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// app.js\n\nconst session = require('express-session');\n\napp.use(\n  session({\n    secret: 'keyboard cat', // Change to your own secret key\n    cookie: { maxAge: 86400 },\n  })\n);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"implement-functions-to-authenticate-users",children:"Implement functions to authenticate users"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.p,{children:["We assume the application is running on ",(0,r.jsx)(n.code,{children:"http://localhost:3000"})," in the following code snippets."]})}),"\n",(0,r.jsx)(n.p,{children:"In this step, we need to implement the following authenticate functions:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"getSignInUrl"}),": builds and returns a complete URL of the Logto Authorization Server to which users will be redirected."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"handleSignIn"}),": parses the callback URL after the authentication process completes, gets the code query parameter, and then fetches tokens (an access token, the refresh token, and an ID token) to complete the sign in process."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"refreshTokens"}),": exchanges a new access token using the refresh token."]}),"\n"]}),"\n",(0,r.jsx)(u.Ay,{}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// logto.js\n\nconst {\n  withReservedScopes,\n  fetchOidcConfig,\n  discoveryPath,\n  generateSignInUri,\n  verifyAndParseCodeFromCallbackUri,\n  fetchTokenByAuthorizationCode,\n  fetchTokenByRefreshToken,\n} = require('@logto/js');\nconst fetch = require('node-fetch');\nconst { randomFillSync, createHash } = require('crypto');\nconst { fromUint8Array } = require('js-base64');\n\nconst config = {\n  endpoint: 'https://logto.dev',\n  appId: 'foo',\n  appSecret: '<your-app-secret-copied-from-console>',\n  redirectUri: 'http://localhost:3000/callback', // You may need to replace it with your app's production address\n  scopes: withReservedScopes().split(' '),\n};\n\nconst requester = (input, init) => {\n  const { appId, appSecret } = config;\n\n  return fetch(input, {\n    ...init,\n    headers: {\n      ...init?.headers,\n      authorization: `Basic ${Buffer.from(`${appId}:${appSecret}`, 'utf8').toString('base64')}`,\n    },\n  });\n};\n\nconst generateRandomString = (length = 64) => {\n  return fromUint8Array(randomFillSync(new Uint8Array(length)), true);\n};\n\nconst generateCodeChallenge = async (codeVerifier) => {\n  const encodedCodeVerifier = new TextEncoder().encode(codeVerifier);\n  const hash = createHash('sha256');\n  hash.update(encodedCodeVerifier);\n  const codeChallenge = hash.digest();\n  return fromUint8Array(codeChallenge, true);\n};\n\nconst getOidcConfig = async () => {\n  return fetchOidcConfig(new URL(discoveryPath, config.endpoint).toString(), requester);\n};\n\nexports.getSignInUrl = async () => {\n  const { authorizationEndpoint } = await getOidcConfig();\n  const codeVerifier = generateRandomString();\n  const codeChallenge = await generateCodeChallenge(codeVerifier);\n  const state = generateRandomString();\n\n  const { redirectUri, scopes, appId: clientId } = config;\n\n  const signInUri = generateSignInUri({\n    authorizationEndpoint,\n    clientId,\n    redirectUri: redirectUri,\n    codeChallenge,\n    state,\n    scopes,\n  });\n\n  return { redirectUri, codeVerifier, state, signInUri };\n};\n\nexports.handleSignIn = async (signInSession, callbackUri) => {\n  const { redirectUri, state, codeVerifier } = signInSession;\n  const code = verifyAndParseCodeFromCallbackUri(callbackUri, redirectUri, state);\n\n  const { appId: clientId } = config;\n  const { tokenEndpoint } = await getOidcConfig();\n  const codeTokenResponse = await fetchTokenByAuthorizationCode(\n    {\n      clientId,\n      tokenEndpoint,\n      redirectUri,\n      codeVerifier,\n      code,\n    },\n    requester\n  );\n\n  return codeTokenResponse;\n};\n\nexports.refreshTokens = async (refreshToken) => {\n  const { appId: clientId, scopes } = config;\n  const { tokenEndpoint } = await getOidcConfig();\n  const tokenResponse = await fetchTokenByRefreshToken(\n    {\n      clientId,\n      tokenEndpoint,\n      refreshToken,\n      scopes,\n    },\n    requester\n  );\n\n  return tokenResponse;\n};\n"})}),"\n",(0,r.jsx)(n.h2,{id:"sign-in",children:"Sign in"}),"\n",(0,r.jsx)(p.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"configure-redirect-uri",children:"Configure Redirect URI"}),"\n",(0,r.jsx)(l.Ay,{figureSrc:"/img/assets/web-redirect-uri.png",redirectUri:"http://localhost:3000/callback"}),"\n",(0,r.jsx)(n.h3,{id:"implement-sign-in-route",children:"Implement sign in route"}),"\n",(0,r.jsx)(h.Ay,{calling:"getSignInUrl()"}),"\n",(0,r.jsx)(n.p,{children:"Create a route in Express to sign in:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"const { getSignInUrl } = require('./logto');\n\napp.get('/sign-in', async (req, res) => {\n  const { redirectUri, codeVerifier, state, signInUri } = await getSignInUrl();\n  req.session.signIn = { codeVerifier, state, redirectUri };\n  res.redirect(signInUri);\n});\n"})}),"\n",(0,r.jsx)(n.p,{children:"and a route to handle callback:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"app.get('/callback', async (req, res) => {\n  if (!req.session.signIn) {\n    res.send('Bad request.');\n    return;\n  }\n\n  const response = await handleSignIn(\n    req.session.signIn,\n    `${req.protocol}://${req.get('host')}${req.originalUrl}`\n  );\n  req.session.tokens = {\n    ...response,\n    expiresAt: response.expiresIn + Date.now(),\n    idToken: decodeIdToken(response.idToken),\n  };\n  req.session.signIn = null;\n\n  res.redirect('/');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"sign-out",children:"Sign out"}),"\n",(0,r.jsx)(n.p,{children:'TODO: link to the "session & cookies" chapter in users reference.'}),"\n",(0,r.jsx)(n.p,{children:'You can clear tokens in session to sign out a user from this application. And check this link to read more about "sign out".'}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"app.get('/sign-out', (req, res) => {\n  req.session.tokens = null;\n  res.send('Sign out successful');\n});\n"})}),"\n",(0,r.jsx)(n.h2,{id:"access-protected-resource",children:"Access protected resource"}),"\n",(0,r.jsxs)(n.p,{children:["Create a middleware named ",(0,r.jsx)(n.code,{children:"withAuth"})," to attach an ",(0,r.jsx)(n.code,{children:"auth"})," object to ",(0,r.jsx)(n.code,{children:"req"}),", and verify if a user is signed in."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"// auth.js\n\nconst { decodeIdToken } = require('@logto/js');\nconst { refreshTokens } = require('./logto');\n\nconst withAuth =\n  ({ requireAuth } = { requireAuth: true }) =>\n  async (req, res, next) => {\n    if (requireAuth && !req.session.tokens) {\n      res.redirect('/sign-in');\n      return;\n    }\n\n    if (req.session.tokens) {\n      if (req.session.tokens.expiresAt >= Date.now()) {\n        // Access token expired, refresh for new tokens\n        try {\n          const response = await refreshTokens(req.session.tokens.refreshToken);\n          req.session.tokens = {\n            ...response,\n            expiresAt: response.expiresIn + Date.now(),\n            idToken: decodeIdToken(response.idToken),\n          };\n        } catch {\n          // Exchange failed, redirect to sign in\n          res.redirect('/sign-in');\n          return;\n        }\n      }\n\n      req.auth = req.session.tokens.idToken.sub;\n    }\n\n    next();\n  };\n\nmodule.exports = withAuth;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["create ",(0,r.jsx)(n.code,{children:"index"})," page, show a sign-in link for guests, and a go-to-profile link for users that already signed in:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"router.get('/', withAuth({ requireAuth: false }), function (req, res, next) {\n  res.render('index', { auth: Boolean(req.auth) });\n});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jade",children:'extends layout\n\nblock content\n  h1 Hello logto\n  if auth\n    p: a(href="/user") Go to profile\n  else\n    p: a(href="/sign-in") Click here to sign in\n'})}),"\n",(0,r.jsxs)(n.p,{children:["create ",(0,r.jsx)(n.code,{children:"user"})," page, to display ",(0,r.jsx)(n.code,{children:"userId"})," (",(0,r.jsx)(n.code,{children:"subject"}),"):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"app.get('/user', withAuth(), (req, res, next) => {\n  res.render('user', { userId: req.auth });\n});\n"})}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-jade",children:"extends layout\n\nblock content\n  h1 Hello logto\n  p userId: #{userId}\n"})}),"\n",(0,r.jsx)(n.h2,{id:"further-readings",children:"Further readings"}),"\n",(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsx)(t,{href:"https://blog.logto.io/gpt-action-oauth",children:(0,r.jsx)(n.p,{children:"Authenticate users in GPT actions: Build a personal agenda assistant"})})]})}function b(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(j,{...e})}):j(e)}},38552:(e,n,t)=>{t.d(n,{A:()=>o});t(58101);var s=t(13526);const r={tabItem:"tabItem_dgSZ"};var i=t(25105);function o(e){let{children:n,hidden:t,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(r.tabItem,o),hidden:t,children:n})}},22002:(e,n,t)=>{t.d(n,{A:()=>k});var s=t(58101),r=t(13526),i=t(60755),o=t(55234),a=t(6635),c=t(4100),l=t(35661),d=t(42752);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:r}}=e;return{value:n,label:t,attributes:s,default:r}}))}(t);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function p(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function g(e){let{queryString:n=!1,groupId:t}=e;const r=(0,o.W6)(),i=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,c.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(r.location.search);n.set(i,e),r.replace({...r.location,search:n.toString()})}),[i,r])]}function f(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,i=h(e),[o,c]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i}))),[l,u]=g({queryString:t,groupId:r}),[f,x]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,i]=(0,d.Dv)(t);return[r,(0,s.useCallback)((e=>{t&&i.set(e)}),[t,i])]}({groupId:r}),m=(()=>{const e=l??f;return p({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{m&&c(m)}),[m]);return{selectedValue:o,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),x(e)}),[u,x,i]),tabValues:i}}var x=t(21929);const m={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var j=t(25105);function b(e){let{className:n,block:t,selectedValue:s,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),d=e=>{const n=e.currentTarget,t=c.indexOf(n),r=a[t].value;r!==s&&(l(n),o(r))},u=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const t=c.indexOf(e.currentTarget)+1;n=c[t]??c[0];break}case"ArrowLeft":{const t=c.indexOf(e.currentTarget)-1;n=c[t]??c[c.length-1];break}}n?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:a.map((e=>{let{value:n,label:t,attributes:i}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{c.push(e)},onKeyDown:u,onClick:d,...i,className:(0,r.A)("tabs__item",m.tabItem,i?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function y(e){let{lazy:n,children:t,selectedValue:i}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function v(e){const n=f(e);return(0,j.jsxs)("div",{className:(0,r.A)("tabs-container",m.tabList),children:[(0,j.jsx)(b,{...n,...e}),(0,j.jsx)(y,{...n,...e})]})}function k(e){const n=(0,x.A)();return(0,j.jsx)(v,{...e,children:u(e.children)},String(n))}},79621:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(58101);const r={},i=s.createContext(r);function o(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);