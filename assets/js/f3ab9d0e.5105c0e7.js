"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4709],{80574:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>x,frontMatter:()=>c,metadata:()=>i,toc:()=>t});const i=JSON.parse('{"id":"developers/sdk-conventions/platform-sdk-convention","title":"Platform SDK convention","description":"Platform SDK provides a standard way to integrate the client with Logto service in the specific platform and accelerates the integration process.","source":"@site/docs/developers/sdk-conventions/platform-sdk-conventions.mdx","sourceDirName":"developers/sdk-conventions","slug":"/developers/sdk-conventions/platform-sdk-convention","permalink":"/developers/sdk-conventions/platform-sdk-convention","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/developers/sdk-conventions/platform-sdk-conventions.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"platform-sdk-convention","title":"Platform SDK convention","sidebar_label":"Platform SDK convention","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Core SDK convention","permalink":"/developers/sdk-conventions/core-sdk-convention"},"next":{"title":"Developer","permalink":"/developers/"}}');var r=s(25105),d=s(79621);const c={id:"platform-sdk-convention",title:"Platform SDK convention",sidebar_label:"Platform SDK convention",sidebar_position:4},l="Platform SDK convention",o={},t=[{value:"Basic types",id:"basic-types",level:2},{value:"LogtoConfig",id:"logtoconfig",level:3},{value:"AccessToken",id:"accesstoken",level:3},{value:"LogtoClient",id:"logtoclient",level:2},{value:"Properties",id:"properties",level:3},{value:"logtoConfig",id:"logtoconfig-1",level:3},{value:"oidcConfig",id:"oidcconfig",level:3},{value:"accessTokenMap",id:"accesstokenmap",level:3},{value:"refreshToken",id:"refreshtoken",level:3},{value:"idToken",id:"idtoken",level:3},{value:"Methods",id:"methods",level:3},{value:"constructor",id:"constructor",level:3},{value:"isAuthenticated",id:"isauthenticated",level:3},{value:"SignIn",id:"signin",level:3},{value:"SignOut",id:"signout",level:3},{value:"getAccessToken",id:"getaccesstoken",level:3},{value:"getIdTokenClaims",id:"getidtokenclaims",level:3}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"platform-sdk-convention",children:"Platform SDK convention"})}),"\n",(0,r.jsx)(n.p,{children:"Platform SDK provides a standard way to integrate the client with Logto service in the specific platform and accelerates the integration process."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Platform SDK encapsulates ",(0,r.jsx)(n.a,{href:"/developers/sdk-conventions/core-sdk-convention",children:"the core"})," with platform-specific implementation."]}),"\n",(0,r.jsx)(n.li,{children:"Platform SDK should provide basic types that make SDK easier to use."}),"\n",(0,r.jsxs)(n.li,{children:["Platform SDK should be exported as a class named ",(0,r.jsx)(n.code,{children:"LogtoClient"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"basic-types",children:"Basic types"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"logtoconfig",children:"LogtoConfig"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default Value"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"endpoint"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The OIDC service endpoint."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"appId"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"\u2705"}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The application id comes from the application we registered in Logto Service."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scopes"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"[openid, offline_access, profile]"})}),(0,r.jsxs)(n.td,{children:["This field always contains ",(0,r.jsx)(n.code,{children:"openid"}),", ",(0,r.jsx)(n.code,{children:"offline_access"})," and ",(0,r.jsx)(n.code,{children:"profile"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resources"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:"The protected resource indicators we want to use."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"prompt"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"consent"})}),(0,r.jsxs)(n.td,{children:["The prompt value used in ",(0,r.jsx)(n.code,{children:"generateSignInUri"}),"."]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"usingPersistStorage"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"true"})}),(0,r.jsx)(n.td,{children:"Decide to store credentials on the local machine or not."})]})]})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"*Notes"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You can extend this ",(0,r.jsx)(n.code,{children:"LogtoConfig"})," if you need to."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"usingPersistStorage"})," is only provided in client SDKs. E.g., iOS, Android, and SPA."]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"accesstoken",children:"AccessToken"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Name"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Notes"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"token"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"scope"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"expiresAt"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Timestamp in seconds"})]})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"logtoclient",children:"LogtoClient"}),"\n",(0,r.jsx)(n.h3,{id:"properties",children:"Properties"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"logtoconfig-1",children:"logtoConfig"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"LogtoConfig"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"oidcconfig",children:"oidcConfig"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"OidcConfigResponse?"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"accesstokenmap",children:"accessTokenMap"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"Map<string, AccessToken>"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Key"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The key should be constructed with ",(0,r.jsx)(n.code,{children:"scope"})," and ",(0,r.jsx)(n.code,{children:"resource"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["The values in ",(0,r.jsx)(n.code,{children:"scope"})," should be sorted alphabetically and joined with space."]}),"\n",(0,r.jsxs)(n.li,{children:["The key should be constructed in the pattern: ",(0,r.jsx)(n.code,{children:"${scope}@${resource}"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"scope"})," or ",(0,r.jsx)(n.code,{children:"resource"})," is null or empty, their value should be treated as empty."]}),"\n"]}),(0,r.jsxs)(n.p,{children:["E.g., ",(0,r.jsx)(n.code,{children:'"offline_access openid read:usr@https://logto.dev/api"'}),", ",(0,r.jsx)(n.code,{children:'"@https://logto.dev/api"'}),", ",(0,r.jsx)(n.code,{children:'"openid@"'}),", ",(0,r.jsx)(n.code,{children:'"@"'}),"."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Value"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"AccessToken"}),", which uses ",(0,r.jsx)(n.code,{children:"expiresAt"})," property to indicate the exact time when an access token is expired."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["The ",(0,r.jsx)(n.code,{children:"scope"})," will always be a null value for we don't support custom scopes in Logto V1."]}),"\n",(0,r.jsxs)(n.li,{children:["When building the access token key to store an access token:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"scope"})," will always be a null value."]}),"\n",(0,r.jsxs)(n.li,{children:["if the access token is not a jwt, treat the ",(0,r.jsx)(n.code,{children:"resource"})," as a null value."]}),"\n",(0,r.jsxs)(n.li,{children:["if the access token is a jwt, decode the access token and use the payload's ",(0,r.jsx)(n.code,{children:"aud"})," claim value as the ",(0,r.jsx)(n.code,{children:"resource"})," part of the access token key."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"refreshtoken",children:"refreshToken"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string?"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"refreshToken"})," will be set or updated under circumstances below:"]}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Load ",(0,r.jsx)(n.code,{children:"refreshToken"})," from the storage."]}),"\n",(0,r.jsxs)(n.li,{children:["The server returns a ",(0,r.jsx)(n.code,{children:"refreshToken"})," in the response on fetch token successfully."]}),"\n",(0,r.jsxs)(n.li,{children:["Sign out (will be set to ",(0,r.jsx)(n.code,{children:"null"}),")."]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"idtoken",children:"idToken"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string?"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"idToken"})," should be verified if it comes from the backend."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"idToken"})," will be set or updated under circumstances below:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Load ",(0,r.jsx)(n.code,{children:"idToken"})," from the storage."]}),"\n",(0,r.jsxs)(n.li,{children:["The server returns an ",(0,r.jsx)(n.code,{children:"idToken"})," in the response on fetch token successfully."]}),"\n",(0,r.jsxs)(n.li,{children:["Sign out (will be set to ",(0,r.jsx)(n.code,{children:"null"}),")."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsx)(n.h3,{id:"methods",children:"Methods"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"constructor",children:"constructor"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"logtoConfig"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LogtoConfig"})})]})})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"LogtoClient"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You can add extra parameters if you need to."}),"\n",(0,r.jsxs)(n.li,{children:["If the usePersistStorage is enabled in logtoConfig, the platform SDK will provide the following functionalities:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Store persistent data with a unique key based on ",(0,r.jsx)(n.code,{children:"clientId"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Load ",(0,r.jsx)(n.code,{children:"refreshToken"})," and ",(0,r.jsx)(n.code,{children:"idToken"})," from the local machine on initialization."]}),"\n",(0,r.jsxs)(n.li,{children:["Store ",(0,r.jsx)(n.code,{children:"refreshToken"})," and ",(0,r.jsx)(n.code,{children:"idToken"})," locally on ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByAuthorizationCode"})," and ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"}),"."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"isauthenticated",children:"isAuthenticated"})}),(0,r.jsxs)(n.p,{children:["To know if a user is authenticated or not.",(0,r.jsx)(n.br,{}),"\n","This can be defined as a getter as well."]}),(0,r.jsx)(n.p,{children:"A user is treated as authenticated when:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"We have gained an ID token successfully."}),"\n",(0,r.jsx)(n.li,{children:"We have loaded an ID token from the local machine."}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsx)(n.p,{children:"None."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"boolean"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"signin",children:"SignIn"})}),(0,r.jsx)(n.p,{children:"This method should start a sign-in flow and the platform SDK should take care of all steps an authorization needs to complete including the sign-in redirect process."}),(0,r.jsx)(n.p,{children:"The user will be authenticated after this method has been called successfully."}),(0,r.jsx)(n.p,{children:"The sign-in process will reply on the Core SDK Functions:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"generateSignInUri"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"verifyAndParseCodeFromCallbackUri"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.code,{children:"fetchTokenByAuthorizationCode"})}),"\n"]}),(0,r.jsx)(n.p,{children:"Notes:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Because generateSignInUri includes the resources we need, we don't need to pass resource to fetchTokenByAuthorizationCode function."}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"redirectUri"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})})]})})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Throws"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Any error that occurs during this sign-in process."}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"signout",children:"SignOut"})}),(0,r.jsx)(n.p,{children:"The sign-out process should follow the steps:"}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Clear local storage, cookies, persistent data, or something else."}),"\n",(0,r.jsxs)(n.li,{children:["Revoke the obtained refresh token via ",(0,r.jsx)(n.code,{children:"Core.revoke"})," (the Logto service will revoke all related tokens if the refresh token is revoked)."]}),"\n",(0,r.jsx)(n.li,{children:"Redirect the user to Logto's sign-out endpoint unless step 1 clears the session of the sign-in page."}),"\n"]}),(0,r.jsx)(n.p,{children:"Notes:"}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["In step 2, ",(0,r.jsx)(n.code,{children:"Core.revoke"})," is an async call and will not block the sign-out process even if it fails."]}),"\n",(0,r.jsxs)(n.li,{children:["Step 3 is relying on ",(0,r.jsx)(n.code,{children:"Core.generateSignOutUri"})," to generate the Logto's sign-out endpoint."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default Value"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"postLogoutRedirectUri"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"null"})})]})})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"void"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Throws"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Any error that occurs during this sign-out process."}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"getaccesstoken",children:"getAccessToken"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"getAccessToken"})," retrieves an ",(0,r.jsx)(n.code,{children:"AccessToken"})," by ",(0,r.jsx)(n.code,{children:"resource"})," and ",(0,r.jsx)(n.code,{children:"scope"})," from ",(0,r.jsx)(n.code,{children:"accessTokenMap"})," then returns the ",(0,r.jsx)(n.code,{children:"token"})," value of that ",(0,r.jsx)(n.code,{children:"AccessToken"}),"."]}),(0,r.jsxs)(n.p,{children:["We set the ",(0,r.jsx)(n.code,{children:"scope"})," to ",(0,r.jsx)(n.code,{children:"null"})," when building the key of the ",(0,r.jsx)(n.code,{children:"accessTokenMap"})," for we don't support custom scopes in Logto V1."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Notes"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["If cannot find a corresponding ",(0,r.jsx)(n.code,{children:"AccessToken"})," then perform a ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," action to fetch the token needed."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"accessToken"})," is not expired, then return the ",(0,r.jsx)(n.code,{children:"token"})," value inside."]}),"\n",(0,r.jsxs)(n.li,{children:["If the ",(0,r.jsx)(n.code,{children:"accessToken"})," is expired, then perform a ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," action to retrieve a new ",(0,r.jsx)(n.code,{children:"accessToken"})," , update the local ",(0,r.jsx)(n.code,{children:"accessTokenMap"})," and return the new ",(0,r.jsx)(n.code,{children:"token"})," value inside."]}),"\n",(0,r.jsxs)(n.li,{children:["If ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," failed, then informs that the user with the exception occurred."]}),"\n",(0,r.jsx)(n.li,{children:"If cannot find the refreshToken, then informs the user of an unauthorized exception."}),"\n",(0,r.jsxs)(n.li,{children:["Only by obtaining a ",(0,r.jsx)(n.code,{children:"refreshToken"})," after signing in can we perform a ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," action."]}),"\n"]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Parameter"}),(0,r.jsx)(n.th,{children:"Type"}),(0,r.jsx)(n.th,{children:"Required"}),(0,r.jsx)(n.th,{children:"Default value"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"resource"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"null"})})]})})]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Throws"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The user is not authenticated."}),"\n",(0,r.jsxs)(n.li,{children:["The input ",(0,r.jsx)(n.code,{children:"resource"})," is not set in the ",(0,r.jsx)(n.code,{children:"logtoConfig"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["No refresh token found before ",(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," failed."]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"getidtokenclaims",children:"getIdTokenClaims"})}),(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"getIdTokenClaims"})," return an object that carries the claims of the ",(0,r.jsx)(n.code,{children:"idToken"})," property."]}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Parameters"})}),(0,r.jsx)(n.p,{children:"None."}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Return Type"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.code,{children:"IdTokenClaims"})}),(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Throws"})}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"The user is not authenticated."}),"\n"]})]})]})}function x(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},79621:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var i=s(58101);const r={},d=i.createContext(r);function c(e){const n=i.useContext(d);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),i.createElement(d.Provider,{value:n},e.children)}}}]);