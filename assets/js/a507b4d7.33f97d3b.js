"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[1111],{73984:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["You may find some user information are missing in the returned object from ",(0,i.jsx)("code",{children:e.method}),". This is because OAuth 2.0 and OpenID Connect (OIDC) are designed to follow the principle of least privilege (PoLP), and Logto is built on top of these standards."]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},38517:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" End-user flows: authentication flows, account flows, and organization flows "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" Configure connectors "}),"\n",(0,i.jsx)(n,{href:"/authorization",children:" Authorization "})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},71019:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>s});var i=t(25105),r=t(79621);const s=[{value:"Regarding redirect-based sign-in",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:t,MainSiteUrl:s}=n;return t||c("Details",!0),s||c("MainSiteUrl",!0),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Regarding redirect-based sign-in"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["This authentication process follows the ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," protocol, and Logto enforces strict security measures to protect user sign-in."]}),"\n",(0,i.jsx)(n.li,{children:"If you have multiple apps, you can use the same identity provider (Logto). Once the user signs in to one app, Logto will automatically complete the sign-in process when the user accesses another app."}),"\n"]}),(0,i.jsxs)(n.p,{children:["To learn more about the rationale and benefits of redirect-based sign-in, see ",(0,i.jsx)(s,{href:"/concepts/sign-in-experience",children:"Logto sign-in experience explained"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},99205:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Here's the list of supported scopes and the corresponding claims:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The unique identifier of the user"}),(0,i.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The full name of the user"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The username of the user"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"URL of the End-User's profile picture. This URL MUST refer to an image file (for example, a PNG, JPEG, or GIF image file), rather than to a Web page containing an image. Note that this URL SHOULD specifically reference a profile photo of the End-User suitable for displaying when describing the End-User, rather than an arbitrary photo taken by the End-User."}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Time the End-User was created. The time is represented as the number of milliseconds since the Unix epoch (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Time the End-User's information was last updated. The time is represented as the number of milliseconds since the Unix epoch (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Other ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"standard claims"})," include ",(0,i.jsx)(n.code,{children:"family_name"}),", ",(0,i.jsx)(n.code,{children:"given_name"}),", ",(0,i.jsx)(n.code,{children:"middle_name"}),", ",(0,i.jsx)(n.code,{children:"nickname"}),", ",(0,i.jsx)(n.code,{children:"preferred_username"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", ",(0,i.jsx)(n.code,{children:"website"}),", ",(0,i.jsx)(n.code,{children:"gender"}),", ",(0,i.jsx)(n.code,{children:"birthdate"}),", ",(0,i.jsx)(n.code,{children:"zoneinfo"}),", and ",(0,i.jsx)(n.code,{children:"locale"})," will be also included in the ",(0,i.jsx)(n.code,{children:"profile"})," scope without the need for requesting the userinfo endpoint. A difference compared to the claims above is that these claims will only be returned when their values are not empty, while the claims above will return ",(0,i.jsx)(n.code,{children:"null"})," if the values are empty."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Unlike the standard claims, the ",(0,i.jsx)(n.code,{children:"created_at"})," and ",(0,i.jsx)(n.code,{children:"updated_at"})," claims are using milliseconds instead of seconds."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The email address of the user"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether the email address has been verified"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"The phone number of the user"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Whether the phone number has been verified"}),(0,i.jsx)(n.td,{children:"No"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["Please refer to the ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," for the details of the address claim."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"The custom data of the user"}),(0,i.jsx)(n.td,{children:"Yes"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"The linked identities of the user"}),(0,i.jsx)(n.td,{children:"Yes"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"The linked SSO identities of the user"}),(0,i.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"The roles of the user"}),(0,i.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"The organization IDs the user belongs to"}),(0,i.jsx)(n.td,{children:"No"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"The organization data the user belongs to"}),(0,i.jsx)(n.td,{children:"Yes"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Claim name"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Needs userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["The organization roles the user belongs to with the format of ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"No"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:['Considering performance and the data size, if "Needs userinfo?" is "Yes", it means the claim will not show up in the ID token, but will be returned in the ',(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"})," response."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},21841:(e,n,t)=>{t.d(n,{Ay:()=>a,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"By default, limited claims are returned. If you need more information, you can request additional scopes to access more claims."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:'A "claim" is an assertion made about a subject; a "scope" is a group of claims. In the current case, a claim is a piece of information about the user.'})}),"\n",(0,i.jsx)(n.p,{children:"Here's a non-normative example the scope - claim relationship:"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:'The "sub" claim means "subject", which is the unique identifier of the user (i.e. user ID).'})}),"\n",(0,i.jsxs)(n.p,{children:["Logto SDK will always request three scopes: ",(0,i.jsx)(n.code,{children:"openid"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", and ",(0,i.jsx)(n.code,{children:"offline_access"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},2353:(e,n,t)=>{t.d(n,{Ay:()=>l,Ip:()=>s,RM:()=>a,YF:()=>o});var i=t(25105),r=t(79621);const s="http://localhost:3000/",o=`${s}callback`,a=[{value:"Configure redirect URIs",id:"configure-redirect-uris",level:4}];function c(e){const n={h4:"h4",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:["\n","\n",(0,i.jsx)(n.h4,{id:"configure-redirect-uris",children:"Configure redirect URIs"}),"\n",(0,i.jsxs)(n.p,{children:["Switch to the application details page of Logto Console. Add a redirect URI ",(0,i.jsx)("code",{children:e.redirectUri??"http://localhost:3000/callback"}),"."]}),"\n",(0,i.jsx)("img",{alt:"Redirect URI in Logto Console",src:"/img/assets/web-redirect-uri.png",width:"600px"}),"\n",(0,i.jsxs)(n.p,{children:["Just like signing in, users should be redirected to Logto for signing out of the shared session. Once finished, it would be great to redirect the user back to your website. For example, add ",(0,i.jsx)("code",{children:s})," as the post sign-out redirect URI section."]}),"\n",(0,i.jsx)(n.p,{children:'Then click "Save" to save the changes.'})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},79825:(e,n,t)=>{t.d(n,{Ay:()=>c,RM:()=>o});var i=t(25105),r=t(79621),s=t(71019);const o=[...s.RM];function a(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Before we dive into the details, here's a quick overview of the end-user experience. The sign-in process can be simplified as follows:"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(Your app) --\x3e|1. Invoke sign-in| B(Logto)\n    B --\x3e|2. Finish sign-in| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Your app invokes the sign-in method."}),"\n",(0,i.jsx)(n.li,{children:"The user is redirected to the Logto sign-in page. For native apps, the system browser is opened."}),"\n",(0,i.jsx)(n.li,{children:"The user signs in and is redirected back to your app (configured as the redirect URI)."}),"\n"]}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},74036:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>m,contentTitle:()=>x,default:()=>y,frontMatter:()=>j,metadata:()=>i,toc:()=>f});const i=JSON.parse('{"id":"quick-starts/framework/java-spring-boot/README","title":"Add authentication to your Java Spring Boot application","description":"This guide will show you how to integrate Logto into your Java Spring Boot application.","source":"@site/docs/quick-starts/framework/java-spring-boot/README.mdx","sourceDirName":"quick-starts/framework/java-spring-boot","slug":"/quick-starts/java-spring-boot","permalink":"/quick-starts/java-spring-boot","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/quick-starts/framework/java-spring-boot/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/java-spring-boot","sidebar_label":"Java Spring Boot","sidebar_custom_props":{"description":"Spring Boot is a web framework for Java that enables developers to build secure, fast, and scalable server applications with the Java programming language.","logoFilename":"spring-boot.svg"}},"sidebar":"quickStartSidebar","previous":{"title":"Go","permalink":"/quick-starts/go"},"next":{"title":"Next.js (Pages Router)","permalink":"/quick-starts/next"}}');var r=t(25105),s=t(79621),o=t(73984),a=t(38517),c=t(21841),l=t(2353),d=t(79825),h=t(99205);const p=[...h.RM];function u(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Logto uses OIDC ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"scopes and claims conventions"})," to define the scopes and claims for retrieving user information from the ID token and OIDC ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"}),'. Both of the "scope" and the "claim" are terms from the OAuth 2.0 and OpenID Connect (OIDC) specifications.']}),"\n",(0,r.jsxs)(n.p,{children:["In short, when you request a scope, you will get the corresponding claims in the user information. For example, if you request the ",(0,r.jsx)(n.code,{children:"email"})," scope, you will get the ",(0,r.jsx)(n.code,{children:"email"})," and ",(0,r.jsx)(n.code,{children:"email_verified"})," data of the user."]}),"\n",(0,r.jsx)(h.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Add extra scopes and claims at the ",(0,r.jsx)(n.code,{children:"application.properties"})," file to request for more user information. For example, to request the ",(0,r.jsx)(n.code,{children:"urn:logto:scope:organizations"})," scope, add the following line to the ",(0,r.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"spring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access,urn:logto:scope:organizations\n"})}),"\n",(0,r.jsx)(n.p,{children:"User organization claims will be included in the authorization token."})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}const j={slug:"/quick-starts/java-spring-boot",sidebar_label:"Java Spring Boot",sidebar_custom_props:{description:"Spring Boot is a web framework for Java that enables developers to build secure, fast, and scalable server applications with the Java programming language.",logoFilename:"spring-boot.svg"}},x="Add authentication to your Java Spring Boot application",m={},f=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Configure your Java Spring Boot application",id:"configure-your-java-spring-boot-application",level:2},{value:"Adding dependencies",id:"adding-dependencies",level:3},{value:"OAuth2 Client Configuration",id:"oauth2-client-configuration",level:3},{value:"Implementation",id:"implementation",level:2},...d.RM,...l.RM,{value:"Implement the WebSecurityConfig",id:"implement-the-websecurityconfig",level:3},{value:"Create a new class <code>WebSecurityConfig</code> in your project",id:"create-a-new-class-websecurityconfig-in-your-project",level:4},{value:"Create a <code>idTokenDecoderFactory</code> bean",id:"create-a-idtokendecoderfactory-bean",level:4},{value:"Create a LoginSuccessHandler class to handle the login success event",id:"create-a-loginsuccesshandler-class-to-handle-the-login-success-event",level:4},{value:"Create a LogoutSuccessHandler class to handle the logout success event",id:"create-a-logoutsuccesshandler-class-to-handle-the-logout-success-event",level:4},{value:"Update the <code>WebSecurityConfig</code> class with a <code>securityFilterChain</code>",id:"update-the-websecurityconfig-class-with-a-securityfilterchain",level:4},{value:"Create a home page",id:"create-a-home-page",level:3},{value:"Create a user page",id:"create-a-user-page",level:3},{value:"Request additional claims",id:"request-additional-claims",level:4},...o.RM,...c.RM,{value:"Run and test the application",id:"run-and-test-the-application",level:3},{value:"Scopes and Claims",id:"scopes-and-claims",level:2},...p,{value:"Further readings",id:"further-readings",level:2},...a.RM];function b(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"add-authentication-to-your-java-spring-boot-application",children:"Add authentication to your Java Spring Boot application"})}),"\n",(0,r.jsx)(n.p,{children:"This guide will show you how to integrate Logto into your Java Spring Boot application."}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["You may find the sample code for this guide in our ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/spring-boot-sample",children:"spring-boot-sample"})," github repository."]}),"\n",(0,r.jsxs)(n.li,{children:["No official SDK is required to integrate Logto with your Java Spring Boot application. We will use the ",(0,r.jsx)(n.a,{href:"https://spring.io/projects/spring-security",children:"Spring Security"})," and ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/tutorials/spring-boot-oauth2",children:"Spring Security OAuth2"})," libraries to handle the OIDC authentication flow with Logto."]}),"\n"]})}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["A ",(0,r.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," account or a ",(0,r.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"self-hosted Logto"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Our sample code was created using the Spring Boot ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/gs/securing-web",children:"securing web starter"}),". Following the instructions to bootstrap a new web application if you don't have one."]}),"\n",(0,r.jsxs)(n.li,{children:["In this guide, we will use the ",(0,r.jsx)(n.a,{href:"https://spring.io/projects/spring-security",children:"Spring Security"})," and ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/tutorials/spring-boot-oauth2",children:"Spring Security OAuth2"})," libraries to handle OIDC authentication flow with Logto. Please make sure to go through the official documentation to understand the concepts."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"configure-your-java-spring-boot-application",children:"Configure your Java Spring Boot application"}),"\n",(0,r.jsx)(n.h3,{id:"adding-dependencies",children:"Adding dependencies"}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/gs/gradle",children:"gradle"})," users, add the following dependencies to your ",(0,r.jsx)(n.code,{children:"build.gradle"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-groovy",metastring:'title="build.gradle"',children:"dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\timplementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-security'\n\timplementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["For ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/gs/maven",children:"maven"})," users, add the following dependencies to your ",(0,r.jsx)(n.code,{children:"pom.xml"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-thymeleaf</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-oauth2-client</artifactId>\n</dependency>\n"})}),"\n",(0,r.jsx)(n.h3,{id:"oauth2-client-configuration",children:"OAuth2 Client Configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Register a new ",(0,r.jsx)(n.code,{children:"Java Spring Boot"})," application in Logto Console and get the client credential and IdP configurations for your web application."]}),"\n",(0,r.jsxs)(n.p,{children:["Add the following configuration to your ",(0,r.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"spring.security.oauth2.client.registration.logto.client-name=logto\nspring.security.oauth2.client.registration.logto.client-id={{YOUR_CLIENT_ID}}\nspring.security.oauth2.client.registration.logto.client-secret={{YOUR_CLIENT_ID}}\nspring.security.oauth2.client.registration.logto.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}\nspring.security.oauth2.client.registration.logto.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access\nspring.security.oauth2.client.registration.logto.provider=logto\n\nspring.security.oauth2.client.provider.logto.issuer-uri={{LOGTO_ENDPOINT}}/oidc\nspring.security.oauth2.client.provider.logto.authorization-uri={{LOGTO_ENDPOINT}}/oidc/auth\nspring.security.oauth2.client.provider.logto.jwk-set-uri={{LOGTO_ENDPOINT}}/oidc/jwks\n"})}),"\n",(0,r.jsx)(n.h2,{id:"implementation",children:"Implementation"}),"\n",(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["In order to redirect users back to your application after they sign in, you need to set the redirect URI using the ",(0,r.jsx)(n.code,{children:"client.registration.logto.redirect-uri"})," property in the previous step."]}),"\n",(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"implement-the-websecurityconfig",children:"Implement the WebSecurityConfig"}),"\n",(0,r.jsxs)(n.h4,{id:"create-a-new-class-websecurityconfig-in-your-project",children:["Create a new class ",(0,r.jsx)(n.code,{children:"WebSecurityConfig"})," in your project"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"WebSecurityConfig"})," class will be used to configure the security settings for your application. It is the key class that will handle the authentication and authorization flow. Please check the ",(0,r.jsx)(n.a,{href:"https://spring.io/guides/topicals/spring-security-architecture",children:"Spring Security documentation"})," for more details."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:"package com.example.securingweb;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\n@Configuration\n@EnableWebSecurity\n\npublic class WebSecurityConfig {\n // ...\n}\n"})}),"\n",(0,r.jsxs)(n.h4,{id:"create-a-idtokendecoderfactory-bean",children:["Create a ",(0,r.jsx)(n.code,{children:"idTokenDecoderFactory"})," bean"]}),"\n",(0,r.jsxs)(n.p,{children:["This is required because Logto uses ",(0,r.jsx)(n.code,{children:"ES384"})," as the default algorithm, we need to overwrite the default ",(0,r.jsx)(n.code,{children:"OidcIdTokenDecoderFactory"})," to use the same algorithm."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:"import org.springframework.context.annotation.Bean;\nimport org.springframework.security.oauth2.client.oidc.authentication.OidcIdTokenDecoderFactory;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.jose.jws.SignatureAlgorithm;\nimport org.springframework.security.oauth2.jwt.JwtDecoderFactory;\n\npublic class WebSecurityConfig {\n  // ...\n\n  @Bean\n  public JwtDecoderFactory<ClientRegistration> idTokenDecoderFactory() {\n    OidcIdTokenDecoderFactory idTokenDecoderFactory = new OidcIdTokenDecoderFactory();\n    idTokenDecoderFactory.setJwsAlgorithmResolver(clientRegistration -> SignatureAlgorithm.ES384);\n    return idTokenDecoderFactory;\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h4,{id:"create-a-loginsuccesshandler-class-to-handle-the-login-success-event",children:"Create a LoginSuccessHandler class to handle the login success event"}),"\n",(0,r.jsxs)(n.p,{children:["We will redirect the user to the ",(0,r.jsx)(n.code,{children:"/user"})," page after a successful login."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="CustomSuccessHandler.java"',children:'package com.example.securingweb;\n\nimport java.io.IOException;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\npublic class CustomSuccessHandler implements AuthenticationSuccessHandler {\n  @Override\n  public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n      Authentication authentication) throws IOException, ServletException {\n    response.sendRedirect("/user");\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h4,{id:"create-a-logoutsuccesshandler-class-to-handle-the-logout-success-event",children:"Create a LogoutSuccessHandler class to handle the logout success event"}),"\n",(0,r.jsx)(n.p,{children:"Clear the session and redirect the user to the home page."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="CustomLogoutHandler.java"',children:'package com.example.securingweb;\n\nimport java.io.IOException;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\n\npublic class CustomLogoutHandler implements LogoutSuccessHandler {\n  @Override\n  public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\n      throws IOException, ServletException {\n    HttpSession session = request.getSession();\n\n    if (session != null) {\n      session.invalidate();\n    }\n\n    response.sendRedirect("/home");\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.h4,{id:"update-the-websecurityconfig-class-with-a-securityfilterchain",children:["Update the ",(0,r.jsx)(n.code,{children:"WebSecurityConfig"})," class with a ",(0,r.jsx)(n.code,{children:"securityFilterChain"})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/DefaultSecurityFilterChain.html",children:"securityFilterChain"})," is a chain of filters that are responsible for processing the incoming requests and responses."]}),"\n",(0,r.jsxs)(n.p,{children:["We will configure the ",(0,r.jsx)(n.code,{children:"securityFilterChain"})," to allow access to the home page and require authentication for all other requests. Use the ",(0,r.jsx)(n.code,{children:"CustomSuccessHandler"})," and ",(0,r.jsx)(n.code,{children:"CustomLogoutHandler"})," to handle the login and logout events."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:'import org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.DefaultSecurityFilterChain;\n\npublic class WebSecurityConfig {\n  // ...\n\n  @Bean\n  public DefaultSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n      .authorizeRequests(authorizeRequests ->\n        authorizeRequests\n          .antMatchers("/", "/home").permitAll() // Allow access to the home page\n          .anyRequest().authenticated() // All other requests require authentication\n      )\n      .oauth2Login(oauth2Login ->\n        oauth2Login\n          .successHandler(new CustomSuccessHandler())\n      )\n      .logout(logout ->\n        logout\n          .logoutSuccessHandler(new CustomLogoutHandler())\n      );\n    return http.build();\n  }\n}\n'})}),"\n",(0,r.jsx)(n.h3,{id:"create-a-home-page",children:"Create a home page"}),"\n",(0,r.jsx)(n.p,{children:"(You may skip this step if you already have a home page in your project)"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="HomeController.java"',children:'package com.example.securingweb;\n\nimport java.security.Principal;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class HomeController {\n  @GetMapping({ "/", "/home" })\n  public String home(Principal principal) {\n    return principal != null ? "redirect:/user" : "home";\n  }\n}\n'})}),"\n",(0,r.jsx)(n.p,{children:"This controller will redirect the user to the user page if the user is authenticated, otherwise, it will show the home page. Add a sign-in link to the home page."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="resources/templates/home.html"',children:'<body>\n  <h1>Welcome!</h1>\n\n  <p><a th:href="@{/oauth2/authorization/logto}">Login with Logto</a></p>\n</body>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"create-a-user-page",children:"Create a user page"}),"\n",(0,r.jsx)(n.p,{children:"Create a new controller to handle the user page:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-java",metastring:'title="UserController.java"',children:'package com.example.securingweb;\n\nimport java.security.Principal;\nimport java.util.Map;\n\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\nimport org.springframework.security.oauth2.core.user.OAuth2User;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping("/user")\npublic class UserController {\n\n  @GetMapping\n  public String user(Model model, Principal principal) {\n    if (principal instanceof OAuth2AuthenticationToken) {\n      OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) principal;\n      OAuth2User oauth2User = token.getPrincipal();\n      Map<String, Object> attributes = oauth2User.getAttributes();\n\n      model.addAttribute("username", attributes.get("username"));\n      model.addAttribute("email", attributes.get("email"));\n      model.addAttribute("sub", attributes.get("sub"));\n    }\n\n    return "user";\n  }\n}\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Once the user is authenticated, we will retrieve the ",(0,r.jsx)(n.code,{children:"OAuth2User"})," data from the authenticated principal object. Please refer ",(0,r.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/client/authentication/OAuth2AuthenticationToken.html",children:"OAuth2AuthenticationToken"})," and ",(0,r.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/core/user/OAuth2User.html",children:"OAuth2User"})," for more details."]}),"\n",(0,r.jsxs)(n.p,{children:["Read the user data and pass it to the ",(0,r.jsx)(n.code,{children:"user.html"})," template."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="resources/templates/user.html"',children:'<body>\n  <h1>User Details</h1>\n  <div>\n    <p>\n    <div><strong>name:</strong> <span th:text="${username}"></span></div>\n    <div><strong>email:</strong> <span th:text="${email}"></span></div>\n    <div><strong>id:</strong> <span th:text="${sub}"></span></div>\n    </p>\n  </div>\n\n  <form th:action="@{/logout}" method="post">\n    <input type="submit" value="Logout" />\n  </form>\n</body>\n'})}),"\n",(0,r.jsx)(n.h4,{id:"request-additional-claims",children:"Request additional claims"}),"\n",(0,r.jsx)(o.Ay,{method:"principal (OAuth2AuthenticationToken)"}),"\n",(0,r.jsx)(c.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["To retrieve additional user information, you can add extra scopes to the ",(0,r.jsx)(n.code,{children:"application.properties"})," file. For example, to request the ",(0,r.jsx)(n.code,{children:"email"}),", ",(0,r.jsx)(n.code,{children:"phone"}),", and ",(0,r.jsx)(n.code,{children:"urn:logto:scope:organizations"})," scope, add the following line to the ",(0,r.jsx)(n.code,{children:"application.properties"})," file:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"  spring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access,email,phone,urn:logto:scope:organizations\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Then you can access the additional claims in the ",(0,r.jsx)(n.code,{children:"OAuth2User"})," object."]}),"\n",(0,r.jsx)(n.h3,{id:"run-and-test-the-application",children:"Run and test the application"}),"\n",(0,r.jsxs)(n.p,{children:["Run the application and navigate to ",(0,r.jsx)(n.code,{children:"http://localhost:8080"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"You will see the home page with a sign-in link."}),"\n",(0,r.jsx)(n.li,{children:"Click on the link to sign in with Logto."}),"\n",(0,r.jsx)(n.li,{children:"After successful authentication, you will be redirected to the user page with your user details."}),"\n",(0,r.jsx)(n.li,{children:"Click on the logout button to sign out. You will be redirected back to the home page."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"scopes-and-claims",children:"Scopes and Claims"}),"\n",(0,r.jsx)(g,{}),"\n",(0,r.jsx)(n.h2,{id:"further-readings",children:"Further readings"}),"\n",(0,r.jsx)(a.Ay,{})]})}function y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(b,{...e})}):b(e)}},79621:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var i=t(58101);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);