"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[7040],{95401:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"customization/live-preview","title":"Test user experience with live preview","description":"You can use the Live preview feature for convenient testing of your sign-in experience configurations.","source":"@site/docs/customization/live-preview.mdx","sourceDirName":"customization","slug":"/customization/live-preview","permalink":"/customization/live-preview","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/docs/customization/live-preview.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"sidebar_label":"Live preview"},"sidebar":"docsSidebar","previous":{"title":"Localized languages","permalink":"/customization/localized-languages"},"next":{"title":"Customization","permalink":"/customization/"}}');var t=n(25105),o=n(79621);const r={sidebar_position:5,sidebar_label:"Live preview"},c="Test user experience with live preview",a={},l=[{value:"Live preview",id:"live-preview",level:2},{value:"Dev panel",id:"dev-panel",level:2},{value:"Logto Config",id:"logto-config",level:3},{value:"Refresh token grant",id:"refresh-token-grant",level:3},{value:"User info",id:"user-info",level:3}];function d(e){const i={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,o.R)(),...e.components},{CloudLink:n}=i;return n||function(e,i){throw new Error("Expected "+(i?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.header,{children:(0,t.jsx)(i.h1,{id:"test-user-experience-with-live-preview",children:"Test user experience with live preview"})}),"\n",(0,t.jsxs)(i.p,{children:["You can use the ",(0,t.jsx)(i.strong,{children:"Live preview"})," feature for convenient testing of your sign-in experience configurations."]}),"\n",(0,t.jsx)(i.h2,{id:"live-preview",children:"Live preview"}),"\n",(0,t.jsxs)(i.p,{children:["Navigating to ",(0,t.jsx)(n,{to:"/sign-in-experience",children:"Console > Sign-in experience"}),'" and clicking the "Live preview" button in the top right corner will open a new browser tab with a fully functional demo of Logto\'s capabilities. This demo showcases our experience design approach for sign-in and sign-up flows. It is highly customizable and can be seamlessly integrated into your application.']}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["In this preview, you should create an account first to test the experience. You can manage this account later in ",(0,t.jsx)(n,{to:"/user-management",children:"Console > User management"}),"."]})}),"\n",(0,t.jsx)(i.p,{children:"If you try to sign in with the user account you created and the process is successful with no issues, you will be redirected to a success page that displays your identifiers and ID."}),"\n",(0,t.jsx)(i.h2,{id:"dev-panel",children:"Dev panel"}),"\n",(0,t.jsx)(i.p,{children:"After a successful sign-in using Logto\u2019s Live Preview, you\u2019ll land on a dashboard containing two primary actions:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Sign out the live preview button"}),": Terminates the current session."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Open dev panel button"}),": Launches debugging tools for analyzing your authentication flow."]}),"\n"]}),"\n",(0,t.jsx)(i.p,{children:"The Development Panel provides real-time insights for troubleshooting OIDC integration, inspecting tokens and claims, and testing advanced identity scenarios."}),"\n",(0,t.jsx)(i.h3,{id:"logto-config",children:"Logto Config"}),"\n",(0,t.jsxs)(i.p,{children:["Live Preview relies on a hidden demo app featuring a unified sign-in experience by default. In the ",(0,t.jsx)(i.strong,{children:"Logto Config"})," section, you can configure authentication parameters included in authentication requests to instruct Logto OIDC endpoint on how to handle the authentication process. This includes defining your app ID, assigning an organization ID, requesting specific scopes, etc. This setup is similar to initializing the LogtoClient with the ",(0,t.jsx)(i.code,{children:"LogtoProvider"}),", which establishes a Logto context for your application."]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"Remember to save your configuration changes. They will take effect the next time you sign in with Live Preview."})}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"App ID"}),": Specify your unique App ID. It\u2019s essential for testing ",(0,t.jsx)(i.a,{href:"/customization/match-your-brand#app-specific-branding",children:"per-app sign-in experience"}),", resource protection policies."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Sign-in extra parameters"}),": Supply additional ",(0,t.jsx)(i.a,{href:"/end-user-flows/authentication-parameters",children:"authentication parameters"})," to test the custom sign-in process. For examples:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"organization_id=xyz123456"}),": Test ",(0,t.jsx)(i.a,{href:"/customization/match-your-brand#organization-specific-branding",children:"organization-specific sign-in experience"})," or ",(0,t.jsx)(i.a,{href:"/authorization/organization-permissions",children:"organization permissions"}),"."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"direct_sign_in=social:google"}),": ",(0,t.jsx)(i.a,{href:"/end-user-flows/authentication-parameters/direct-sign-in#social-sign-in",children:"Directly trigger social sign-in"})," using the Google connector."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"direct_sign_in=sso:1234567890"}),": ",(0,t.jsx)(i.a,{href:"/end-user-flows/authentication-parameters/direct-sign-in#enterprise-sso",children:"Directly trigger enterprise SSO"})," using a specific enterprise connector."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Prompt"}),": Add ",(0,t.jsx)(i.a,{href:"https://blog.logto.io/introducing-oidc-prompt",children:"OIDC prompt values"})," (space delimited) to specify whether the Authorization Server prompts the end-user for reauthentication and consent. The defined values are:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"login"}),": Forces to reauthenticate the end user."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"consent"}),": Requires user consent before sharing information with the client."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.code,{children:"none"}),": Indicates that no UI should be displayed. This option is used to check for pre-existing authentication or consent."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Scope"}),": Specify the scopes (space delimited) for claim requests. For example:","\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:["To request user organization details, use two scopes: ",(0,t.jsx)(i.code,{children:"urn:logto:scope:organizations urn:logto:scope:organization_roles"})]}),"\n",(0,t.jsxs)(i.li,{children:["To request API permissions, provide the ",(0,t.jsx)(i.strong,{children:"scope names"})," in the ",(0,t.jsx)(i.strong,{children:"Scope"})," field and enter the corresponding ",(0,t.jsx)(i.strong,{children:"API identifier"})," in the ",(0,t.jsx)(i.strong,{children:"Resource"})," field below."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Resource"}),": Enter the API resource identifiers (space delimited) that your application needs access to. This field allows your app to request specific resource access tokens as required."]}),"\n"]}),"\n",(0,t.jsx)(i.h3,{id:"refresh-token-grant",children:"Refresh token grant"}),"\n",(0,t.jsxs)(i.p,{children:["This section details how to ",(0,t.jsx)(i.a,{href:"https://auth-wiki.logto.io/refresh-token",children:"refresh tokens"})," for different access types."]}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Resource"}),": Input the specific API Identifier (space delimited) if you need to refresh API resource access tokens."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Organization ID"}),": Input the organization ID (space delimited) if you need to refresh organization tokens."]}),"\n"]}),"\n",(0,t.jsxs)(i.p,{children:["See ",(0,t.jsx)(i.a,{href:"/authorization",children:"Authorization"})," for more details on how to use the refresh token grant."]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsxs)(i.p,{children:["Include ",(0,t.jsx)(i.code,{children:"consent"})," in the prompt parameter for ",(0,t.jsx)(i.code,{children:"offline_access"}),". A ",(0,t.jsx)(i.code,{children:"refresh token"})," will only be issued if the prompt includes ",(0,t.jsx)(i.code,{children:"consent"}),"."]})}),"\n",(0,t.jsx)(i.h3,{id:"user-info",children:"User info"}),"\n",(0,t.jsx)(i.p,{children:"Check the user data retrieved from your authentication flow:"}),"\n",(0,t.jsxs)(i.ul,{children:["\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Get ID token claims"}),": Retrieve all claims contained in the ",(0,t.jsx)(i.a,{href:"https://auth-wiki.logto.io/id-token",children:"ID token"}),", such as ",(0,t.jsx)(i.code,{children:"at_hash"}),", ",(0,t.jsx)(i.code,{children:"aud"}),", ",(0,t.jsx)(i.code,{children:"auth_time"}),", ",(0,t.jsx)(i.code,{children:"exp"}),", ",(0,t.jsx)(i.code,{children:"iat"}),", ",(0,t.jsx)(i.code,{children:"issu"}),", and additional user profiles. This is useful for validating the token and extracting necessary user information."]}),"\n",(0,t.jsxs)(i.li,{children:[(0,t.jsx)(i.strong,{children:"Fetch user info"}),": Retrieve only the user profile information by querying the userinfo endpoint."]}),"\n"]}),"\n",(0,t.jsx)(i.admonition,{type:"note",children:(0,t.jsx)(i.p,{children:"Use Chrome\u2019s Developer Tools (F12 \u2192 Console) to inspect network requests and review the tokens and claims."})})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},79621:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>c});var s=n(58101);const t={},o=s.createContext(t);function r(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function c(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);