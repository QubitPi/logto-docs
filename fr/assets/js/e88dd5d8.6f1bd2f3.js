"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[97337],{74312:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>c});const o=JSON.parse('{"id":"end-user-flows/organization-experience/create-organization","title":"Cr\xe9er une organisation","description":"Imaginez que vous construisez une application multi-locataire (par exemple, une application SaaS multi-locataire) qui sert de nombreux clients, et chaque client poss\xe8de un locataire d\xe9di\xe9. Lorsqu\'un nouveau client arrive, il cr\xe9e un nouveau compte, ainsi qu\'un nouveau locataire pour son propre entreprise.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","sourceDirName":"end-user-flows/organization-experience","slug":"/end-user-flows/organization-experience/create-organization","permalink":"/fr/end-user-flows/organization-experience/create-organization","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Exp\xe9rience d\'organisation","permalink":"/fr/end-user-flows/organization-experience/"},"next":{"title":"Inviter des membres de l\'organisation","permalink":"/fr/end-user-flows/organization-experience/invite-organization-members"}}');var t=i(25105),r=i(79621);const a={sidebar_position:1},s="Cr\xe9er une organisation",l={},c=[{value:"Cr\xe9ez vos organisations",id:"create-your-organizations",level:2},{value:"Cr\xe9er via Logto Console",id:"create-via-logto-console",level:3},{value:"Cr\xe9er via Logto Management API",id:"create-via-logto-management-api",level:3},{value:"Validation du jeton d\u2019organisation dans la requ\xeate utilisateur",id:"validating-organization-token-in-user-request",level:2},{value:"Ressources connexes",id:"related-resources",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{CloudLink:i,Url:o}=n;return i||p("CloudLink",!0),o||p("Url",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"cr\xe9er-une-organisation",children:"Cr\xe9er une organisation"})}),"\n",(0,t.jsxs)(n.p,{children:["Imaginez que vous construisez une ",(0,t.jsx)(n.a,{href:"https://auth.wiki/multi-tenancy",children:"application multi-locataire"})," (par exemple, une application SaaS multi-locataire) qui sert de nombreux clients, et chaque client poss\xe8de un locataire d\xe9di\xe9. Lorsqu'un nouveau client arrive, il cr\xe9e un nouveau compte, ainsi qu'un nouveau locataire pour son propre entreprise."]}),"\n",(0,t.jsxs)(n.p,{children:["Tout comme vous avez enregistr\xe9 votre compte ",(0,t.jsx)(n.a,{href:"https://cloud.logto.io/",children:"Logto Cloud"}),' et avez votre propre locataire Logto. Vous pouvez impl\xe9menter la m\xeame architecture dans votre application en utilisant la fonctionnalit\xe9 "',(0,t.jsx)(n.a,{href:"/organizations",children:"organisation"}),'" de Logto.']}),"\n",(0,t.jsx)(n.h2,{id:"create-your-organizations",children:"Cr\xe9ez vos organisations"}),"\n",(0,t.jsx)(n.p,{children:"Il existe deux fa\xe7ons de cr\xe9er des organisations pour votre application."}),"\n",(0,t.jsx)(n.h3,{id:"create-via-logto-console",children:"Cr\xe9er via Logto Console"}),"\n",(0,t.jsxs)(n.p,{children:["Cr\xe9ez manuellement vos organisations via l'interface utilisateur de Logto Console. Allez sur ",(0,t.jsx)(i,{to:"/organizations",children:"Console > Organisations"})," pour cr\xe9er une organisation, attribuer des membres et des r\xf4les, et personnaliser l'interface utilisateur de l'exp\xe9rience de connexion de l'organisation."]}),"\n",(0,t.jsxs)(n.p,{children:['Cr\xe9ez un "',(0,t.jsx)(n.a,{href:"/authorization/organization-template",children:"mod\xe8le d'organisation"}),'" si vous souhaitez cr\xe9er en masse des organisations similaires partageant les m\xeames param\xe8tres de ',(0,t.jsx)(n.a,{href:"/authorization/organization-template/configure-organization-template#create-organization-role",children:"r\xf4le"})," et de ",(0,t.jsx)(n.a,{href:"/authorization/organization-template/configure-organization-template#create-organization-permission",children:"permission"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"create-via-logto-management-api",children:"Cr\xe9er via Logto Management API"}),"\n",(0,t.jsxs)(n.p,{children:["Cliquer sur des boutons dans l'interface utilisateur de la Console fonctionne bien, mais nous voulons vraiment que les utilisateurs finaux puissent se servir eux-m\xeames et cr\xe9er des organisations, g\xe9rer les organisations eux-m\xeames dans ",(0,t.jsx)(n.strong,{children:"VOTRE application"}),". Ainsi, vous devrez impl\xe9menter ces fonctionnalit\xe9s dans votre application, avec l'aide de Logto Management API."]}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.p,{children:"Si vous n'\xeates pas familier avec Logto Management API, assurez-vous de lire ces documents d'abord."}),(0,t.jsx)(o,{href:"/concepts/core-service/#management-api",children:"Management API"}),(0,t.jsx)(o,{href:"/integrate-logto/interact-with-management-api",children:"Interagir avec Management API"})]}),"\n",(0,t.jsx)(n.p,{children:"En supposant que vous avez d\xe9j\xe0 connect\xe9 votre serveur backend API au point de terminaison Logto Management API via le m\xe9canisme Machine-to-Machine (M2M), et acquis le jeton d\u2019acc\xe8s M2M."}),"\n",(0,t.jsxs)(n.p,{children:["Cr\xe9ez une organisation avec Management API (",(0,t.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-createorganization",children:"r\xe9f\xe9rences API"}),") :"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'curl \\\n -X POST https://[tenant_id].logto.app/api/organizations \\\n -H "Authorization: Bearer $M2M_ACCESS_TOKEN" \\\n -H "Content-Type: application/json" \\\n -d \'{"tenantId":"string","name":"string","description":"string","customData":{},"isMfaRequired":false,"branding":{"logoUrl":"string","darkLogoUrl":"string","favicon":"string","darkFavicon":"string"},"createdAt":1234567890}\'\n'})}),"\n",(0,t.jsx)(n.p,{children:"Exemple de r\xe9ponse (201)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "tenantId": "string",\n  "id": "string",\n  "name": "string",\n  "description": "string",\n  "customData": {},\n  "isMfaRequired": false,\n  "branding": {\n    "logoUrl": "string",\n    "darkLogoUrl": "string",\n    "favicon": "string",\n    "darkFavicon": "string"\n  },\n  "createdAt": 1234567890\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:'Ensuite, vous pouvez impl\xe9menter votre propre API pour votre application. Ainsi, lorsque vos utilisateurs effectuent l\'action "cr\xe9er une organisation" dans votre application, vous pouvez valider la requ\xeate en v\xe9rifiant leurs permissions, puis appeler Logto Management API pour faire le reste du travail.'}),"\n",(0,t.jsx)(n.h2,{id:"validating-organization-token-in-user-request",children:"Validation du jeton d\u2019organisation dans la requ\xeate utilisateur"}),"\n",(0,t.jsxs)(n.p,{children:["Dans votre application, lorsque les utilisateurs effectuent des actions dans le contexte d'une organisation, ils doivent utiliser le jeton d\u2019organisation au lieu du jeton d\u2019acc\xe8s r\xe9gulier. Le jeton d\u2019organisation est un type sp\xe9cial de ",(0,t.jsx)(n.a,{href:"https://auth.wiki/jwt",children:"JWT"})," qui contient des permissions d\u2019organisation. Et tout comme n'importe quel ",(0,t.jsx)(n.a,{href:"https://auth.wiki/access-token",children:"jeton d\u2019acc\xe8s"}),' JWT, vous pouvez d\xe9coder les revendications du jeton et v\xe9rifier la revendication "scope" pour la v\xe9rification des permissions.']}),"\n",(0,t.jsx)(n.p,{children:"Consultez ces documentations pour plus de d\xe9tails :"}),"\n",(0,t.jsx)(o,{href:"/authorization/organization-template/protect-organization-resources",children:(0,t.jsx)(n.p,{children:"V\xe9rifier les jetons d\u2019organisation"})}),"\n",(0,t.jsx)(o,{href:"/authorization/api-resources/protect-your-api",children:"Prot\xe9ger votre API"}),"\n",(0,t.jsx)(n.h2,{id:"related-resources",children:"Ressources connexes"}),"\n",(0,t.jsx)(o,{href:"https://blog.logto.io/implement-multi-tenancy",children:(0,t.jsx)(n.p,{children:"Impl\xe9mentation de la multi-location avec Postgres"})})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>s});var o=i(58101);const t={},r=o.createContext(t);function a(e){const n=o.useContext(r);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);