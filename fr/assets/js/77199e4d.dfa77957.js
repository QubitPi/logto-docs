"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[19249],{13229:(e,o,r)=>{r.r(o),r.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"logto-oss/troubleshooting-oss","title":"D\xe9pannage pour OSS","description":"Mon navigateur ne peut pas charger la Console d\'administration (affiche l\'erreur Crypto.subtle is unavailable...) \\\\","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","sourceDirName":"logto-oss","slug":"/logto-oss/troubleshooting-oss","permalink":"/fr/logto-oss/troubleshooting-oss","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_label":"D\xe9pannage","sidebar_position":9},"sidebar":"docsSidebar","previous":{"title":"Mise \xe0 niveau","permalink":"/fr/logto-oss/upgrading-oss-version"},"next":{"title":"Contribution","permalink":"/fr/logto-oss/contribution"}}');var n=r(25105),s=r(79621);const t={sidebar_label:"D\xe9pannage",sidebar_position:9},a="D\xe9pannage pour OSS",l={},d=[{value:"Mon navigateur ne peut pas charger la Console d&#39;administration (affiche l&#39;erreur <code>Crypto.subtle is unavailable...</code>)",id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",level:3},{value:"J&#39;utilise un domaine personnalis\xe9, mais mon navigateur ne peut pas charger la Console d&#39;administration (affiche l&#39;erreur <code>&quot;code&quot;: &quot;oidc.invalid_redirect_uri&quot;</code>)",id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",level:3},{value:"J&#39;utilise un proxy HTTPS (par exemple, Nginx) devant Logto, mais j&#39;ai \xe9chou\xe9 \xe0 la connexion (affiche l&#39;erreur <code>TypeError: Failed to fetch</code>)",id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",level:3},{value:"Je rencontre des probl\xe8mes de CORS.",id:"im-facing-cors-issues",level:3},{value:"Qu&#39;est-ce que c&#39;est encore ? <code>Error: Invalid id token</code>",id:"what-is-this-again-error-invalid-id-token",level:3}];function c(e){const o={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components},{Details:r}=o;return r||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"d\xe9pannage-pour-oss",children:"D\xe9pannage pour OSS"})}),"\n",(0,n.jsxs)(r,{children:[(0,n.jsx)("summary",{children:(0,n.jsxs)(o.h3,{id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",children:["Mon navigateur ne peut pas charger la Console d'administration (affiche l'erreur ",(0,n.jsx)(o.code,{children:"Crypto.subtle is unavailable..."}),")"]})}),(0,n.jsxs)(o.p,{children:["La Console d'administration utilise ",(0,n.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",children:"Web Crypto API"}),", qui n\xe9cessite des ",(0,n.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",children:"contextes s\xe9curis\xe9s"}),", c'est-\xe0-dire HTTPS ou HTTP avec ",(0,n.jsx)(o.code,{children:"localhost"}),"."]}),(0,n.jsx)(o.p,{children:"Si vous utilisez HTTP avec une adresse IP ou un domaine personnalis\xe9, le navigateur ne peut pas charger la Console d'administration."})]}),"\n",(0,n.jsxs)(r,{children:[(0,n.jsx)("summary",{children:(0,n.jsxs)(o.h3,{id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",children:["J'utilise un domaine personnalis\xe9, mais mon navigateur ne peut pas charger la Console d'administration (affiche l'erreur ",(0,n.jsx)(o.code,{children:'"code": "oidc.invalid_redirect_uri"'}),")"]})}),(0,n.jsxs)(o.p,{children:["Si vous utilisez un domaine personnalis\xe9 plut\xf4t que ",(0,n.jsx)(o.code,{children:"localhost"}),", vous devez d\xe9finir la variable d'environnement ",(0,n.jsx)(o.code,{children:"ENDPOINT"})," sur l'URL de Logto. Cela est d\xfb \xe0 l'exigence stricte de l'URI de redirection dans OIDC. Voir ",(0,n.jsx)(o.a,{href:"/concepts/core-service/configuration/",children:"Configuration"})," pour plus de d\xe9tails."]})]}),"\n",(0,n.jsxs)(r,{children:[(0,n.jsx)("summary",{children:(0,n.jsxs)(o.h3,{id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",children:["J'utilise un proxy HTTPS (par exemple, Nginx) devant Logto, mais j'ai \xe9chou\xe9 \xe0 la connexion (affiche l'erreur ",(0,n.jsx)(o.code,{children:"TypeError: Failed to fetch"}),")"]})}),(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Tout d'abord, assurez-vous d'avoir d\xe9fini la variable d'environnement de n\u0153ud ",(0,n.jsx)(o.code,{children:"TRUST_PROXY_HEADER"})," sur ",(0,n.jsx)(o.code,{children:"true"}),". Voir ",(0,n.jsx)(o.a,{href:"/concepts/core-service/configuration/#using-a-https-proxy",children:"Configuration"})," pour plus de d\xe9tails."]}),"\n",(0,n.jsxs)(o.li,{children:["De plus, vous devez d\xe9finir l'en-t\xeate ",(0,n.jsx)(o.code,{children:"X-Forwarded-Proto"})," sur ",(0,n.jsx)(o.code,{children:"https"})," dans votre configuration de proxy. Voir ",(0,n.jsx)(o.a,{href:"https://github.com/panva/node-oidc-provider/blob/main/docs/README.md#trusting-tls-offloading-proxies",children:"Trusting TLS offloading proxies"})," pour plus de d\xe9tails."]}),"\n"]})]}),"\n",(0,n.jsxs)(r,{children:[(0,n.jsx)("summary",{children:(0,n.jsx)(o.h3,{id:"im-facing-cors-issues",children:"Je rencontre des probl\xe8mes de CORS."})}),(0,n.jsxs)(o.ul,{children:["\n",(0,n.jsxs)(o.li,{children:["Si ",(0,n.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," n'est pas sp\xe9cifi\xe9, ",(0,n.jsx)(o.code,{children:"localhost:[admin-port]"})," sera autoris\xe9 \xe0 effectuer le partage de ressources Cross-Origin (CORS) dans Logto."]}),"\n",(0,n.jsxs)(o.li,{children:["Si ",(0,n.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," est sp\xe9cifi\xe9, seules les requ\xeates provenant de l'origine de ",(0,n.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," seront autoris\xe9es."]}),"\n"]})]}),"\n",(0,n.jsxs)(r,{children:[(0,n.jsx)("summary",{children:(0,n.jsxs)(o.h3,{id:"what-is-this-again-error-invalid-id-token",children:["Qu'est-ce que c'est encore ? ",(0,n.jsx)(o.code,{children:"Error: Invalid id token"})]})}),(0,n.jsx)(o.p,{children:"Si vous ne modifiez pas vos jetons, alors dans la plupart des cas, cela est caus\xe9 par un d\xe9calage entre l'heure de votre serveur et l'heure de votre client. Synchronisez l'heure sur votre serveur et votre client et r\xe9essayez."})]})]})}function u(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},79621:(e,o,r)=>{r.d(o,{R:()=>t,x:()=>a});var i=r(58101);const n={},s=i.createContext(n);function t(e){const o=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(s.Provider,{value:o},e.children)}}}]);