"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[59527],{338:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>r,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"user-management/personal-access-token","title":"Jeton d\u2019acc\xe8s personnel","description":"Les jetons d\u2019acc\xe8s personnels (PATs) offrent un moyen s\xe9curis\xe9 pour les utilisateurs de fournir un jeton d\u2019acc\xe8s sans utiliser leurs identifiants et connexion interactive. Cela est utile pour les CI/CD, les scripts ou les applications qui doivent acc\xe9der aux ressources de mani\xe8re programmatique.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","sourceDirName":"user-management","slug":"/user-management/personal-access-token","permalink":"/fr/user-management/personal-access-token","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Recherche avanc\xe9e d\'utilisateurs","permalink":"/fr/user-management/advanced-user-search"},"next":{"title":"Migration des utilisateurs","permalink":"/fr/user-management/user-migration"}}');var o=s(25105),i=s(79621);const r={sidebar_position:4},a="Jeton d\u2019acc\xe8s personnel",c={},l=[{value:"Gestion des jetons d\u2019acc\xe8s personnels",id:"managing-personal-access-tokens",level:2},{value:"Utilisation de la Console",id:"using-console",level:3},{value:"Utilisation de la Management API",id:"using-management-api",level:3},{value:"Utiliser les PATs pour fournir des jetons d\u2019acc\xe8s",id:"use-pats-to-grant-access-tokens",level:2},{value:"Requ\xeate",id:"request",level:3},{value:"R\xe9ponse",id:"response",level:3},{value:"Exemple d\u2019\xe9change de jetons",id:"example-token-exchange",level:3},{value:"Ressources associ\xe9es",id:"related-resources",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components},{CloudLink:s,Url:t}=n;return s||p("CloudLink",!0),t||p("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"jeton-dacc\xe8s-personnel",children:"Jeton d\u2019acc\xe8s personnel"})}),"\n",(0,o.jsxs)(n.p,{children:["Les jetons d\u2019acc\xe8s personnels (PATs) offrent un moyen s\xe9curis\xe9 pour les utilisateurs de fournir un ",(0,o.jsx)(n.a,{href:"https://auth.wiki/access-token",children:"jeton d\u2019acc\xe8s"})," sans utiliser leurs identifiants et connexion interactive. Cela est utile pour les CI/CD, les scripts ou les applications qui doivent acc\xe9der aux ressources de mani\xe8re programmatique."]}),"\n",(0,o.jsx)(n.h2,{id:"managing-personal-access-tokens",children:"Gestion des jetons d\u2019acc\xe8s personnels"}),"\n",(0,o.jsx)(n.h3,{id:"using-console",children:"Utilisation de la Console"}),"\n",(0,o.jsxs)(n.p,{children:["Vous pouvez g\xe9rer les jetons d\u2019acc\xe8s personnels dans la page D\xe9tails de l'utilisateur de la ",(0,o.jsx)(s,{to:"/users",children:"Console > Gestion des utilisateurs"}),'. Dans la carte "Authentification", vous pouvez voir la liste des jetons d\u2019acc\xe8s personnels et en cr\xe9er de nouveaux.']}),"\n",(0,o.jsx)(n.h3,{id:"using-management-api",children:"Utilisation de la Management API"}),"\n",(0,o.jsxs)(n.p,{children:["Apr\xe8s avoir configur\xe9 la ",(0,o.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/",children:"Management API"}),", vous pouvez utiliser les ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listuserpersonalaccesstokens",children:"points de terminaison API"})," pour cr\xe9er, lister et supprimer des jetons d\u2019acc\xe8s personnels."]}),"\n",(0,o.jsx)(n.h2,{id:"use-pats-to-grant-access-tokens",children:"Utiliser les PATs pour fournir des jetons d\u2019acc\xe8s"}),"\n",(0,o.jsx)(n.p,{children:"Apr\xe8s avoir cr\xe9\xe9 un PAT, vous pouvez l'utiliser pour fournir des jetons d\u2019acc\xe8s \xe0 votre application en utilisant le point de terminaison d'\xe9change de jetons."}),"\n",(0,o.jsx)(n.h3,{id:"request",children:"Requ\xeate"}),"\n",(0,o.jsxs)(n.p,{children:["L'application effectue une ",(0,o.jsx)(n.a,{href:"https://auth.wiki/authorization-code-flow#token-exchange-request",children:"requ\xeate d\u2019\xe9change de jetons"})," vers le ",(0,o.jsx)(n.a,{href:"/integrate-logto/application-data-structure#token-endpoint",children:"point de terminaison de jetons"})," du locataire avec un type de subvention sp\xe9cial en utilisant la m\xe9thode HTTP POST. Les param\xe8tres suivants sont inclus dans le corps de l'entit\xe9 de la requ\xeate HTTP en utilisant le format ",(0,o.jsx)(n.code,{children:"application/x-www-form-urlencoded"}),"."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"client_id"}),": REQUIS. L'ID client de l'application."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"grant_type"}),": REQUIS. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:ietf:params:oauth:grant-type:token-exchange"}),", indiquant qu'un \xe9change de jetons est en cours."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"resource"}),": OPTIONNEL. L'indicateur de ressource, le m\xeame que pour les autres requ\xeates de jetons."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"scope"}),": OPTIONNEL. Les port\xe9es demand\xe9es, les m\xeames que pour les autres requ\xeates de jetons."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"subject_token"}),": REQUIS. Le PAT de l'utilisateur."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"subject_token_type"}),": REQUIS. Le type de jeton de s\xe9curit\xe9 fourni dans le param\xe8tre ",(0,o.jsx)(n.code,{children:"subject_token"}),". La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:logto:token-type:personal_access_token"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"response",children:"R\xe9ponse"}),"\n",(0,o.jsxs)(n.p,{children:["Si la requ\xeate d\u2019\xe9change de jetons r\xe9ussit, le point de terminaison de jetons du locataire renvoie un jeton d\u2019acc\xe8s qui repr\xe9sente l'identit\xe9 de l'utilisateur. La r\xe9ponse inclut les param\xe8tres suivants dans le corps de l'entit\xe9 de la r\xe9ponse HTTP en utilisant le format ",(0,o.jsx)(n.code,{children:"application/json"}),"."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"access_token"}),": REQUIS. Le jeton d\u2019acc\xe8s de l'utilisateur, qui est le m\xeame que pour les autres requ\xeates de jetons comme ",(0,o.jsx)(n.code,{children:"authorization_code"})," ou ",(0,o.jsx)(n.code,{children:"refresh_token"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"issued_token_type"}),": REQUIS. Le type de jeton \xe9mis. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:ietf:params:oauth:token-type:access_token"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"token_type"}),": REQUIS. Le type de jeton. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"expires_in"}),": REQUIS. La dur\xe9e de vie en secondes du jeton d\u2019acc\xe8s."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"scope"}),": OPTIONNEL. Les port\xe9es du jeton d\u2019acc\xe8s."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"example-token-exchange",children:"Exemple d\u2019\xe9change de jetons"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"POST /oidc/token HTTP/1.1\nHost: tenant.logto.app\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic <base64(client-id:client-secret)>\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Atoken-exchange\n&scope=profile\n&subject_token=pat_W51arOqe7nynW75nWhvYogyc\n&subject_token_type=urn%3Alogto%3Atoken-type%3Apersonal_access_token\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  "access_token": "eyJhbGci...zg",\n  "issued_token_type": "urn:ietf:params:oauth:token-type:access_token",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "scope": "profile"\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Le contenu du jeton d\u2019acc\xe8s exemple :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "jti": "iFtbZBeh2M1cTTBuKbHk4",\n  "sub": "123",\n  "iss": "https://tenant.logto.app/oidc",\n  "exp": 1672531200,\n  "iat": 1672527600,\n  "scope": "profile",\n  "client_id": "client-id"\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"related-resources",children:"Ressources associ\xe9es"}),"\n",(0,o.jsx)(t,{href:"https://blog.logto.io/pat-and-api-keys",children:(0,o.jsx)(n.p,{children:"Jetons d\u2019acc\xe8s personnels, authentification machine \xe0 machine, et d\xe9finition des cl\xe9s API et leurs\nsc\xe9narios r\xe9els"})})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,s)=>{s.d(n,{R:()=>r,x:()=>a});var t=s(58101);const o={},i=t.createContext(o);function r(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);