"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[518],{21711:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>t});const r=JSON.parse('{"id":"developers/sdk-conventions/platform-sdk-convention","title":"Convention du SDK de la plateforme","description":"Le SDK de la plateforme fournit un moyen standard d\'int\xe9grer le client avec le service Logto sur la plateforme sp\xe9cifique et acc\xe9l\xe8re le processus d\'int\xe9gration.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/developers/sdk-conventions/platform-sdk-conventions.mdx","sourceDirName":"developers/sdk-conventions","slug":"/developers/sdk-conventions/platform-sdk-convention","permalink":"/fr/developers/sdk-conventions/platform-sdk-convention","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/developers/sdk-conventions/platform-sdk-conventions.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"platform-sdk-convention","title":"Convention du SDK de la plateforme","sidebar_label":"Convention du SDK de la plateforme","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Convention du SDK Core","permalink":"/fr/developers/sdk-conventions/core-sdk-convention"},"next":{"title":"D\xe9veloppeur","permalink":"/fr/developers/"}}');var i=s(25105),d=s(79621);const c={id:"platform-sdk-convention",title:"Convention du SDK de la plateforme",sidebar_label:"Convention du SDK de la plateforme",sidebar_position:4},l="Convention du SDK de la plateforme",o={},t=[{value:"Types de base",id:"basic-types",level:2},{value:"LogtoConfig",id:"logtoconfig",level:3},{value:"AccessToken",id:"accesstoken",level:3},{value:"LogtoClient",id:"logtoclient",level:2},{value:"Propri\xe9t\xe9s",id:"properties",level:3},{value:"logtoConfig",id:"logtoconfig-1",level:3},{value:"oidcConfig",id:"oidcconfig",level:3},{value:"accessTokenMap",id:"accesstokenmap",level:3},{value:"refreshToken",id:"refreshtoken",level:3},{value:"idToken",id:"idtoken",level:3},{value:"M\xe9thodes",id:"methods",level:3},{value:"constructor",id:"constructor",level:3},{value:"isAuthenticated",id:"isauthenticated",level:3},{value:"SignIn",id:"signin",level:3},{value:"SignOut",id:"signout",level:3},{value:"getAccessToken",id:"getaccesstoken",level:3},{value:"getIdTokenClaims",id:"getidtokenclaims",level:3}];function h(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components},{Details:s}=n;return s||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"convention-du-sdk-de-la-plateforme",children:"Convention du SDK de la plateforme"})}),"\n",(0,i.jsx)(n.p,{children:"Le SDK de la plateforme fournit un moyen standard d'int\xe9grer le client avec le service Logto sur la plateforme sp\xe9cifique et acc\xe9l\xe8re le processus d'int\xe9gration."}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Le SDK de la plateforme encapsule ",(0,i.jsx)(n.a,{href:"/developers/sdk-conventions/core-sdk-convention",children:"le noyau"})," avec une impl\xe9mentation sp\xe9cifique \xe0 la plateforme."]}),"\n",(0,i.jsx)(n.li,{children:"Le SDK de la plateforme doit fournir des types de base qui facilitent l'utilisation du SDK."}),"\n",(0,i.jsxs)(n.li,{children:["Le SDK de la plateforme doit \xeatre export\xe9 en tant que classe nomm\xe9e ",(0,i.jsx)(n.code,{children:"LogtoClient"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"basic-types",children:"Types de base"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"logtoconfig",children:"LogtoConfig"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Requis"}),(0,i.jsx)(n.th,{children:"Valeur par d\xe9faut"}),(0,i.jsx)(n.th,{children:"Remarques"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"endpoint"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"Le point de terminaison du service OIDC."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"appId"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u2705"}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"L'identifiant de l'application provient de l'application que nous avons enregistr\xe9e dans le service Logto."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"scopes"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"[openid, offline_access, profile]"})}),(0,i.jsxs)(n.td,{children:["Ce champ contient toujours ",(0,i.jsx)(n.code,{children:"openid"}),", ",(0,i.jsx)(n.code,{children:"offline_access"})," et ",(0,i.jsx)(n.code,{children:"profile"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"resources"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:"Les indicateurs de ressource prot\xe9g\xe9e que nous voulons utiliser."})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"prompt"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"consent"})}),(0,i.jsxs)(n.td,{children:["La valeur de l'invite utilis\xe9e dans ",(0,i.jsx)(n.code,{children:"generateSignInUri"}),"."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"usingPersistStorage"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"true"})}),(0,i.jsx)(n.td,{children:"D\xe9cider de stocker ou non les informations d'identification sur la machine locale."})]})]})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"*Remarques"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Vous pouvez \xe9tendre ce ",(0,i.jsx)(n.code,{children:"LogtoConfig"})," si vous en avez besoin."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"usingPersistStorage"})," est uniquement fourni dans les SDK clients. Par exemple, iOS, Android et SPA."]}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"accesstoken",children:"AccessToken"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Remarques"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"token"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"scope"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"expiresAt"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Horodatage en secondes"})]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"logtoclient",children:"LogtoClient"}),"\n",(0,i.jsx)(n.h3,{id:"properties",children:"Propri\xe9t\xe9s"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"logtoconfig-1",children:"logtoConfig"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"LogtoConfig"})})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"oidcconfig",children:"oidcConfig"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"OidcConfigResponse?"})})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"accesstokenmap",children:"accessTokenMap"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Map<string, AccessToken>"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Cl\xe9"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["La cl\xe9 doit \xeatre construite avec ",(0,i.jsx)(n.code,{children:"scope"})," et ",(0,i.jsx)(n.code,{children:"resource"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Les valeurs dans ",(0,i.jsx)(n.code,{children:"scope"})," doivent \xeatre tri\xe9es par ordre alphab\xe9tique et jointes par un espace."]}),"\n",(0,i.jsxs)(n.li,{children:["La cl\xe9 doit \xeatre construite selon le mod\xe8le : ",(0,i.jsx)(n.code,{children:"${scope}@${resource}"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Si le ",(0,i.jsx)(n.code,{children:"scope"})," ou ",(0,i.jsx)(n.code,{children:"resource"})," est nul ou vide, leur valeur doit \xeatre trait\xe9e comme vide."]}),"\n"]}),(0,i.jsxs)(n.p,{children:["Par exemple, ",(0,i.jsx)(n.code,{children:'"offline_access openid read:usr@https://logto.dev/api"'}),", ",(0,i.jsx)(n.code,{children:'"@https://logto.dev/api"'}),", ",(0,i.jsx)(n.code,{children:'"openid@"'}),", ",(0,i.jsx)(n.code,{children:'"@"'}),"."]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Valeur"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"AccessToken"}),", qui utilise la propri\xe9t\xe9 ",(0,i.jsx)(n.code,{children:"expiresAt"})," pour indiquer l'heure exacte \xe0 laquelle un jeton d\u2019acc\xe8s expire."]}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remarques"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Le ",(0,i.jsx)(n.code,{children:"scope"})," sera toujours une valeur nulle car nous ne prenons pas en charge les port\xe9es personnalis\xe9es dans Logto V1."]}),"\n",(0,i.jsxs)(n.li,{children:["Lors de la cr\xe9ation de la cl\xe9 du jeton d\u2019acc\xe8s pour stocker un jeton d\u2019acc\xe8s :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"scope"})," sera toujours une valeur nulle."]}),"\n",(0,i.jsxs)(n.li,{children:["si le jeton d\u2019acc\xe8s n'est pas un jwt, traiter le ",(0,i.jsx)(n.code,{children:"resource"})," comme une valeur nulle."]}),"\n",(0,i.jsxs)(n.li,{children:["si le jeton d\u2019acc\xe8s est un jwt, d\xe9coder le jeton d\u2019acc\xe8s et utiliser la valeur de la revendication ",(0,i.jsx)(n.code,{children:"aud"})," de la charge utile comme partie ",(0,i.jsx)(n.code,{children:"resource"})," de la cl\xe9 du jeton d\u2019acc\xe8s."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"refreshtoken",children:"refreshToken"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string?"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remarques"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"refreshToken"})," sera d\xe9fini ou mis \xe0 jour dans les circonstances suivantes :"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Charger ",(0,i.jsx)(n.code,{children:"refreshToken"})," depuis le stockage."]}),"\n",(0,i.jsxs)(n.li,{children:["Le serveur renvoie un ",(0,i.jsx)(n.code,{children:"refreshToken"})," dans la r\xe9ponse lors de la r\xe9cup\xe9ration du jeton avec succ\xe8s."]}),"\n",(0,i.jsxs)(n.li,{children:["D\xe9connexion (sera d\xe9fini sur ",(0,i.jsx)(n.code,{children:"null"}),")."]}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"idtoken",children:"idToken"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string?"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remarques"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"idToken"})," doit \xeatre v\xe9rifi\xe9 s'il provient du backend."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"idToken"})," sera d\xe9fini ou mis \xe0 jour dans les circonstances suivantes :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Charger ",(0,i.jsx)(n.code,{children:"idToken"})," depuis le stockage."]}),"\n",(0,i.jsxs)(n.li,{children:["Le serveur renvoie un ",(0,i.jsx)(n.code,{children:"idToken"})," dans la r\xe9ponse lors de la r\xe9cup\xe9ration du jeton avec succ\xe8s."]}),"\n",(0,i.jsxs)(n.li,{children:["D\xe9connexion (sera d\xe9fini sur ",(0,i.jsx)(n.code,{children:"null"}),")."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsx)(n.h3,{id:"methods",children:"M\xe9thodes"}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"constructor",children:"constructor"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param\xe8tre"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"logtoConfig"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"LogtoConfig"})})]})})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"LogtoClient"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remarques"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Vous pouvez ajouter des param\xe8tres suppl\xe9mentaires si vous en avez besoin."}),"\n",(0,i.jsxs)(n.li,{children:["Si l'utilisation du stockage persistant est activ\xe9e dans logtoConfig, le SDK de la plateforme fournira les fonctionnalit\xe9s suivantes :","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Stocker des donn\xe9es persistantes avec une cl\xe9 unique bas\xe9e sur ",(0,i.jsx)(n.code,{children:"clientId"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Charger ",(0,i.jsx)(n.code,{children:"refreshToken"})," et ",(0,i.jsx)(n.code,{children:"idToken"})," depuis la machine locale lors de l'initialisation."]}),"\n",(0,i.jsxs)(n.li,{children:["Stocker ",(0,i.jsx)(n.code,{children:"refreshToken"})," et ",(0,i.jsx)(n.code,{children:"idToken"})," localement sur ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByAuthorizationCode"})," et ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"}),"."]}),"\n"]}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"isauthenticated",children:"isAuthenticated"})}),(0,i.jsxs)(n.p,{children:["Pour savoir si un utilisateur est authentifi\xe9 ou non.",(0,i.jsx)(n.br,{}),"\n","Cela peut \xe9galement \xeatre d\xe9fini comme un accesseur."]}),(0,i.jsx)(n.p,{children:"Un utilisateur est consid\xe9r\xe9 comme authentifi\xe9 lorsque :"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Nous avons obtenu un jeton d\u2019identifiant avec succ\xe8s."}),"\n",(0,i.jsx)(n.li,{children:"Nous avons charg\xe9 un jeton d\u2019identifiant depuis la machine locale."}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsx)(n.p,{children:"Aucun."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"boolean"})})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"signin",children:"SignIn"})}),(0,i.jsx)(n.p,{children:"Cette m\xe9thode doit d\xe9marrer un flux de connexion et le SDK de la plateforme doit prendre en charge toutes les \xe9tapes n\xe9cessaires \xe0 une autorisation pour se terminer, y compris le processus de redirection de connexion."}),(0,i.jsx)(n.p,{children:"L'utilisateur sera authentifi\xe9 apr\xe8s que cette m\xe9thode ait \xe9t\xe9 appel\xe9e avec succ\xe8s."}),(0,i.jsx)(n.p,{children:"Le processus de connexion s'appuiera sur les fonctions du SDK Core :"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"generateSignInUri"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"verifyAndParseCodeFromCallbackUri"})}),"\n",(0,i.jsx)(n.li,{children:(0,i.jsx)(n.code,{children:"fetchTokenByAuthorizationCode"})}),"\n"]}),(0,i.jsx)(n.p,{children:"Remarques :"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Parce que generateSignInUri inclut les ressources dont nous avons besoin, nous n'avons pas besoin de passer la ressource \xe0 la fonction fetchTokenByAuthorizationCode."}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param\xe8tre"}),(0,i.jsx)(n.th,{children:"Type"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"redirectUri"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})})]})})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exceptions"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Toute erreur survenant au cours de ce processus de connexion."}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"signout",children:"SignOut"})}),(0,i.jsx)(n.p,{children:"Le processus de d\xe9connexion doit suivre les \xe9tapes suivantes :"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Effacer le stockage local, les cookies, les donn\xe9es persistantes ou autre chose."}),"\n",(0,i.jsxs)(n.li,{children:["R\xe9voquer le jeton de rafra\xeechissement obtenu via ",(0,i.jsx)(n.code,{children:"Core.revoke"})," (le service Logto r\xe9voquera tous les jetons associ\xe9s si le jeton de rafra\xeechissement est r\xe9voqu\xe9)."]}),"\n",(0,i.jsx)(n.li,{children:"Rediriger l'utilisateur vers le point de terminaison de d\xe9connexion de Logto \xe0 moins que l'\xe9tape 1 ne supprime la session de la page de connexion."}),"\n"]}),(0,i.jsx)(n.p,{children:"Remarques :"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["\xc0 l'\xe9tape 2, ",(0,i.jsx)(n.code,{children:"Core.revoke"})," est un appel asynchrone et ne bloquera pas le processus de d\xe9connexion m\xeame s'il \xe9choue."]}),"\n",(0,i.jsxs)(n.li,{children:["L'\xe9tape 3 repose sur ",(0,i.jsx)(n.code,{children:"Core.generateSignOutUri"})," pour g\xe9n\xe9rer le point de terminaison de d\xe9connexion de Logto."]}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param\xe8tre"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Requis"}),(0,i.jsx)(n.th,{children:"Valeur par d\xe9faut"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"postLogoutRedirectUri"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})})]})})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"void"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exceptions"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Toute erreur survenant au cours de ce processus de d\xe9connexion."}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"getaccesstoken",children:"getAccessToken"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"getAccessToken"})," r\xe9cup\xe8re un ",(0,i.jsx)(n.code,{children:"AccessToken"})," par ",(0,i.jsx)(n.code,{children:"resource"})," et ",(0,i.jsx)(n.code,{children:"scope"})," depuis ",(0,i.jsx)(n.code,{children:"accessTokenMap"})," puis renvoie la valeur ",(0,i.jsx)(n.code,{children:"token"})," de cet ",(0,i.jsx)(n.code,{children:"AccessToken"}),"."]}),(0,i.jsxs)(n.p,{children:["Nous d\xe9finissons le ",(0,i.jsx)(n.code,{children:"scope"})," sur ",(0,i.jsx)(n.code,{children:"null"})," lors de la cr\xe9ation de la cl\xe9 de ",(0,i.jsx)(n.code,{children:"accessTokenMap"})," car nous ne prenons pas en charge les port\xe9es personnalis\xe9es dans Logto V1."]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Remarques"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Si un ",(0,i.jsx)(n.code,{children:"AccessToken"})," correspondant ne peut pas \xeatre trouv\xe9, effectuer une action ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," pour r\xe9cup\xe9rer le jeton n\xe9cessaire."]}),"\n",(0,i.jsxs)(n.li,{children:["Si le ",(0,i.jsx)(n.code,{children:"accessToken"})," n'est pas expir\xe9, alors renvoyer la valeur ",(0,i.jsx)(n.code,{children:"token"})," \xe0 l'int\xe9rieur."]}),"\n",(0,i.jsxs)(n.li,{children:["Si le ",(0,i.jsx)(n.code,{children:"accessToken"})," est expir\xe9, alors effectuer une action ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," pour r\xe9cup\xe9rer un nouveau ",(0,i.jsx)(n.code,{children:"accessToken"})," , mettre \xe0 jour le ",(0,i.jsx)(n.code,{children:"accessTokenMap"})," local et renvoyer la nouvelle valeur ",(0,i.jsx)(n.code,{children:"token"})," \xe0 l'int\xe9rieur."]}),"\n",(0,i.jsxs)(n.li,{children:["Si ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," \xe9choue, alors informer l'utilisateur de l'exception survenue."]}),"\n",(0,i.jsx)(n.li,{children:"Si le refreshToken ne peut pas \xeatre trouv\xe9, alors informer l'utilisateur d'une exception non autoris\xe9e."}),"\n",(0,i.jsxs)(n.li,{children:["Ce n'est qu'en obtenant un ",(0,i.jsx)(n.code,{children:"refreshToken"})," apr\xe8s la connexion que nous pouvons effectuer une action ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"}),"."]}),"\n"]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Param\xe8tre"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Requis"}),(0,i.jsx)(n.th,{children:"Valeur par d\xe9faut"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"resource"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"null"})})]})})]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exceptions"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"L'utilisateur n'est pas authentifi\xe9."}),"\n",(0,i.jsxs)(n.li,{children:["La ",(0,i.jsx)(n.code,{children:"resource"})," d'entr\xe9e n'est pas d\xe9finie dans le ",(0,i.jsx)(n.code,{children:"logtoConfig"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:["Aucun jeton de rafra\xeechissement trouv\xe9 avant ",(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"}),"."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Core.fetchTokenByRefreshToken"})," a \xe9chou\xe9."]}),"\n"]})]}),"\n",(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"getidtokenclaims",children:"getIdTokenClaims"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.code,{children:"getIdTokenClaims"})," renvoie un objet qui contient les revendications de la propri\xe9t\xe9 ",(0,i.jsx)(n.code,{children:"idToken"}),"."]}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Param\xe8tres"})}),(0,i.jsx)(n.p,{children:"Aucun."}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Type de retour"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"IdTokenClaims"})}),(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:"Exceptions"})}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"L'utilisateur n'est pas authentifi\xe9."}),"\n"]})]})]})}function a(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},79621:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>l});var r=s(58101);const i={},d=r.createContext(i);function c(e){const n=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(d.Provider,{value:n},e.children)}}}]);