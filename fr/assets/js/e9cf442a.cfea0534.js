"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[88289],{35767:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>c,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"authorization/organization-template/configure-organization-template","title":"Configurer le mod\xe8le d\'organisation","description":"Nous allons passer par le processus de configuration de la fonctionnalit\xe9 de mod\xe8le d\'organisation via Logto Console.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/authorization/organization-template/configure-organization-template.mdx","sourceDirName":"authorization/organization-template","slug":"/authorization/organization-template/configure-organization-template","permalink":"/fr/authorization/organization-template/configure-organization-template","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/authorization/organization-template/configure-organization-template.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Mod\xe8le d\'organisation","permalink":"/fr/authorization/organization-template/"},"next":{"title":"Prot\xe9ger les ressources de l\'organisation","permalink":"/fr/authorization/organization-template/protect-organization-resources"}}');var o=i(25105),r=i(79621);const t={sidebar_position:1},a="Configurer le mod\xe8le d'organisation",l={},d=[{value:"Configurer via Logto Console",id:"configure-via-logto-console",level:2},{value:"Cr\xe9er une permission d&#39;organisation",id:"create-organization-permission",level:3},{value:"Cr\xe9er un r\xf4le d&#39;organisation",id:"create-organization-role",level:3},{value:"Configurer via Logto Management API",id:"configure-via-logto-management-api",level:2},{value:"G\xe9rer le changement de permission des membres",id:"handle-member-permission-change",level:2},{value:"Aucune nouvelle permission introduite dans le syst\xe8me",id:"no-new-permissions-introduced-into-the-system",level:4},{value:"Une nouvelle permission est introduite dans le syst\xe8me et attribu\xe9e \xe0 un membre",id:"new-permission-is-introduced-into-the-system-and-assigned-to-a-member",level:4}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components},{CloudLink:i,Url:s}=n;return i||p("CloudLink",!0),s||p("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"configurer-le-mod\xe8le-dorganisation",children:"Configurer le mod\xe8le d'organisation"})}),"\n",(0,o.jsx)(n.p,{children:"Nous allons passer par le processus de configuration de la fonctionnalit\xe9 de mod\xe8le d'organisation via Logto Console."}),"\n",(0,o.jsxs)(n.p,{children:["Tout d'abord, acc\xe9dez \xe0 ",(0,o.jsx)(i,{to:"/organization-template",children:"Console > Mod\xe8le d'organisation"}),". Vous verrez que le mod\xe8le d'organisation comprend deux parties : ",(0,o.jsx)(n.a,{href:"/authorization/organization-template#organization-role",children:"R\xf4les d'organisation"})," et ",(0,o.jsx)(n.a,{href:"/authorization/organization-template#organization-permission",children:"Permissions d'organisation"}),". Un mod\xe8le d'organisation d\xe9finit des politiques de contr\xf4le d'acc\xe8s partag\xe9es (permissions et r\xf4les) pour plusieurs organisations."]}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-logto-console",children:"Configurer via Logto Console"}),"\n",(0,o.jsx)(n.h3,{id:"create-organization-permission",children:"Cr\xe9er une permission d'organisation"}),"\n",(0,o.jsx)(n.p,{children:"Les permissions d'organisation sont une partie cl\xe9 du mod\xe8le d'organisation. Ces permissions sont con\xe7ues sp\xe9cifiquement pour les organisations au sein de votre produit. Voici comment les g\xe9rer :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Trouver l'onglet des permissions d'organisation :"})," Allez \xe0 l'onglet \"Permissions d'organisation\" pour voir vos permissions existantes."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Ajouter, supprimer et modifier :"})," Vous pouvez facilement ajouter de nouvelles permissions d'organisation, supprimer celles dont vous n'avez pas besoin et modifier les permissions existantes selon vos besoins."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"create-organization-role",children:"Cr\xe9er un r\xf4le d'organisation"}),"\n",(0,o.jsx)(n.p,{children:"Logto prend en charge deux types de r\xf4les d'organisation, ce qui est similaire au RBAC au niveau utilisateur / syst\xe8me :"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Utilisateur"})," : R\xf4les attribu\xe9s aux utilisateurs."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Machine \xe0 machine"})," : R\xf4les attribu\xe9s aux ",(0,o.jsx)(n.a,{href:"/quick-starts/m2m",children:"applications machine \xe0 machine"}),"."]}),"\n"]}),"\n",(0,o.jsx)("br",{}),"\n",(0,o.jsx)(n.p,{children:"Logto vous permet de d\xe9finir des r\xf4les d'organisation de diff\xe9rentes mani\xe8res pour s'adapter \xe0 la structure de votre syst\xe8me :"}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option 1 : Permissions d'organisation uniquement pour les r\xf4les d'organisation"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Quand l'utiliser :"})," Vous avez des points de terminaison utilisateur / syst\xe8me s\xe9par\xe9s et des points de terminaison d'organisation."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explication :"})," C'est l'approche la plus simple si l'architecture technique et la conception de l'API de votre produit s\xe9parent clairement les ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control#permissionsscopes",children:"ressources au niveau utilisateur / syst\xe8me"})," des ",(0,o.jsx)(n.a,{href:"/authorization/organization-template#organization-permission",children:"ressources d'organisation"}),". Vos r\xf4les d'organisation n'incluront que les permissions que vous d\xe9finissez pour l'organisation."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option 2 : Permissions API uniquement pour les r\xf4les d'organisation"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Quand l'utiliser :"})," Le contr\xf4le d'acc\xe8s au niveau utilisateur / syst\xe8me et au niveau organisationnel est g\xe9r\xe9 par les m\xeames points de terminaison."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explication :"})," Choisissez cette option si vous souhaitez g\xe9rer toutes les permissions via des ",(0,o.jsx)(n.a,{href:"/authorization/api-resources",children:"ressources API"})," unifi\xe9es."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Option 3 : Permissions API et d'organisation mixtes dans les r\xf4les d'organisation"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Quand l'utiliser :"})," Vous avez des points de terminaison s\xe9par\xe9s d\xe9finis pour votre produit pour le niveau utilisateur / syst\xe8me et le niveau organisationnel, mais certains r\xf4les d'utilisateur n\xe9cessitent un m\xe9lange des deux ",(0,o.jsx)(n.a,{href:"/authorization/role-based-access-control#permissionsscopes",children:"permissions au niveau utilisateur"})," et ",(0,o.jsx)(n.a,{href:"/authorization/organization-template#organization-permission",children:"permissions au niveau organisationnel"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Explication :"})," Cela offre le plus de flexibilit\xe9, mais peut aussi \xeatre le plus complexe \xe0 g\xe9rer."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"configure-via-logto-management-api",children:"Configurer via Logto Management API"}),"\n",(0,o.jsxs)(n.p,{children:["Tout ce que vous pouvez faire dans Console peut \xe9galement \xeatre fait via ",(0,o.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api",children:"Management API"}),", y compris : G\xe9rer le mod\xe8le d'organisation pour cr\xe9er, supprimer ou modifier les permissions et r\xf4les d'organisation."]}),"\n",(0,o.jsx)(n.p,{children:"Pour une liste compl\xe8te des capacit\xe9s, veuillez vous r\xe9f\xe9rer \xe0 notre r\xe9f\xe9rence API :"}),"\n",(0,o.jsx)(s,{href:"https://openapi.logto.io/operation/operation-updateorganizationrole",children:(0,o.jsx)(n.p,{children:"Logto Management API - r\xf4le d'organisation"})}),"\n",(0,o.jsx)(s,{href:"https://openapi.logto.io/operation/operation-listorganizationscopes",children:(0,o.jsx)(n.p,{children:"Logto Management API - permission d'organisation"})}),"\n",(0,o.jsxs)(n.p,{children:["Avec Logto Management API, vous pouvez cr\xe9er des exp\xe9riences d'organisation personnalis\xe9es, comme permettre aux administrateurs d'organisation de s'auto-servir et de cr\xe9er des organisations. Consultez ",(0,o.jsx)(n.a,{href:"/end-user-flows/organization-experience/",children:"cette section"})," pour activer plus de fonctionnalit\xe9s et de gestion au niveau organisationnel."]}),"\n",(0,o.jsx)(n.h2,{id:"handle-member-permission-change",children:"G\xe9rer le changement de permission des membres"}),"\n",(0,o.jsx)(n.p,{children:"Similaire au RBAC API, les permissions des membres peuvent \xeatre modifi\xe9es pendant une session - par exemple, ils peuvent se voir attribuer de nouveaux r\xf4les ou voir les permissions de r\xf4le existantes modifi\xe9es."}),"\n",(0,o.jsx)(n.p,{children:"Que se passe-t-il lorsqu'un changement de permission de membre se produit ? Il y a deux cas."}),"\n",(0,o.jsx)(n.h4,{id:"no-new-permissions-introduced-into-the-system",children:"Aucune nouvelle permission introduite dans le syst\xe8me"}),"\n",(0,o.jsx)(n.p,{children:"Les jetons d'acc\xe8s d'organisation actuels (alias jeton d'organisation) resteront valides jusqu'\xe0 leur expiration, m\xeame apr\xe8s que les permissions d'organisation d'un utilisateur aient \xe9t\xe9 modifi\xe9es. Cependant, les nouvelles permissions seront refl\xe9t\xe9es dans les jetons d'organisation suivants, et toutes les permissions r\xe9voqu\xe9es seront omises."}),"\n",(0,o.jsx)(n.admonition,{type:"note",children:(0,o.jsx)(n.p,{children:"Les jetons d'organisation ont un temps d'expiration fixe qui ne peut pas \xeatre modifi\xe9, contrairement aux jetons d'acc\xe8s g\xe9n\xe9riques."})}),"\n",(0,o.jsxs)(n.p,{children:["Appelez p\xe9riodiquement les points de terminaison de ",(0,o.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/",children:"Logto Management API"})," ou \xe9tablissez une connexion de longue dur\xe9e (par exemple, en utilisant WebSocket) pour r\xe9cup\xe9rer dynamiquement les permissions d'organisation de l'utilisateur. Lors de la d\xe9tection de changements, effacez le jeton d'organisation existant et les nouveaux jetons \xe9mis refl\xe9teront automatiquement les changements de port\xe9e de permission d'organisation."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:'curl \\\n -X GET https://[tenant_id].logto.app/api/organizations/{id}/users/{userId}/scopes \\\n -H "Authorization: Bearer $ORGANIZATION_TOKEN"\n'})}),"\n",(0,o.jsxs)(n.p,{children:["Lorsqu'un changement de permission est d\xe9tect\xe9, effacez d'abord le jeton d'organisation du stockage, puis appelez la m\xe9thode SDK ",(0,o.jsx)(n.code,{children:"getOrganizationToken(organizationId)"})," pour en acqu\xe9rir un nouveau. Le nouveau jeton d'organisation \xe9mis devrait refl\xe9ter les changements de permission."]}),"\n",(0,o.jsx)(n.h4,{id:"new-permission-is-introduced-into-the-system-and-assigned-to-a-member",children:"Une nouvelle permission est introduite dans le syst\xe8me et attribu\xe9e \xe0 un membre"}),"\n",(0,o.jsx)(n.p,{children:"Cela se produit lorsque de nouvelles permissions sont introduites dans votre mod\xe8le d'organisation. Dans ce cas, vous devrez d'abord inclure les nouvelles port\xe9es de permission introduites lors de l'initialisation du client Logto. Par exemple :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"new LogtoClient({\n  appId: 'your-app-id',\n  redirectUrl: 'your-redirect-url',\n  scopes: [\n    'urn:logto:scope:organizations',\n    // ... vos autres port\xe9es de permission d'organisation existantes,\n    'new-organization-permission-scope',\n  ],\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:"Deuxi\xe8mement, chacune de vos applications clientes doit redemander le consentement ou reconnecter les utilisateurs afin de recevoir le changement de permission. Ensuite, la nouvelle port\xe9e de permission sera refl\xe9t\xe9e dans les nouveaux jetons d'organisation."}),"\n",(0,o.jsx)(n.p,{children:"Exemple de code pour redemander le consentement :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"signIn({ redirectUrl: 'your-redirect-url', prompt: 'consent' });\n"})})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>a});var s=i(58101);const o={},r=s.createContext(o);function t(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);