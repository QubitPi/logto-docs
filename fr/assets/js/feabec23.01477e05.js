"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5028],{22708:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>a,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>o});const i=JSON.parse('{"id":"user-management/user-data","title":"Structure des donn\xe9es utilisateur","description":"Les utilisateurs sont les entit\xe9s centrales dans le service d\'identit\xe9. Dans Logto, ils incluent des donn\xe9es d\'authentification de base bas\xe9es sur le protocole OpenID Connect, ainsi que des donn\xe9es personnalis\xe9es.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/user-management/user-data.mdx","sourceDirName":"user-management","slug":"/user-management/user-data","permalink":"/fr/user-management/user-data","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/user-management/user-data.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Gestion des utilisateurs","permalink":"/fr/user-management/"},"next":{"title":"G\xe9rer les utilisateurs","permalink":"/fr/user-management/manage-users"}}');var r=n(25105),t=n(79621);const l={sidebar_position:1},a="Structure des donn\xe9es utilisateur",d={},o=[{value:"Profil utilisateur",id:"user-profile",level:2},{value:"Donn\xe9es de base",id:"basic-data",level:2},{value:"id",id:"id",level:3},{value:"username",id:"username",level:3},{value:"primary_email",id:"primary_email",level:3},{value:"primary_phone",id:"primary_phone",level:3},{value:"name",id:"name",level:3},{value:"avatar",id:"avatar",level:3},{value:"profile",id:"profile",level:3},{value:"application_id",id:"application_id",level:3},{value:"last_signed_in_at",id:"last_signed_in_at",level:3},{value:"password_encrypted",id:"password_encrypted",level:3},{value:"password_encryption_method",id:"password_encryption_method",level:3},{value:"is_suspended",id:"is_suspended",level:3},{value:"R\xe9f\xe9rence des propri\xe9t\xe9s",id:"property-reference",level:2},{value:"Identit\xe9s sociales",id:"social-identities",level:2},{value:"Donn\xe9es personnalis\xe9es",id:"custom-data",level:2},{value:"Ressources associ\xe9es",id:"related-resources",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{CloudLink:n,Url:i}=s;return n||p("CloudLink",!0),i||p("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"structure-des-donn\xe9es-utilisateur",children:"Structure des donn\xe9es utilisateur"})}),"\n",(0,r.jsxs)(s.p,{children:["Les utilisateurs sont les entit\xe9s centrales dans le service d'identit\xe9. Dans Logto, ils incluent des donn\xe9es d'authentification de base bas\xe9es sur le protocole ",(0,r.jsx)(s.a,{href:"https://auth.wiki/openid-connect",children:"OpenID Connect"}),", ainsi que des donn\xe9es personnalis\xe9es."]}),"\n",(0,r.jsx)(s.h2,{id:"user-profile",children:"Profil utilisateur"}),"\n",(0,r.jsxs)(s.p,{children:["Chaque utilisateur a un profil contenant ",(0,r.jsx)(s.a,{href:"#property-reference",children:"toutes les informations utilisateur"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Il se compose des types de donn\xe9es suivants :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#basic-data",children:"Donn\xe9es de base"})," : il s'agit des informations de base du profil utilisateur. Il stocke toutes les autres propri\xe9t\xe9s de l'",(0,r.jsx)(s.em,{children:"utilisateur"})," sauf les ",(0,r.jsx)(s.code,{children:"identities"})," sociales et ",(0,r.jsx)(s.code,{children:"custom_data"}),", telles que l'identifiant utilisateur, le nom d'utilisateur, l'email, le num\xe9ro de t\xe9l\xe9phone, et la derni\xe8re connexion de l'utilisateur."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#social-identities",children:"Identit\xe9s sociales"})," : stocke les informations utilisateur r\xe9cup\xe9r\xe9es lors de la connexion sociale (c'est-\xe0-dire la connexion avec un connecteur social), telles que Facebook, GitHub et WeChat."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#custom-data",children:"Donn\xe9es personnalis\xe9es"})," : stocke des informations utilisateur suppl\xe9mentaires non r\xe9pertori\xe9es dans les propri\xe9t\xe9s utilisateur pr\xe9d\xe9finies, telles que la couleur et la langue pr\xe9f\xe9r\xe9es de l'utilisateur."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Voici un exemple de donn\xe9es utilisateur r\xe9cup\xe9r\xe9es lors d'une connexion \xe0 Facebook :"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "id": "iHXPuSb9eMzt",\n  "username": null,\n  "primaryEmail": null,\n  "primaryPhone": null,\n  "name": "John Doe",\n  "avatar": "https://example.com/avatar.png",\n  "customData": {\n    "preferences": {\n      "language": "en",\n      "color": "#f236c9"\n    }\n  },\n  "identities": {\n    "facebook": {\n      "userId": "106077000000000",\n      "details": {\n        "id": "106077000000000",\n        "name": "John Doe",\n        "email": "johndoe@logto.io",\n        "avatar": "https://example.com/avatar.png"\n      }\n    }\n  },\n  "lastSignInAt": 1655799453171,\n  "applicationId": "admin_console"\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez interroger le profil utilisateur en utilisant ",(0,r.jsx)(n,{to:"/users",children:"Logto Console"})," ou Logto Management API, tel que ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:(0,r.jsx)(s.code,{children:"GET /api/users/:userId"})}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"basic-data",children:"Donn\xe9es de base"}),"\n",(0,r.jsxs)(s.p,{children:["Passons en revue toutes les propri\xe9t\xe9s des ",(0,r.jsx)(s.em,{children:"donn\xe9es de base"})," de l'utilisateur."]}),"\n",(0,r.jsx)(s.h3,{id:"id",children:"id"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"id"})," est une cl\xe9 unique g\xe9n\xe9r\xe9e automatiquement pour identifier l'utilisateur dans Logto."]}),"\n",(0,r.jsx)(s.h3,{id:"username",children:"username"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"username"})," est utilis\xe9 pour la connexion avec ",(0,r.jsx)(s.em,{children:"username"})," et mot de passe."]}),"\n",(0,r.jsxs)(s.p,{children:["Sa valeur provient du nom d'utilisateur avec lequel l'utilisateur s'est inscrit pour la premi\xe8re fois. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),". Sa valeur non nulle ne doit pas d\xe9passer 128 caract\xe8res, ne contenir que des lettres, des chiffres et des underscores (",(0,r.jsx)(s.code,{children:"_"}),"), et NE PAS commencer par un chiffre. Elle est sensible \xe0 la casse."]}),"\n",(0,r.jsx)(s.h3,{id:"primary_email",children:"primary_email"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"primary_email"})," est l'adresse email de l'utilisateur, utilis\xe9e pour la connexion avec l'email et le mot de passe / code de v\xe9rification."]}),"\n",(0,r.jsxs)(s.p,{children:["Sa valeur provient g\xe9n\xe9ralement de l'adresse email avec laquelle l'utilisateur s'est inscrit pour la premi\xe8re fois. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),". Sa longueur maximale est de 128."]}),"\n",(0,r.jsx)(s.h3,{id:"primary_phone",children:"primary_phone"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"primary_phone"})," est le num\xe9ro de t\xe9l\xe9phone de l'utilisateur, utilis\xe9 pour la connexion avec le num\xe9ro de t\xe9l\xe9phone et le mot de passe / code de v\xe9rification par SMS."]}),"\n",(0,r.jsxs)(s.p,{children:["Sa valeur provient g\xe9n\xe9ralement du num\xe9ro de t\xe9l\xe9phone avec lequel l'utilisateur s'est inscrit pour la premi\xe8re fois. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),". Sa valeur non nulle doit contenir des chiffres pr\xe9c\xe9d\xe9s de l'",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/List_of_country_calling_codes",children:"indicatif t\xe9l\xe9phonique du pays"})," (\xe0 l'exclusion du signe plus ",(0,r.jsx)(s.code,{children:"+"}),")."]}),"\n",(0,r.jsx)(s.h3,{id:"name",children:"name"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"name"})," est le nom complet de l'utilisateur. Sa longueur maximale est de 128."]}),"\n",(0,r.jsx)(s.h3,{id:"avatar",children:"avatar"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"avatar"})," est l'URL pointant vers l'image de l'avatar de l'utilisateur. Sa longueur maximale est de 2048."]}),"\n",(0,r.jsx)(s.p,{children:"Si l'utilisateur s'inscrit avec un connecteur social comme Google et Facebook, sa valeur peut \xeatre r\xe9cup\xe9r\xe9e \xe0 partir des informations utilisateur sociales."}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Cette propri\xe9t\xe9 est mapp\xe9e \xe0 la revendication ",(0,r.jsx)(s.code,{children:"picture"})," dans la norme ",(0,r.jsx)(s.a,{href:"https://openid.net/connect/",children:"OpenID Connect"}),"."]})}),"\n",(0,r.jsx)(s.h3,{id:"profile",children:"profile"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"profile"})," stocke des revendications standard OpenID Connect ",(0,r.jsx)(s.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"standard claims"})," qui ne sont pas incluses dans les propri\xe9t\xe9s de l'utilisateur."]}),"\n",(0,r.jsxs)(s.p,{children:["Sa d\xe9finition de type peut \xeatre trouv\xe9e dans ",(0,r.jsx)(s.a,{href:"https://github.com/logto-io/logto/blob/HEAD/packages/schemas/src/foundations/jsonb-types/users.ts#L6",children:"ce fichier"}),". Voici une copie de la d\xe9finition de type :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:"type UserProfile = Partial<{\n  familyName: string;\n  givenName: string;\n  middleName: string;\n  nickname: string;\n  preferredUsername: string;\n  profile: string;\n  website: string;\n  gender: string;\n  birthdate: string;\n  zoneinfo: string;\n  locale: string;\n  address: Partial<{\n    formatted: string;\n    streetAddress: string;\n    locality: string;\n    region: string;\n    postalCode: string;\n    country: string;\n  }>;\n}>;\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Partial"})," signifie que toutes les propri\xe9t\xe9s sont facultatives."]})}),"\n",(0,r.jsxs)(s.p,{children:["Une diff\xe9rence par rapport aux autres revendications standard est que les propri\xe9t\xe9s dans ",(0,r.jsx)(s.code,{children:"profile"})," ne seront incluses dans le ",(0,r.jsx)(s.a,{href:"https://auth.wiki/id-token",children:"Jeton d\u2019identifiant (ID token)"})," ou la r\xe9ponse de l'endpoint userinfo que lorsque leurs valeurs ne sont pas vides, tandis que les autres revendications standard retourneront ",(0,r.jsx)(s.code,{children:"null"})," si les valeurs sont vides."]}),"\n",(0,r.jsx)(s.h3,{id:"application_id",children:"application_id"}),"\n",(0,r.jsxs)(s.p,{children:["La valeur de ",(0,r.jsx)(s.em,{children:"application_id"})," provient de l'application \xe0 laquelle l'utilisateur s'est inscrit pour la premi\xe8re fois. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"last_signed_in_at",children:"last_signed_in_at"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"last_signed_in_at"})," est le timestamp avec le fuseau horaire lorsque l'utilisateur s'est connect\xe9 pour la derni\xe8re fois."]}),"\n",(0,r.jsx)(s.h3,{id:"password_encrypted",children:"password_encrypted"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"password_encrypted"})," est utilis\xe9 pour stocker le mot de passe crypt\xe9 de l'utilisateur."]}),"\n",(0,r.jsxs)(s.p,{children:["Sa valeur provient du mot de passe avec lequel l'utilisateur s'est inscrit pour la premi\xe8re fois. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),". Si sa valeur est non nulle, son contenu original avant le cryptage doit comporter au moins six caract\xe8res."]}),"\n",(0,r.jsx)(s.h3,{id:"password_encryption_method",children:"password_encryption_method"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"password_encryption_method"})," est utilis\xe9 pour crypter le mot de passe de l'utilisateur. Sa valeur est initialis\xe9e lorsque l'utilisateur s'inscrit avec le nom d'utilisateur et le mot de passe. Elle peut \xeatre ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Logto utilise l'impl\xe9mentation ",(0,r.jsx)(s.a,{href:"https://github.com/ranisalt/node-argon2",children:"node-argon2"})," d'",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Argon2",children:"Argon2"})," comme m\xe9thode de cryptage par d\xe9faut ; consultez la r\xe9f\xe9rence pour plus de d\xe9tails si vous \xeates int\xe9ress\xe9."]}),"\n",(0,r.jsxs)(s.p,{children:["Exemple d'un ",(0,r.jsx)(s.em,{children:"password_encrypted"})," et ",(0,r.jsx)(s.em,{children:"password_encryption_method"})," d'un utilisateur dont le mot de passe est ",(0,r.jsx)(s.code,{children:"123456"})," :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "password_encryption_method": "Argon2i",\n  "password_encrypted": "$argon2i$v=19$m=4096,t=10,p=1$aZzrqpSX45DOo+9uEW6XVw$O4MdirF0mtuWWWz68eyNAt2u1FzzV3m3g00oIxmEr0U"\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"is_suspended",children:"is_suspended"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"is_suspended"})," est une valeur bool\xe9enne qui indique si un utilisateur est suspendu ou non. La valeur peut \xeatre g\xe9r\xe9e en appelant le ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-updateuserissuspended",children:"Logto Management API"})," ou en utilisant Logto Console."]}),"\n",(0,r.jsx)(s.p,{children:"Une fois qu'un utilisateur est suspendu, les jetons de rafra\xeechissement pr\xe9alablement accord\xe9s seront imm\xe9diatement r\xe9voqu\xe9s et l'utilisateur ne pourra plus \xeatre authentifi\xe9 par Logto."}),"\n",(0,r.jsx)(s.h2,{id:"property-reference",children:"R\xe9f\xe9rence des propri\xe9t\xe9s"}),"\n",(0,r.jsxs)(s.p,{children:["Les propri\xe9t\xe9s suivantes (sauf ",(0,r.jsx)(s.em,{children:"password_encrypted"})," et ",(0,r.jsx)(s.em,{children:"password_encryption_method"}),") sont visibles sur le profil utilisateur, ce qui signifie que vous pouvez les interroger en utilisant ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:"Management API"}),"."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Nom"}),(0,r.jsx)(s.th,{children:"Type"}),(0,r.jsx)(s.th,{children:"Description"}),(0,r.jsx)(s.th,{children:"Unique"}),(0,r.jsx)(s.th,{children:"Requis"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#id",children:"id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Identifiant unique"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#username",children:"username"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Nom d'utilisateur pour la connexion"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#primary_email",children:"primary_email"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Email principal"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#primary_phone",children:"primary_phone"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Num\xe9ro de t\xe9l\xe9phone principal"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#name",children:"name"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Nom complet"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#avatar",children:"avatar"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"URL pointant vers l'image de l'avatar"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#social-identities",children:"identities"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"Infos utilisateur r\xe9cup\xe9r\xe9es lors de la connexion sociale"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#custom-data",children:"custom_data"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"Infos suppl\xe9mentaires dans des propri\xe9t\xe9s personnalisables"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#application_id",children:"application_id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"ID de l'application \xe0 laquelle l'utilisateur s'est inscrit"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#last_signed_in_at",children:"last_sign_in_at"})}),(0,r.jsx)(s.td,{children:"date time"}),(0,r.jsx)(s.td,{children:"Timestamp de la derni\xe8re connexion"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#password_encrypted",children:"password_encrypted"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Mot de passe crypt\xe9"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#password_encryption_method",children:"password_encryption_method"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"M\xe9thode de cryptage du mot de passe"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#is_suspended",children:"is_suspended"})}),(0,r.jsx)(s.td,{children:"bool"}),(0,r.jsx)(s.td,{children:"Marque de suspension de l'utilisateur"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]})]})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Unique"})," : Assure l'",(0,r.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS",children:"unicit\xe9"})," des valeurs saisies dans une propri\xe9t\xe9 d'une table de base de donn\xe9es."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Requis"})," : Assure que les valeurs saisies dans une propri\xe9t\xe9 d'une table de base de donn\xe9es ne peuvent PAS \xeatre ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"social-identities",children:"Identit\xe9s sociales"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"identities"})," contient les informations utilisateur r\xe9cup\xe9r\xe9es lors de la ",(0,r.jsx)(s.a,{href:"/end-user-flows/sign-up-and-sign-in/social-sign-in",children:"connexion sociale"})," (c'est-\xe0-dire la connexion avec un ",(0,r.jsx)(s.a,{href:"/connectors/social-connectors",children:"connecteur social"}),"). Chaque ",(0,r.jsx)(s.em,{children:"identities"})," d'utilisateur est stock\xe9 dans un objet JSON individuel."]}),"\n",(0,r.jsx)(s.p,{children:"Les informations utilisateur varient selon le fournisseur d'identit\xe9 sociale (c'est-\xe0-dire la plateforme de r\xe9seau social), et elles incluent g\xe9n\xe9ralement les \xe9l\xe9ments suivants :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"target"}),' du fournisseur d\'identit\xe9, tel que "facebook" ou "google"']}),"\n",(0,r.jsx)(s.li,{children:"Identifiant unique de l'utilisateur pour ce fournisseur"}),"\n",(0,r.jsx)(s.li,{children:"Nom de l'utilisateur"}),"\n",(0,r.jsx)(s.li,{children:"Email v\xe9rifi\xe9 de l'utilisateur"}),"\n",(0,r.jsx)(s.li,{children:"Avatar de l'utilisateur"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Le compte de l'utilisateur peut \xeatre li\xe9 \xe0 plusieurs fournisseurs d'identit\xe9 sociale via la connexion sociale ; les informations utilisateur correspondantes r\xe9cup\xe9r\xe9es aupr\xe8s de ces fournisseurs seront stock\xe9es dans l'objet ",(0,r.jsx)(s.em,{children:"identities"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Exemple d'",(0,r.jsx)(s.em,{children:"identities"})," d'un utilisateur qui s'est connect\xe9 \xe0 la fois avec Google et Facebook :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "facebook": {\n    "userId": "5110888888888888",\n    "details": {\n      "id": "5110888888888888",\n      "name": "John Doe",\n      "email": "johndoe@logto.io",\n      "avatar": "https://example.com/avatar.png"\n    }\n  },\n  "google": {\n    "userId": "111000000000000000000",\n    "details": {\n      "id": "111000000000000000000",\n      "name": "John Doe",\n      "email": "johndoe@gmail.com",\n      "avatar": "https://example.com/avatar.png"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"custom-data",children:"Donn\xe9es personnalis\xe9es"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"custom_data"})," stocke des informations utilisateur suppl\xe9mentaires non r\xe9pertori\xe9es dans les propri\xe9t\xe9s utilisateur pr\xe9d\xe9finies."]}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez utiliser ",(0,r.jsx)(s.em,{children:"custom_data"})," pour faire les choses suivantes :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Enregistrer si des actions sp\xe9cifiques ont \xe9t\xe9 effectu\xe9es par l'utilisateur, comme avoir vu la page d'accueil."}),"\n",(0,r.jsx)(s.li,{children:"Stocker des donn\xe9es sp\xe9cifiques \xe0 l'application dans le profil utilisateur, telles que la langue et l'apparence pr\xe9f\xe9r\xe9es de l'utilisateur par application."}),"\n",(0,r.jsx)(s.li,{children:"Maintenir d'autres donn\xe9es arbitraires li\xe9es \xe0 l'utilisateur."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Exemple de ",(0,r.jsx)(s.em,{children:"custom_data"})," d'un utilisateur administrateur dans Logto :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "adminConsolePreferences": {\n    "language": "en",\n    "appearanceMode": "system",\n    "experienceNoticeConfirmed": true\n  },\n  "customDataFoo": {\n    "foo": "foo"\n  },\n  "customDataBar": {\n    "bar": "bar"\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Chaque ",(0,r.jsx)(s.em,{children:"custom_data"})," d'utilisateur est stock\xe9 dans un objet JSON individuel."]}),"\n",(0,r.jsxs)(s.p,{children:["Note : NE PAS mettre de donn\xe9es sensibles dans ",(0,r.jsx)(s.em,{children:"custom_data"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez r\xe9cup\xe9rer un profil utilisateur contenant ",(0,r.jsx)(s.em,{children:"custom_data"})," en utilisant ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-listusercustomdata",children:"Management API"})," et l'envoyer aux applications frontend ou aux services backend externes. Par cons\xe9quent, mettre des informations sensibles dans ",(0,r.jsx)(s.em,{children:"custom_data"})," peut entra\xeener des fuites de donn\xe9es."]}),"\n",(0,r.jsxs)(s.p,{children:["Si vous souhaitez toujours mettre des informations sensibles dans ",(0,r.jsx)(s.em,{children:"custom_data"}),", nous vous recommandons de les crypter d'abord. Cryptez/d\xe9cryptez-les uniquement dans une partie de confiance comme vos services backend, et \xe9vitez de le faire dans les applications frontend. Cela minimisera les pertes si les ",(0,r.jsx)(s.em,{children:"custom_data"})," de vos utilisateurs sont divulgu\xe9es par erreur."]}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez mettre \xe0 jour le ",(0,r.jsx)(s.em,{children:"custom_data"})," de l'utilisateur en utilisant ",(0,r.jsx)(s.a,{href:"/user-management/manage-users/#view-and-update-the-user-profile",children:"Logto Console"})," ou ",(0,r.jsx)(s.a,{href:"/user-management/manage-users/#manage-via-logto-management-api",children:"Logto Management API"}),", tel que ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:(0,r.jsx)(s.code,{children:"PATCH /api/users/:userId"})}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Mettez \xe0 jour avec pr\xe9caution"}),"\n",(0,r.jsxs)(s.p,{children:["La mise \xe0 jour du ",(0,r.jsx)(s.em,{children:"custom_data"})," d'un utilisateur \xe9crasera compl\xe8tement son contenu original dans le stockage."]}),"\n",(0,r.jsxs)(s.p,{children:["Par exemple, si votre entr\xe9e lors de l'appel de l'API de mise \xe0 jour ",(0,r.jsx)(s.em,{children:"custom_data"})," ressemble \xe0 ceci (supposons que le ",(0,r.jsx)(s.em,{children:"custom_data"})," original soit l'exemple de donn\xe9es montr\xe9 pr\xe9c\xe9demment) :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["alors la nouvelle valeur de ",(0,r.jsx)(s.em,{children:"custom_data"})," apr\xe8s la mise \xe0 jour devrait \xeatre :"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"C'est-\xe0-dire que la valeur du champ mis \xe0 jour n'a rien \xe0 voir avec la valeur pr\xe9c\xe9dente."}),"\n",(0,r.jsx)(s.h2,{id:"related-resources",children:"Ressources associ\xe9es"}),"\n",(0,r.jsx)(i,{href:"https://blog.logto.io/secure-hub-for-user-data/",children:(0,r.jsx)(s.p,{children:"Hub s\xe9curis\xe9 pour les donn\xe9es utilisateur en mouvement"})})]})}function u(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}function p(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var i=n(58101);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);