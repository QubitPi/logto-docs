"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[896],{98277:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>u,contentTitle:()=>c,default:()=>x,frontMatter:()=>d,metadata:()=>i,toc:()=>p});const i=JSON.parse('{"id":"authorization/role-based-access-control","title":"Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC) (Role-based access control)","description":"Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC) est un mod\xe8le d\'autorisation \xe9prouv\xe9 qui associe les actions m\xe9tier r\xe9elles \xe0 des r\xf4les et des permissions. Ce guide explique comment le RBAC fonctionne dans Logto, pr\xe9sente des mod\xe8les de conception pratiques et les meilleures pratiques pour construire des applications SaaS s\xe9curis\xe9es et \xe9volutives.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","sourceDirName":"authorization","slug":"/authorization/role-based-access-control","permalink":"/fr/authorization/role-based-access-control","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Autorisation (Authorization)","permalink":"/fr/authorization/"},"next":{"title":"Mod\xe8le d\u2019organisation","permalink":"/fr/authorization/organization-template"}}');var r=n(25105),o=n(79621),l=n(46643),t=n(1242),a=n(93855);const d={sidebar_position:1},c="Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC) (Role-based access control)",u={},p=[{value:"Qu\u2019est-ce que le RBAC ?",id:"what-is-rbac",level:2},{value:"Ressources API",id:"api-resources",level:3},{value:"Comportement de la ressource API par d\xe9faut",id:"default-api-resource-behavior",level:4},{value:"RBAC dans Logto",id:"rbac-in-logto",level:2},{value:"Mod\xe8le 1 : Ressources API globales",id:"model-1-global-api-resources",level:3},{value:"Mod\xe8le 2 : Permissions d\u2019organisation (hors API)",id:"model-2-organization-non-api-permissions",level:3},{value:"Mod\xe8le 3 : Ressources API au niveau organisation",id:"model-3-organization-level-api-resources",level:3},{value:"Concevoir et impl\xe9menter un mod\xe8le de permissions",id:"design-and-implement-a-permission-model",level:2},{value:"D\xe9finir des ressources API avec permissions",id:"define-api-resources-with-permissions",level:3},{value:"Enregistrer des ressources API avec permissions dans la Console Logto",id:"register-api-resources-with-permissions-in-logto-console",level:4},{value:"Conseils",id:"tips",level:4},{value:"D\xe9finir des permissions d\u2019organisation",id:"define-organization-permissions",level:3},{value:"Enregistrer des permissions d\u2019organisation dans la Console Logto",id:"register-organization-permissions-in-logto-console",level:4},{value:"Conseils",id:"tips",level:4},{value:"Configurer des r\xf4les globaux",id:"configure-global-roles",level:3},{value:"Cr\xe9er des r\xf4les globaux dans la Console Logto",id:"create-global-roles-in-logto-console",level:4},{value:"Attribuer des utilisateurs ou applications M2M \xe0 des r\xf4les globaux",id:"assign-users-or-m2m-apps-to-global-roles",level:4},{value:"R\xf4les globaux par d\xe9faut",id:"default-global-roles",level:4},{value:"Configurer des r\xf4les d\u2019organisation",id:"configure-organization-roles",level:3},{value:"Cr\xe9er des r\xf4les d\u2019organisation dans la Console Logto",id:"create-organization-roles-in-logto-console",level:4},{value:"Attribuer des utilisateurs ou applications M2M \xe0 des r\xf4les d\u2019organisation",id:"assign-users-or-m2m-apps-to-organization-roles",level:4},{value:"Approvisionnement Just-in-Time (JIT)",id:"just-in-time-jit-provisioning",level:4},{value:"Appliquer l\u2019autorisation dans votre backend ou API",id:"enforcing-authorization-in-your-backend-or-api",level:3},{value:"Int\xe9grer le RBAC Logto \xe0 votre application",id:"integrate-logto-rbac-with-your-application",level:3},{value:"Sc\xe9narios avanc\xe9s",id:"advanced-scenarios",level:2},{value:"Bonnes pratiques &amp; pi\xe8ges courants",id:"best-practices-common-pitfalls",level:2},{value:"FAQ",id:"faqs",level:2},{value:"Comment mettre \xe0 jour les r\xf4les ou permissions dans toutes les organisations ?",id:"how-do-i-update-roles-or-permissions-across-all-organizations",level:3},{value:"Puis-je modifier dynamiquement les r\xf4les / permissions ?",id:"can-i-change-roles-permissions-dynamically",level:3},{value:"Que se passe-t-il si je retire une permission d\u2019un r\xf4le ?",id:"what-happens-if-i-remove-a-permission-from-a-role",level:3},{value:"Comment auditer qui a quel r\xf4le ?",id:"how-can-i-audit-who-has-what-role",level:3},{value:"Les r\xf4les et permissions peuvent-ils \xeatre attribu\xe9s via l\u2019API ?",id:"can-roles-and-permissions-be-assigned-via-api",level:3},{value:"Pour aller plus loin",id:"further-reading",level:2}];function h(e){const s={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{CloudLink:n,Details:i,Url:d}=s;return n||j("CloudLink",!0),i||j("Details",!0),d||j("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"contr\xf4le-dacc\xe8s-bas\xe9-sur-les-r\xf4les-rbac-role-based-access-control",children:"Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC) (Role-based access control)"})}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.a,{href:"https://auth.wiki/rbac",children:"Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC)"})," est un mod\xe8le d'autorisation \xe9prouv\xe9 qui associe les actions m\xe9tier r\xe9elles \xe0 des r\xf4les et des permissions. Ce guide explique comment le RBAC fonctionne dans Logto, pr\xe9sente des mod\xe8les de conception pratiques et les meilleures pratiques pour construire des applications SaaS s\xe9curis\xe9es et \xe9volutives."]}),"\n",(0,r.jsx)(s.h2,{id:"what-is-rbac",children:"Qu\u2019est-ce que le RBAC ?"}),"\n",(0,r.jsxs)(s.p,{children:["Le RBAC vous permet de g\xe9rer ",(0,r.jsx)(s.strong,{children:"qui"})," peut faire ",(0,r.jsx)(s.strong,{children:"quoi"})," dans votre application en regroupant les permissions dans des r\xf4les. Les utilisateurs et clients se voient attribuer un ou plusieurs r\xf4les, qui leur accordent les permissions n\xe9cessaires pour acc\xe9der \xe0 des fonctionnalit\xe9s, des API ou des donn\xe9es."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Concepts cl\xe9s"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4le (Role)"})," : Un ensemble nomm\xe9 de permissions (par exemple, ",(0,r.jsx)(s.code,{children:"admin"}),", ",(0,r.jsx)(s.code,{children:"viewer"}),", ",(0,r.jsx)(s.code,{children:"billing-manager"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Permission (Permission)"})," : Une action ou un droit (par exemple, ",(0,r.jsx)(s.code,{children:"manage:members"}),", ",(0,r.jsx)(s.code,{children:"view:analytics"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Port\xe9e (Scope)"})," : Synonyme de permission, couramment utilis\xe9 dans les contextes OAuth 2.0."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Ressource API (API resource)"})," : Une API, un endpoint ou un service auquel s\u2019appliquent les permissions."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Utilisateur / Client (User/Client)"})," : L\u2019entit\xe9 \xe0 laquelle sont attribu\xe9s les r\xf4les (utilisateurs finaux ou applications machine \xe0 machine (M2M))."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Dans Logto (et OAuth 2.1), ",(0,r.jsx)(s.strong,{children:"\xab permissions \xbb et \xab port\xe9es \xbb (scopes) d\xe9signent le m\xeame concept"})," et sont utilis\xe9es de mani\xe8re interchangeable dans cette documentation."]})}),"\n",(0,r.jsx)(s.h3,{id:"api-resources",children:"Ressources API"}),"\n",(0,r.jsxs)(s.p,{children:["Une ",(0,r.jsx)(s.strong,{children:"ressource API (API resource)"})," est tout endpoint ou service prot\xe9g\xe9 dans votre application \u2014 tel qu\u2019une API REST, un endpoint GraphQL ou tout autre service backend n\xe9cessitant une autorisation."]}),"\n",(0,r.jsxs)(s.p,{children:["Logto mod\xe9lise les ressources API selon ",(0,r.jsx)(s.a,{href:"https://www.rfc-editor.org/rfc/rfc8707",children:"RFC 8707 : Indicateurs de ressource pour OAuth 2.0"}),".",(0,r.jsx)(s.br,{}),"\n","Chaque ressource API est identifi\xe9e de mani\xe8re unique par un ",(0,r.jsx)(s.strong,{children:"indicateur de ressource"})," (un URI), utilis\xe9 pour d\xe9limiter les jetons d\u2019acc\xe8s et appliquer les restrictions d\u2019audience."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Nom de propri\xe9t\xe9"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Description"})}),(0,r.jsx)(s.th,{children:(0,r.jsx)(s.strong,{children:"Obligatoire"})})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Nom de l\u2019API"}),(0,r.jsx)(s.td,{children:"Un nom convivial pour identifier la ressource API dans la Console et les journaux."}),(0,r.jsx)(s.td,{children:"Oui"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Identifiant de l\u2019API"}),(0,r.jsxs)(s.td,{children:["L\u2019URI unique ",(0,r.jsx)(s.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"indicateur de ressource"})," repr\xe9sentant la ressource API."]}),(0,r.jsx)(s.td,{children:"Oui"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Dur\xe9e d\u2019expiration du jeton"}),(0,r.jsxs)(s.td,{children:["La dur\xe9e de vie des jetons d\u2019acc\xe8s \xe9mis pour cette API (en secondes). Par d\xe9faut ",(0,r.jsx)(s.strong,{children:"3600"})," (1 heure)."]}),(0,r.jsx)(s.td,{children:"Non"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"API par d\xe9faut"}),(0,r.jsxs)(s.td,{children:["Une seule ressource API peut \xeatre d\xe9finie comme API par d\xe9faut par tenant Logto. Lorsqu\u2019elle est d\xe9finie, le param\xe8tre ",(0,r.jsx)(s.code,{children:"resource"})," peut \xeatre omis dans les requ\xeates d\u2019authentification."]}),(0,r.jsx)(s.td,{children:"Non"})]})]})]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Lorsqu\u2019une ressource API par d\xe9faut est d\xe9sign\xe9e, Logto l\u2019utilisera comme audience pour les jetons lorsque le param\xe8tre ",(0,r.jsx)(s.code,{children:"resource"})," est omis dans les requ\xeates d\u2019authentification."]})}),"\n",(0,r.jsx)(s.h4,{id:"default-api-resource-behavior",children:"Comportement de la ressource API par d\xe9faut"}),"\n",(0,r.jsx)(s.p,{children:"Dans Logto, chaque permission (port\xe9e) globale d\xe9finie par l\u2019utilisateur doit \xeatre li\xe9e \xe0 une ressource API. Sinon, la permission est trait\xe9e comme une port\xe9e OpenID Connect (OIDC)."}),"\n",(0,r.jsxs)(s.p,{children:["Cela n\u2019affecte g\xe9n\xe9ralement pas la plupart des int\xe9grations, mais lors de l\u2019utilisation d\u2019applications tierces qui ",(0,r.jsx)(s.strong,{children:"ne"})," prennent pas en charge ",(0,r.jsx)(s.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707"}),", la requ\xeate d\u2019autorisation initiale peut ne pas inclure de param\xe8tre ",(0,r.jsx)(s.code,{children:"resource"}),". Dans ces cas, Logto \xe9met des ",(0,r.jsx)(s.a,{href:"https://blog.logto.io/opaque-token-vs-jwt#use-cases-in-oidc",children:"jetons d\u2019acc\xe8s opaques (opaque access tokens)"})," au lieu de JWT, ce qui peut compliquer le contr\xf4le d\u2019acc\xe8s."]}),"\n",(0,r.jsxs)(s.p,{children:["Pour r\xe9soudre ce probl\xe8me, vous pouvez d\xe9finir une ",(0,r.jsx)(s.strong,{children:"ressource API par d\xe9faut"})," pour votre tenant :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Lorsque le param\xe8tre ",(0,r.jsx)(s.code,{children:"resource"})," est absent dans la ",(0,r.jsx)(s.a,{href:"https://auth.wiki/authentication-request",children:"requ\xeate d\u2019authentification (Authentication request)"})," :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Logto utilise la ressource API par d\xe9faut comme audience pour les jetons d\u2019acc\xe8s."}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Si la port\xe9e ",(0,r.jsx)(s.code,{children:"openid"})," est incluse :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Logto \xe9met un jeton d\u2019acc\xe8s opaque pour l\u2019",(0,r.jsx)(s.a,{href:"https://auth.wiki/userinfo-endpoint",children:"endpoint Userinfo"})," lorsqu\u2019aucune ",(0,r.jsx)(s.code,{children:"resource"})," n\u2019est pr\xe9sente dans la requ\xeate de jeton."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsxs)(s.strong,{children:["Si la port\xe9e ",(0,r.jsx)(s.code,{children:"openid"})," n\u2019est pas incluse :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Logto \xe9met un jeton d\u2019acc\xe8s JWT pour la ressource API par d\xe9faut comme audience."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"D\xe9finir une ressource API par d\xe9faut garantit une int\xe9gration plus fluide avec les applications qui ne prennent pas en charge RFC 8707, tout en maintenant un contr\xf4le d\u2019acc\xe8s s\xe9curis\xe9 et conforme aux standards."}),"\n",(0,r.jsx)(s.h2,{id:"rbac-in-logto",children:"RBAC dans Logto"}),"\n",(0,r.jsxs)(s.p,{children:["Logto propose un RBAC flexible aux niveaux ",(0,r.jsx)(s.strong,{children:"global"})," et ",(0,r.jsx)(s.strong,{children:"organisation"})," pour prendre en charge le SaaS multi-tenant :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4les globaux (Global roles)"})," Attribu\xe9s \xe0 l\u2019\xe9chelle du tenant Logto. Id\xe9al pour les permissions \xe0 l\u2019\xe9chelle du produit, les administrateurs ou super-utilisateurs."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4les d\u2019organisation (Organization roles)"})," Attribu\xe9s au sein d\u2019une organisation. Parfait pour l\u2019acc\xe8s sp\xe9cifique \xe0 une organisation, comme les administrateurs d\u2019espace de travail, les membres de projet ou les groupes personnalis\xe9s."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Ressources API (API resources)"})," APIs et fonctionnalit\xe9s enregistr\xe9es n\xe9cessitant une autorisation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Permissions (port\xe9es) (Permissions (scopes))"})," D\xe9finies par ressource API ou dans le mod\xe8le d\u2019organisation.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Les permissions de ressource API peuvent \xeatre attribu\xe9es \xe0 des r\xf4les globaux ou d\u2019organisation."}),"\n",(0,r.jsx)(s.li,{children:"Les permissions d\u2019organisation ne peuvent \xeatre attribu\xe9es qu\u2019aux r\xf4les d\u2019organisation."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Selon les besoins de votre produit, vous pouvez utiliser ces mod\xe8les RBAC s\xe9par\xe9ment ou en combinaison."}),"\n",(0,r.jsx)(s.p,{children:"Voici trois exemples illustratifs avec des sch\xe9mas :"}),"\n",(0,r.jsx)(s.h3,{id:"model-1-global-api-resources",children:"Mod\xe8le 1 : Ressources API globales"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sc\xe9nario"})}),"\n",(0,r.jsx)(s.p,{children:"Un produit SaaS avec des APIs partag\xe9es entre tous les utilisateurs, quelle que soit l\u2019organisation.\nUtilisez des r\xf4les globaux pour contr\xf4ler l\u2019acc\xe8s aux ressources API \xe0 l\u2019\xe9chelle du produit."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sch\xe9ma"})}),"\n",(0,r.jsx)("img",{src:l.A,alt:"Global API resources RBAC",style:{maxWidth:"100%"}}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Points cl\xe9s"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Utilisateurs"})," et ",(0,r.jsx)(s.strong,{children:"applications M2M"})," se voient attribuer des r\xf4les globaux (par exemple, Responsable de magasin, Agent de service)."]}),"\n",(0,r.jsxs)(s.li,{children:["Les r\xf4les accordent des permissions (port\xe9es), telles que ",(0,r.jsx)(s.code,{children:"read:store"}),", ",(0,r.jsx)(s.code,{children:"order:book"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Les permissions sont directement li\xe9es aux ressources API (par exemple, ",(0,r.jsx)(s.code,{children:"https://read.shop/stores"}),")."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Quand l\u2019utiliser"})}),"\n",(0,r.jsx)(s.p,{children:"Lorsque l\u2019acc\xe8s n\u2019est pas sp\xe9cifique \xe0 une organisation ou que les utilisateurs / clients op\xe8rent sur l\u2019ensemble des organisations."}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Logto ne prend pas en charge les permissions non-API au niveau global, car ce niveau est r\xe9serv\xe9 aux port\xe9es OpenID Connect (OIDC)."})}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Pour un guide d\u2019impl\xe9mentation \xe9tape par \xe9tape, voir ",(0,r.jsx)(s.a,{href:"/authorization/global-api-resources",children:"Prot\xe9ger les ressources API globales"}),"."]})}),"\n",(0,r.jsx)(s.h3,{id:"model-2-organization-non-api-permissions",children:"Mod\xe8le 2 : Permissions d\u2019organisation (hors API)"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sc\xe9nario"})}),"\n",(0,r.jsx)(s.p,{children:"Contr\xf4ler des fonctionnalit\xe9s ou des workflows internes \xe0 l\u2019application qui ne sont pas appliqu\xe9s au niveau de l\u2019API (comme restreindre des fonctionnalit\xe9s d\u2019interface, des tableaux de bord ou des outils internes) \xe0 l\u2019aide de r\xf4les et permissions d\u2019organisation."}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sch\xe9ma"})}),"\n",(0,r.jsx)("img",{src:a.A,alt:"Organization permissions RBAC",style:{maxWidth:"800px",width:"100%"}}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Points cl\xe9s"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Chaque organisation (A et B) a ses propres attributions, mais toutes partagent un ensemble commun de r\xf4les d\xe9finis dans le ",(0,r.jsx)(s.a,{href:"/authorization/organization-template",children:"mod\xe8le d\u2019organisation"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Utilisateurs"})," et ",(0,r.jsx)(s.strong,{children:"applications M2M"})," peuvent avoir des r\xf4les diff\xe9rents dans chaque organisation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4les d\u2019organisation"})," (par exemple, Admin, Membre) accordent des permissions d\u2019organisation comme ",(0,r.jsx)(s.code,{children:"invite:member"}),", ",(0,r.jsx)(s.code,{children:"manage:billing"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Les permissions sont appliqu\xe9es dans l\u2019interface ou la logique m\xe9tier de l\u2019application, pas par la passerelle API."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Quand l\u2019utiliser"})}),"\n",(0,r.jsx)(s.p,{children:"Lorsque vous souhaitez g\xe9rer qui peut voir ou utiliser des fonctionnalit\xe9s \xe0 l\u2019int\xe9rieur d\u2019une organisation sans appliquer de contr\xf4le au niveau API."}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Pour un guide d\u2019impl\xe9mentation \xe9tape par \xe9tape, voir ",(0,r.jsx)(s.a,{href:"/authorization/organization-permissions",children:"Prot\xe9ger les permissions d\u2019organisation (hors API)"}),"."]})}),"\n",(0,r.jsx)(s.h3,{id:"model-3-organization-level-api-resources",children:"Mod\xe8le 3 : Ressources API au niveau organisation"}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sc\xe9nario"})}),"\n",(0,r.jsxs)(s.p,{children:["Une plateforme SaaS multi-tenant o\xf9 chaque organisation a ses propres membres, donn\xe9es et r\xf4les.\nUtilisez les ",(0,r.jsx)(s.strong,{children:"r\xf4les d\u2019organisation"})," pour accorder l\u2019acc\xe8s API au sein de chaque organisation."]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Sch\xe9ma"})}),"\n",(0,r.jsx)("img",{src:t.A,alt:"Organization-level API resources RBAC",style:{maxWidth:"100%"}}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Points cl\xe9s"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Chaque organisation (A et B) a ses propres attributions, mais toutes partagent un ensemble commun de r\xf4les d\xe9finis dans le ",(0,r.jsx)(s.a,{href:"/authorization/organization-template",children:"mod\xe8le d\u2019organisation"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Utilisateurs"})," et ",(0,r.jsx)(s.strong,{children:"applications M2M"})," peuvent avoir des r\xf4les diff\xe9rents dans chaque organisation."]}),"\n",(0,r.jsxs)(s.li,{children:["Les permissions (port\xe9es), telles que ",(0,r.jsx)(s.code,{children:"invite:member"}),", ",(0,r.jsx)(s.code,{children:"manage:billing"})," sont li\xe9es aux ressources API."]}),"\n",(0,r.jsx)(s.li,{children:"Les permissions sont appliqu\xe9es au niveau API lorsque le jeton d\u2019acc\xe8s inclut un contexte d\u2019organisation."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Quand l\u2019utiliser"})}),"\n",(0,r.jsx)(s.p,{children:"Lorsque vous devez contr\xf4ler l\u2019acc\xe8s API en fonction du contexte d\u2019organisation, par exemple pour permettre aux utilisateurs de g\xe9rer les donn\xe9es de leur propre organisation."}),"\n",(0,r.jsx)(s.admonition,{type:"tip",children:(0,r.jsxs)(s.p,{children:["Pour un guide d\u2019impl\xe9mentation \xe9tape par \xe9tape, voir ",(0,r.jsx)(s.a,{href:"/authorization/organization-level-api-resources",children:"Prot\xe9ger les ressources API au niveau organisation"}),"."]})}),"\n",(0,r.jsx)(s.h2,{id:"design-and-implement-a-permission-model",children:"Concevoir et impl\xe9menter un mod\xe8le de permissions"}),"\n",(0,r.jsx)(s.p,{children:"Selon l\u2019architecture de votre produit et les besoins de vos utilisateurs, vous pouvez choisir un mod\xe8le RBAC adapt\xe9 parmi les exemples ci-dessus. Voici un aide-m\xe9moire pour vous aider \xe0 concevoir et impl\xe9menter efficacement votre mod\xe8le de permissions :"}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Mod\xe8le de permissions"}),(0,r.jsx)(s.th,{children:"D\xe9finir des ressources API avec permissions ?"}),(0,r.jsx)(s.th,{children:"D\xe9finir des permissions d\u2019organisation ?"}),(0,r.jsx)(s.th,{children:"Utiliser des r\xf4les globaux ?"}),(0,r.jsx)(s.th,{children:"Utiliser des r\xf4les d\u2019organisation ?"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ressources API globales"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"n/a"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"n/a"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Permissions d\u2019organisation (hors API)"}),(0,r.jsx)(s.td,{children:"n/a"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"n/a"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:"Ressources API au niveau organisation"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"n/a"}),(0,r.jsx)(s.td,{children:"n/a"}),(0,r.jsx)(s.td,{children:"\u2705"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"define-api-resources-with-permissions",children:"D\xe9finir des ressources API avec permissions"}),"\n",(0,r.jsxs)(s.p,{children:["Enregistrez vos APIs dans la Console Logto ou ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/group/endpoint-resources",children:"via Management API"})," pour d\xe9finir les ressources API et leurs permissions (port\xe9es)."]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Dans OAuth 2.0 et OIDC, une \xab ressource API \xbb est techniquement appel\xe9e indicateur de ressource, un URI unique qui identifie votre API ou service prot\xe9g\xe9."})}),"\n",(0,r.jsx)(s.h4,{id:"register-api-resources-with-permissions-in-logto-console",children:"Enregistrer des ressources API avec permissions dans la Console Logto"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/api-resources",children:"Console \u2192 Ressources API"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er une ressource API"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Fournissez :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nom de l\u2019API :"})," Nom lisible pour votre API."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Identifiant de l\u2019API :"})," Indicateur de ressource API (par exemple, ",(0,r.jsx)(s.code,{children:"https://api.yourapp.com/org"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Dans l\u2019onglet ",(0,r.jsx)(s.strong,{children:"Permissions"}),", cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er une permission"})," pour cr\xe9er des permissions (port\xe9es) pour cette ressource API."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Dans l\u2019onglet ",(0,r.jsx)(s.strong,{children:"G\xe9n\xe9ral"}),", vous pouvez \xe9ventuellement d\xe9finir les \xe9l\xe9ments suivants :"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dur\xe9e d\u2019expiration du jeton"})," : D\xe9finissez la dur\xe9e de validit\xe9 des jetons d\u2019acc\xe8s pour cette ressource API. Nous recommandons de la garder courte (par exemple, 1 heure) pour la s\xe9curit\xe9."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"API par d\xe9faut"})," : D\xe9signez cette ressource API comme API par d\xe9faut pour la restriction d\u2019audience et l\u2019\xe9mission de jetons si aucune ",(0,r.jsx)(s.code,{children:"resource"})," n\u2019est sp\xe9cifi\xe9e dans la requ\xeate OAuth. Ceci est optionnel et peut \xeatre utile pour les clients qui ne prennent pas en charge le param\xe8tre ",(0,r.jsx)(s.code,{children:"resource"})," (par exemple, certains outils ou plugins tiers)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"tips",children:"Conseils"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Faites correspondre les indicateurs de ressource API aux vrais endpoints API pour fournir des noms intuitifs.","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Par exemple, ",(0,r.jsx)(s.code,{children:"https://api.example.com/v1/users"}),"."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Utilisez des noms clairs et orient\xe9s action (par exemple, ",(0,r.jsx)(s.code,{children:"invite:member"}),", ",(0,r.jsx)(s.code,{children:"manage:billing"}),", ",(0,r.jsx)(s.code,{children:"view:analytics"}),").","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Alternativement, certains pr\xe9f\xe8rent un pr\xe9fixe ou un regroupement par fonctionnalit\xe9 pour plus de clart\xe9 (par exemple, ",(0,r.jsx)(s.code,{children:"billing:read"}),", ",(0,r.jsx)(s.code,{children:"billing:manage"}),")."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.li,{children:"Gardez les permissions ax\xe9es sur le m\xe9tier, pas seulement sur les endpoints techniques."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Exemple"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Indicateur de ressource API"}),(0,r.jsx)(s.th,{children:"Permission"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"https://api.example.com/users"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"invite:user"})}),(0,r.jsx)(s.td,{children:"Inviter de nouveaux utilisateurs"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"https://api.example.com/users"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"manage:user"})}),(0,r.jsx)(s.td,{children:"Mettre \xe0 jour ou supprimer des utilisateurs"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"https://api.example.com/billing"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"view:billing"})}),(0,r.jsx)(s.td,{children:"Voir les d\xe9tails de facturation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"https://api.example.com/billing"})}),(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"manage:billing"})}),(0,r.jsx)(s.td,{children:"Modifier les param\xe8tres de facturation"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"define-organization-permissions",children:"D\xe9finir des permissions d\u2019organisation"}),"\n",(0,r.jsxs)(s.p,{children:["Enregistrez les permissions d\u2019organisation dans la Console Logto ou ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/group/endpoint-organization-scopes",children:"via Management API"})," pour d\xe9finir les permissions applicables au sein de chaque organisation. Les permissions d\u2019organisation sont d\xe9finies dans le ",(0,r.jsx)(s.a,{href:"/authorization/organization-template",children:"mod\xe8le d\u2019organisation"}),"."]}),"\n",(0,r.jsx)(s.h4,{id:"register-organization-permissions-in-logto-console",children:"Enregistrer des permissions d\u2019organisation dans la Console Logto"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/organization-template/organization-permissions",children:"Console \u2192 Mod\xe8le d\u2019organisation \u2192 Permissions d\u2019organisation"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er une permission d\u2019organisation"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Fournissez :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nom de la permission :"})," Un nom clair et orient\xe9 action pour la permission (par exemple, ",(0,r.jsx)(s.code,{children:"invite:member"}),", ",(0,r.jsx)(s.code,{children:"manage:billing"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Description :"}),' Une br\xe8ve description de ce que permet la permission (par exemple, "Inviter de nouveaux membres dans l\u2019organisation").']}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er la permission"})," pour enregistrer."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"tips",children:"Conseils"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Utilisez des noms clairs et orient\xe9s action (par exemple, ",(0,r.jsx)(s.code,{children:"invite:member"}),", ",(0,r.jsx)(s.code,{children:"manage:billing"}),")."]}),"\n",(0,r.jsx)(s.li,{children:"Gardez les permissions d\u2019organisation distinctes des permissions API pour \xe9viter toute confusion."}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Exemple"})}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Permission d\u2019organisation"}),(0,r.jsx)(s.th,{children:"Description"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"invite:member"})}),(0,r.jsx)(s.td,{children:"Inviter de nouveaux membres dans l\u2019organisation"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.code,{children:"manage:billing"})}),(0,r.jsx)(s.td,{children:"Modifier les param\xe8tres de facturation de l\u2019organisation"})]})]})]}),"\n",(0,r.jsx)(s.h3,{id:"configure-global-roles",children:"Configurer des r\xf4les globaux"}),"\n",(0,r.jsxs)(s.p,{children:["Cr\xe9ez et configurez des r\xf4les globaux dans la Console Logto ou ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/group/endpoint-roles",children:"via Management API"})," pour regrouper les permissions applicables \xe0 l\u2019ensemble du tenant Logto."]}),"\n",(0,r.jsx)(s.p,{children:"Un r\xf4le global peut \xeatre l\u2019un des suivants :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4le utilisateur"})," : Attribu\xe9 aux utilisateurs finaux, accordant des permissions pour acc\xe9der aux APIs et fonctionnalit\xe9s."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4le machine \xe0 machine (M2M)"})," : Attribu\xe9 aux applications M2M, accordant des permissions pour acc\xe9der aux APIs et fonctionnalit\xe9s, y compris Logto Management API."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Veuillez noter que ces deux types de r\xf4les ne peuvent pas \xeatre m\xe9lang\xe9s ni modifi\xe9s apr\xe8s cr\xe9ation. Attribuez des utilisateurs ou des applications M2M au r\xf4le, selon son type."})}),"\n",(0,r.jsx)(s.h4,{id:"create-global-roles-in-logto-console",children:"Cr\xe9er des r\xf4les globaux dans la Console Logto"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/roles",children:"Console \u2192 R\xf4les"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er un r\xf4le"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Fournissez :","\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nom du r\xf4le"})," : Un nom clair et descriptif pour le r\xf4le (par exemple, ",(0,r.jsx)(s.code,{children:"admin"}),", ",(0,r.jsx)(s.code,{children:"viewer"}),", ",(0,r.jsx)(s.code,{children:"billing-manager"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Type de r\xf4le"})," : Choisissez entre ",(0,r.jsx)(s.strong,{children:"Utilisateur"})," ou ",(0,r.jsx)(s.strong,{children:"Machine \xe0 machine (M2M)"}),". ",(0,r.jsx)(s.strong,{children:"Seuls les r\xf4les machine \xe0 machine (M2M) peuvent \xeatre li\xe9s \xe0 Logto Management API"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Description"}),' : Une br\xe8ve description de l\u2019objectif du r\xf4le (par exemple, "R\xf4le admin avec acc\xe8s complet", "R\xf4le viewer pour acc\xe8s en lecture seule").']}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Attribuer des permissions"})," : S\xe9lectionnez les permissions (port\xe9es) que ce r\xf4le doit avoir parmi les ressources API disponibles. Vous pouvez mettre \xe0 jour les permissions ult\xe9rieurement si besoin."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er le r\xf4le"})," pour enregistrer."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"assign-users-or-m2m-apps-to-global-roles",children:"Attribuer des utilisateurs ou applications M2M \xe0 des r\xf4les globaux"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/roles",children:"Console \u2192 R\xf4les"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Cliquez sur le r\xf4le auquel vous souhaitez attribuer des utilisateurs ou applications M2M."}),"\n",(0,r.jsxs)(s.li,{children:["Pour les ",(0,r.jsx)(s.strong,{children:"r\xf4les utilisateur"}),", cliquez sur l\u2019onglet ",(0,r.jsx)(s.strong,{children:"Utilisateurs"})," ; pour les ",(0,r.jsx)(s.strong,{children:"r\xf4les M2M"}),", cliquez sur l\u2019onglet ",(0,r.jsx)(s.strong,{children:"applications machine \xe0 machine"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Attribuer des utilisateurs"})," ou ",(0,r.jsx)(s.strong,{children:"Attribuer des applications M2M"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Recherchez les utilisateurs ou applications M2M \xe0 attribuer \xe0 ce r\xf4le."}),"\n",(0,r.jsxs)(s.li,{children:["S\xe9lectionnez les utilisateurs ou applications M2M et cliquez sur ",(0,r.jsx)(s.strong,{children:"Attribuer"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"default-global-roles",children:"R\xf4les globaux par d\xe9faut"}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez d\xe9finir un ou plusieurs r\xf4les globaux comme ",(0,r.jsx)(s.strong,{children:"r\xf4les par d\xe9faut"})," pour les nouveaux utilisateurs. Les r\xf4les par d\xe9faut sont automatiquement attribu\xe9s lors de la cr\xe9ation des utilisateurs, que ce soit par auto-inscription ou via Management API. Vous pouvez activer cette option dans l\u2019onglet \u201cG\xe9n\xe9ral\u201d sur la page de d\xe9tail sous ",(0,r.jsx)(n,{to:"/roles",children:"Console > R\xf4les"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"configure-organization-roles",children:"Configurer des r\xf4les d\u2019organisation"}),"\n",(0,r.jsxs)(s.p,{children:["Cr\xe9ez des r\xf4les d\u2019organisation dans la Console Logto ou ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/group/endpoint-organization-roles",children:"via Management API"})," pour regrouper les permissions applicables au sein de chaque organisation. Les r\xf4les d\u2019organisation sont d\xe9finis dans le ",(0,r.jsx)(s.a,{href:"/authorization/organization-template",children:"mod\xe8le d\u2019organisation"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Un r\xf4le d\u2019organisation peut \xeatre l\u2019un des suivants :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4le utilisateur"})," : Attribu\xe9 aux utilisateurs finaux au sein d\u2019une organisation, accordant des permissions pour acc\xe9der aux APIs et fonctionnalit\xe9s."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xf4le machine \xe0 machine (M2M)"})," : Attribu\xe9 aux applications M2M au sein d\u2019une organisation, accordant des permissions pour acc\xe9der aux APIs et fonctionnalit\xe9s. Ce r\xf4le ",(0,r.jsx)(s.strong,{children:"ne peut pas"})," \xeatre li\xe9 \xe0 Logto Management API car il est sp\xe9cifique \xe0 l\u2019organisation."]}),"\n"]}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsx)(s.p,{children:"Veuillez noter que ces deux types de r\xf4les ne peuvent pas \xeatre m\xe9lang\xe9s ni modifi\xe9s apr\xe8s cr\xe9ation. Attribuez des utilisateurs ou des applications M2M au r\xf4le, selon son type."})}),"\n",(0,r.jsx)(s.h4,{id:"create-organization-roles-in-logto-console",children:"Cr\xe9er des r\xf4les d\u2019organisation dans la Console Logto"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/organization-template/organization-roles",children:"Console \u2192 Mod\xe8le d\u2019organisation \u2192 R\xf4les d\u2019organisation"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er un r\xf4le d\u2019organisation"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:"Fournissez :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nom du r\xf4le"})," : Un nom clair et descriptif pour le r\xf4le (par exemple, ",(0,r.jsx)(s.code,{children:"admin"}),", ",(0,r.jsx)(s.code,{children:"member"}),", ",(0,r.jsx)(s.code,{children:"billing-manager"}),")."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Type de r\xf4le"})," : Choisissez entre ",(0,r.jsx)(s.strong,{children:"Utilisateur"})," ou ",(0,r.jsx)(s.strong,{children:"Machine \xe0 machine (M2M)"}),". ",(0,r.jsx)(s.strong,{children:"Seuls les r\xf4les machine \xe0 machine (M2M) peuvent \xeatre li\xe9s \xe0 Logto Management API"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Description"}),' : Une br\xe8ve description de l\u2019objectif du r\xf4le (par exemple, "R\xf4le admin avec acc\xe8s complet", "R\xf4le membre pour acc\xe8s de base").']}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Cliquez sur ",(0,r.jsx)(s.strong,{children:"Cr\xe9er le r\xf4le"})," pour enregistrer."]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsxs)(s.p,{children:["Dans la fen\xeatre ",(0,r.jsx)(s.strong,{children:"Attribuer des permissions"}),", s\xe9lectionnez les permissions d\u2019organisation et / ou les permissions de ressource API que ce r\xf4le doit avoir. Vous pouvez mettre \xe0 jour les permissions ult\xe9rieurement si besoin."]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"assign-users-or-m2m-apps-to-organization-roles",children:"Attribuer des utilisateurs ou applications M2M \xe0 des r\xf4les d\u2019organisation"}),"\n",(0,r.jsx)(s.p,{children:"Comme les r\xf4les d\u2019organisation sont sp\xe9cifiques \xe0 chaque organisation, vous devez attribuer les utilisateurs ou applications M2M aux r\xf4les d\u2019organisation dans le contexte d\u2019une organisation."}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Acc\xe9dez \xe0 ",(0,r.jsx)(n,{to:"/organizations",children:"Console \u2192 Organisations"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"S\xe9lectionnez l\u2019organisation \xe0 g\xe9rer."}),"\n",(0,r.jsxs)(s.li,{children:["Pour les ",(0,r.jsx)(s.strong,{children:"r\xf4les utilisateur"}),", cliquez sur l\u2019onglet ",(0,r.jsx)(s.strong,{children:"Utilisateurs"})," ; pour les ",(0,r.jsx)(s.strong,{children:"r\xf4les M2M"}),", cliquez sur l\u2019onglet ",(0,r.jsx)(s.strong,{children:"applications machine \xe0 machine"}),"."]}),"\n",(0,r.jsxs)(s.li,{children:["Si l\u2019utilisateur ou l\u2019application M2M n\u2019est pas encore membre de l\u2019organisation, cliquez sur ",(0,r.jsx)(s.strong,{children:"Ajouter un membre"})," ou ",(0,r.jsx)(s.strong,{children:"Ajouter une application M2M"})," pour l\u2019ajouter \xe0 l\u2019organisation. Pendant ce processus, vous pouvez leur attribuer un ou plusieurs r\xf4les d\u2019organisation."]}),"\n",(0,r.jsxs)(s.li,{children:["Si l\u2019utilisateur ou l\u2019application M2M est d\xe9j\xe0 membre, cliquez sur le menu \xe0 trois points \xe0 c\xf4t\xe9 de son nom et s\xe9lectionnez ",(0,r.jsx)(s.strong,{children:"Modifier les r\xf4les d\u2019organisation"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Dans la fen\xeatre qui s\u2019ouvre, s\xe9lectionnez et enregistrez les r\xf4les d\u2019organisation \xe0 attribuer \xe0 l\u2019utilisateur ou \xe0 l\u2019application M2M."}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"just-in-time-jit-provisioning",children:"Approvisionnement Just-in-Time (JIT)"}),"\n",(0,r.jsxs)(s.p,{children:["Vous pouvez \xe9galement attribuer des r\xf4les d\u2019organisation aux utilisateurs ou applications M2M au moment o\xf9 ils rejoignent une organisation. Pour cela, consultez ",(0,r.jsx)(s.a,{href:"/organizations/just-in-time-provisioning",children:"Approvisionnement Just-in-Time (JIT)"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"enforcing-authorization-in-your-backend-or-api",children:"Appliquer l\u2019autorisation dans votre backend ou API"}),"\n",(0,r.jsxs)(s.p,{children:["Logto \xe9met des ",(0,r.jsx)(s.a,{href:"https://auth.wiki/jwt",children:"JSON Web Tokens (JWTs)"})," contenant les revendications n\xe9cessaires pour appliquer l\u2019autorisation dans votre application ou API."]}),"\n",(0,r.jsx)(s.p,{children:"Pour appliquer l\u2019autorisation, votre backend ou API doit :"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["Exiger que le client pr\xe9sente un jeton d\u2019acc\xe8s valide dans l\u2019en-t\xeate de la requ\xeate au format ",(0,r.jsx)(s.code,{children:"Authorization: Bearer <token>"}),"."]}),"\n",(0,r.jsx)(s.li,{children:"Valider le jeton d\u2019acc\xe8s pour s\u2019assurer qu\u2019il est \xe9mis par Logto, non expir\xe9, et qu\u2019il poss\xe8de les permissions (port\xe9es) requises pour l\u2019action demand\xe9e."}),"\n",(0,r.jsx)(s.li,{children:"R\xe9pondre par une erreur (par exemple, HTTP 401 Unauthorized ou HTTP 403 Forbidden) si le jeton est manquant, invalide ou ne poss\xe8de pas les permissions requises."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Pour des guides \xe9tape par \xe9tape et sp\xe9cifiques \xe0 chaque langage, voir ",(0,r.jsx)(s.a,{href:"/authorization/validate-access-tokens",children:"Comment valider les jetons d\u2019acc\xe8s"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"integrate-logto-rbac-with-your-application",children:"Int\xe9grer le RBAC Logto \xe0 votre application"}),"\n",(0,r.jsx)(s.p,{children:"Vous pouvez int\xe9grer le RBAC Logto dans votre application de deux mani\xe8res :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"SDK Logto :"})," Utilisez un ",(0,r.jsx)(s.a,{href:"/quick-starts",children:"SDK Logto"})," pour la gestion int\xe9gr\xe9e des flux d\u2019authentification et d\u2019autorisation."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Librairies OAuth 2.0 / OIDC standard :"})," Utilisez votre librairie OAuth 2.0 ou OpenID Connect pr\xe9f\xe9r\xe9e pour impl\xe9menter les flux n\xe9cessaires."]}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Une fois int\xe9gr\xe9, demandez des jetons d\u2019acc\xe8s avec les bons param\xe8tres pour votre mod\xe8le RBAC choisi. Ajoutez le jeton d\u2019acc\xe8s dans l\u2019en-t\xeate ",(0,r.jsx)(s.code,{children:"Authorization"})," de vos requ\xeates API pour appliquer les permissions."]}),"\n",(0,r.jsx)(s.p,{children:"Consultez les guides d\u2019impl\xe9mentation dans les sections de mod\xe8les ci-dessus pour des exemples d\xe9taill\xe9s."}),"\n",(0,r.jsx)(s.h2,{id:"advanced-scenarios",children:"Sc\xe9narios avanc\xe9s"}),"\n",(0,r.jsx)(s.p,{children:"Explorez des cas d\u2019utilisation RBAC plus sophistiqu\xe9s dans Logto :"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Combinaison de r\xf4les globaux et d\u2019organisation"})," : Attribuez les deux aux utilisateurs / clients si n\xe9cessaire ; Logto r\xe9soudra selon le contexte du jeton demand\xe9."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Applications multiples"})," : Utilisez des ressources et port\xe9es partag\xe9es pour un RBAC inter-applications."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Permissions dynamiques"})," : Si besoin, combinez le RBAC avec des v\xe9rifications \xe0 l\u2019ex\xe9cution (par exemple, propri\xe9t\xe9, attributs) pour des sc\xe9narios avanc\xe9s."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Revendications personnalis\xe9es dans les jetons"})," : Utilisez les ",(0,r.jsx)(s.a,{href:"/developers/custom-token-claims",children:"revendications personnalis\xe9es"})," pour enrichir les jetons selon vos besoins."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"best-practices-common-pitfalls",children:"Bonnes pratiques & pi\xe8ges courants"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Principe du moindre privil\xe8ge"})," : Accordez uniquement les permissions n\xe9cessaires \xe0 chaque r\xf4le."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"\xc9vitez la prolif\xe9ration des permissions"})," : Gardez votre mod\xe8le de permissions simple et maintenable."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"R\xe9visez et mettez \xe0 jour les r\xf4les / permissions"})," : Auditez r\xe9guli\xe8rement votre mod\xe8le RBAC \xe0 mesure que votre produit \xe9volue."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"S\xe9paration des t\xe2ches"})," : Cr\xe9ez des r\xf4les distincts pour les actions sensibles / administratives."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Testez le RBAC en pr\xe9production"})," : Validez les fronti\xe8res et escalades de permissions."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"faqs",children:"FAQ"}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(s.h3,{id:"how-do-i-update-roles-or-permissions-across-all-organizations",children:"Comment mettre \xe0 jour les r\xf4les ou permissions dans toutes les organisations ?"})}),(0,r.jsxs)(s.p,{children:["Mettez \xe0 jour le ",(0,r.jsx)(s.a,{href:"/authorization/organization-template",children:"mod\xe8le d\u2019organisation"})," pour les changements globaux ; les organisations existantes peuvent h\xe9riter des mises \xe0 jour."]})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(s.h3,{id:"can-i-change-roles-permissions-dynamically",children:"Puis-je modifier dynamiquement les r\xf4les / permissions ?"})}),(0,r.jsx)(s.p,{children:"Oui, les r\xf4les et leurs permissions peuvent \xeatre mis \xe0 jour \xe0 tout moment."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(s.h3,{id:"what-happens-if-i-remove-a-permission-from-a-role",children:"Que se passe-t-il si je retire une permission d\u2019un r\xf4le ?"})}),(0,r.jsx)(s.p,{children:"Les utilisateurs / clients ayant ce r\xf4le perdront imm\xe9diatement la permission pour les nouveaux jetons."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(s.h3,{id:"how-can-i-audit-who-has-what-role",children:"Comment auditer qui a quel r\xf4le ?"})}),(0,r.jsx)(s.p,{children:"Utilisez la Console Logto ou l\u2019API pour lister les attributions de r\xf4les."})]}),"\n",(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(s.h3,{id:"can-roles-and-permissions-be-assigned-via-api",children:"Les r\xf4les et permissions peuvent-ils \xeatre attribu\xe9s via l\u2019API ?"})}),(0,r.jsx)(s.p,{children:"Oui, la Console comme Management API permettent de g\xe9rer les r\xf4les et attributions de mani\xe8re programmatique."})]}),"\n",(0,r.jsx)(s.h2,{id:"further-reading",children:"Pour aller plus loin"}),"\n",(0,r.jsx)(d,{href:"/authorization/organization-template",children:"Mod\xe8le d\u2019organisation"}),"\n",(0,r.jsx)(d,{href:"/developers/custom-token-claims",children:"Personnalisation des revendications de jeton"}),"\n",(0,r.jsx)(d,{href:"/authorization/validate-access-tokens",children:"Comment valider les jetons d\u2019acc\xe8s"}),"\n",(0,r.jsx)(d,{href:"/authorization/global-api-resources",children:"Prot\xe9ger les ressources API globales"}),"\n",(0,r.jsx)(d,{href:"/authorization/organization-permissions",children:(0,r.jsx)(s.p,{children:"Prot\xe9ger les permissions d\u2019organisation (hors API)"})}),"\n",(0,r.jsx)(d,{href:"/authorization/organization-level-api-resources",children:(0,r.jsx)(s.p,{children:"Prot\xe9ger les ressources API au niveau organisation"})})]})}function x(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}function j(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},46643:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png"},1242:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/rbac-organization-level-api-resources-9533c281f3ee1cf52aefe821717e1fef.png"},93855:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/rbac-organization-permissions-3302be06221b4399f73ddceac8ca17e3.png"},79621:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>t});var i=n(58101);const r={},o=i.createContext(r);function l(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function t(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);