"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[9527],{88340:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>u,frontMatter:()=>i,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"user-management/personal-access-token","title":"Jeton d\u2019acc\xe8s personnel (Personal access token)","description":"Les jetons d\u2019acc\xe8s personnels (PATs) offrent un moyen s\xe9curis\xe9 pour les utilisateurs d\u2019accorder un jeton d\u2019acc\xe8s (Access token) sans utiliser leurs identifiants et sans connexion interactive. Ceci est utile pour les CI / CD, les scripts ou les applications qui doivent acc\xe9der aux ressources de mani\xe8re programmatique.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","sourceDirName":"user-management","slug":"/user-management/personal-access-token","permalink":"/fr/user-management/personal-access-token","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/user-management/personal-access-token.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Recherche avanc\xe9e d\'utilisateurs","permalink":"/fr/user-management/advanced-user-search"},"next":{"title":"Migration des utilisateurs","permalink":"/fr/user-management/user-migration"}}');var o=s(25105),r=s(79621);const i={sidebar_position:4},c="Jeton d\u2019acc\xe8s personnel (Personal access token)",a={},l=[{value:"Gestion des jetons d\u2019acc\xe8s personnels",id:"managing-personal-access-tokens",level:2},{value:"Utilisation de la Console",id:"using-console",level:3},{value:"Utilisation de Management API",id:"using-management-api",level:3},{value:"Utiliser les PATs pour accorder des jetons d\u2019acc\xe8s",id:"use-pats-to-grant-access-tokens",level:2},{value:"Requ\xeate",id:"request",level:3},{value:"R\xe9ponse",id:"response",level:3},{value:"Exemple d\u2019\xe9change de jeton",id:"example-token-exchange",level:3},{value:"Ressources associ\xe9es",id:"related-resources",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",...(0,r.R)(),...e.components},{CloudLink:s,Url:t}=n;return s||p("CloudLink",!0),t||p("Url",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"jeton-dacc\xe8s-personnel-personal-access-token",children:"Jeton d\u2019acc\xe8s personnel (Personal access token)"})}),"\n",(0,o.jsxs)(n.p,{children:["Les jetons d\u2019acc\xe8s personnels (PATs) offrent un moyen s\xe9curis\xe9 pour les utilisateurs d\u2019accorder un ",(0,o.jsx)(n.a,{href:"https://auth.wiki/access-token",children:"jeton d\u2019acc\xe8s (Access token)"})," sans utiliser leurs identifiants et sans connexion interactive. Ceci est utile pour les CI / CD, les scripts ou les applications qui doivent acc\xe9der aux ressources de mani\xe8re programmatique."]}),"\n",(0,o.jsx)(n.h2,{id:"managing-personal-access-tokens",children:"Gestion des jetons d\u2019acc\xe8s personnels"}),"\n",(0,o.jsx)(n.h3,{id:"using-console",children:"Utilisation de la Console"}),"\n",(0,o.jsxs)(n.p,{children:["Vous pouvez g\xe9rer les jetons d\u2019acc\xe8s personnels dans la page D\xe9tails de l\u2019utilisateur du ",(0,o.jsx)(s,{to:"/users",children:"Console > Gestion des utilisateurs"}),'. Dans la carte "Authentification (Authentication)", vous pouvez voir la liste des jetons d\u2019acc\xe8s personnels et en cr\xe9er de nouveaux.']}),"\n",(0,o.jsx)(n.h3,{id:"using-management-api",children:"Utilisation de Management API"}),"\n",(0,o.jsxs)(n.p,{children:["Apr\xe8s avoir configur\xe9 le ",(0,o.jsx)(n.a,{href:"/integrate-logto/interact-with-management-api/",children:"Management API"}),", vous pouvez utiliser les ",(0,o.jsx)(n.a,{href:"https://openapi.logto.io/operation/operation-listuserpersonalaccesstokens",children:"points de terminaison API"})," pour cr\xe9er, lister et supprimer des jetons d\u2019acc\xe8s personnels."]}),"\n",(0,o.jsx)(n.h2,{id:"use-pats-to-grant-access-tokens",children:"Utiliser les PATs pour accorder des jetons d\u2019acc\xe8s"}),"\n",(0,o.jsx)(n.p,{children:"Apr\xe8s avoir cr\xe9\xe9 un PAT, vous pouvez l\u2019utiliser pour accorder des jetons d\u2019acc\xe8s \xe0 votre application en utilisant le point de terminaison d\u2019\xe9change de jetons."}),"\n",(0,o.jsx)(n.h3,{id:"request",children:"Requ\xeate"}),"\n",(0,o.jsxs)(n.p,{children:["L\u2019application effectue une ",(0,o.jsx)(n.a,{href:"https://auth.wiki/authorization-code-flow#token-exchange-request",children:"requ\xeate d\u2019\xe9change de jeton"})," vers le ",(0,o.jsx)(n.a,{href:"/integrate-logto/application-data-structure#token-endpoint",children:"point de terminaison de jeton"})," du tenant avec un type de grant sp\xe9cial en utilisant la m\xe9thode HTTP POST. Les param\xe8tres suivants sont inclus dans le corps de la requ\xeate HTTP au format ",(0,o.jsx)(n.code,{children:"application/x-www-form-urlencoded"}),"."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"client_id"})," : OBLIGATOIRE. L\u2019ID client de l\u2019application."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"grant_type"})," : OBLIGATOIRE. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:ietf:params:oauth:grant-type:token-exchange"})," pour indiquer qu\u2019un \xe9change de jeton est en cours."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"resource"})," : OPTIONNEL. L\u2019indicateur de ressource (Resource indicator), comme pour les autres requ\xeates de jeton."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"scope"})," : OPTIONNEL. Les port\xe9es (Scopes) demand\xe9es, comme pour les autres requ\xeates de jeton."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"subject_token"})," : OBLIGATOIRE. Le PAT de l\u2019utilisateur."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"subject_token_type"})," : OBLIGATOIRE. Le type de jeton de s\xe9curit\xe9 fourni dans le param\xe8tre ",(0,o.jsx)(n.code,{children:"subject_token"}),". La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:logto:token-type:personal_access_token"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"response",children:"R\xe9ponse"}),"\n",(0,o.jsxs)(n.p,{children:["Si la requ\xeate d\u2019\xe9change de jeton r\xe9ussit, le point de terminaison de jeton du tenant retourne un jeton d\u2019acc\xe8s repr\xe9sentant l\u2019identit\xe9 de l\u2019utilisateur. La r\xe9ponse inclut les param\xe8tres suivants dans le corps de la r\xe9ponse HTTP au format ",(0,o.jsx)(n.code,{children:"application/json"}),"."]}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"access_token"})," : OBLIGATOIRE. Le jeton d\u2019acc\xe8s (Access token) de l\u2019utilisateur, identique aux autres requ\xeates de jeton comme ",(0,o.jsx)(n.code,{children:"authorization_code"})," ou ",(0,o.jsx)(n.code,{children:"refresh_token"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"issued_token_type"})," : OBLIGATOIRE. Le type du jeton \xe9mis. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"urn:ietf:params:oauth:token-type:access_token"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"token_type"})," : OBLIGATOIRE. Le type du jeton. La valeur de ce param\xe8tre doit \xeatre ",(0,o.jsx)(n.code,{children:"Bearer"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"expires_in"})," : OBLIGATOIRE. La dur\xe9e de vie en secondes du jeton d\u2019acc\xe8s."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"scope"})," : OPTIONNEL. Les port\xe9es (Scopes) du jeton d\u2019acc\xe8s."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"example-token-exchange",children:"Exemple d\u2019\xe9change de jeton"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:"POST /oidc/token HTTP/1.1\nHost: tenant.logto.app\nContent-Type: application/x-www-form-urlencoded\nAuthorization: Basic <base64(client-id:client-secret)>\n\ngrant_type=urn%3Aietf%3Aparams%3Aoauth%3Agrant-type%3Atoken-exchange\n&scope=profile\n&subject_token=pat_W51arOqe7nynW75nWhvYogyc\n&subject_token_type=urn%3Alogto%3Atoken-type%3Apersonal_access_token\n"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'HTTP/1.1 200 OK\nContent-Type: application/json\n\n{\n  "access_token": "eyJhbGci...zg",\n  "issued_token_type": "urn:ietf:params:oauth:token-type:access_token",\n  "token_type": "Bearer",\n  "expires_in": 3600,\n  "scope": "profile"\n}\n'})}),"\n",(0,o.jsx)(n.p,{children:"Exemple de payload du jeton d\u2019acc\xe8s :"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-json",children:'{\n  "jti": "iFtbZBeh2M1cTTBuKbHk4",\n  "sub": "123",\n  "iss": "https://tenant.logto.app/oidc",\n  "exp": 1672531200,\n  "iat": 1672527600,\n  "scope": "profile",\n  "client_id": "client-id"\n}\n'})}),"\n",(0,o.jsx)(n.h2,{id:"related-resources",children:"Ressources associ\xe9es"}),"\n",(0,o.jsx)(t,{href:"https://blog.logto.io/api-authentication-with-personal-access-token",children:(0,o.jsx)(n.p,{children:"Qu\u2019est-ce qu\u2019un jeton d\u2019acc\xe8s personnel (Personal access token) ? Quand dois-je utiliser les\njetons d\u2019acc\xe8s personnels ?"})}),"\n",(0,o.jsx)(t,{href:"https://blog.logto.io/pat-and-api-keys",children:(0,o.jsx)(n.p,{children:"Jetons d\u2019acc\xe8s personnels (Personal Access Tokens), authentification machine \xe0 machine\n(Machine-to-Machine authentication), d\xe9finitions des cl\xe9s API (API Keys) et leurs sc\xe9narios r\xe9els"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>c});var t=s(58101);const o={},r=t.createContext(o);function i(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);