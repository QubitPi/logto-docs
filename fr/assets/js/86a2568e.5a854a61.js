"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[8072],{95719:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[];function o(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Nous vous recommandons de lire d'abord ",(0,i.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC)"})," pour comprendre les concepts de base de Logto RBAC et comment configurer correctement les ressources API."]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},87630:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[{value:"Point de contr\xf4le : Testez votre application",id:"checkpoint-test-your-application",level:3}];function o(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Point de contr\xf4le : Testez votre application"}),"\n",(0,i.jsx)(n.p,{children:"Maintenant, vous pouvez tester votre application :"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ex\xe9cutez votre application, vous verrez le bouton de connexion."}),"\n",(0,i.jsx)(n.li,{children:"Cliquez sur le bouton de connexion, le SDK initiera le processus de connexion et vous redirigera vers la page de connexion Logto."}),"\n",(0,i.jsx)(n.li,{children:"Apr\xe8s vous \xeatre connect\xe9, vous serez redirig\xe9 vers votre application et verrez le bouton de d\xe9connexion."}),"\n",(0,i.jsx)(n.li,{children:"Cliquez sur le bouton de d\xe9connexion pour effacer le stockage des jetons et vous d\xe9connecter."}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},99225:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Il se peut que certaines informations utilisateur soient manquantes dans l'objet retourn\xe9 par ",(0,i.jsx)("code",{children:e.method}),". Cela est d\xfb au fait que OAuth 2.0 et OpenID Connect (OIDC) sont con\xe7us pour suivre le principe du moindre privil\xe8ge (PoLP), et Logto est construit sur ces normes."]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},62990:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[];function o(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" Parcours utilisateur final : flux d\u2019authentification, flux de compte et flux d\u2019organisation "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" Configurer les connecteurs "}),"\n",(0,i.jsx)(n,{href:"/authorization",children:" Autorisation (Authorization) "})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},42142:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[{value:"Concernant la connexion bas\xe9e sur la redirection",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:s,MainSiteUrl:t}=n;return s||d("Details",!0),t||d("MainSiteUrl",!0),(0,i.jsxs)(s,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Concernant la connexion bas\xe9e sur la redirection"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Ce processus d'authentification (Authentication) suit le protocole ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", et Logto applique des mesures de s\xe9curit\xe9 strictes pour prot\xe9ger la connexion utilisateur."]}),"\n",(0,i.jsx)(n.li,{children:"Si vous avez plusieurs applications, vous pouvez utiliser le m\xeame fournisseur d\u2019identit\xe9 (Logto). Une fois que l'utilisateur se connecte \xe0 une application, Logto compl\xe9tera automatiquement le processus de connexion lorsque l'utilisateur acc\xe8de \xe0 une autre application."}),"\n"]}),(0,i.jsxs)(n.p,{children:["Pour en savoir plus sur la logique et les avantages de la connexion bas\xe9e sur la redirection, consultez ",(0,i.jsx)(t,{href:"/concepts/sign-in-experience",children:"Exp\xe9rience de connexion Logto expliqu\xe9e"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function d(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28730:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Voici la liste des port\xe9es prises en charge et les revendications correspondantes :"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"L'identifiant unique de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le nom complet de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le nom d'utilisateur de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"URL de la photo de profil de l'utilisateur final. Cette URL DOIT faire r\xe9f\xe9rence \xe0 un fichier image (par exemple, un fichier PNG, JPEG ou GIF), plut\xf4t qu'\xe0 une page Web contenant une image. Notez que cette URL DOIT sp\xe9cifiquement r\xe9f\xe9rencer une photo de profil de l'utilisateur final adapt\xe9e \xe0 l'affichage lors de la description de l'utilisateur final, plut\xf4t qu'une photo arbitraire prise par l'utilisateur final."}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Heure \xe0 laquelle l'utilisateur final a \xe9t\xe9 cr\xe9\xe9. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes \xe9coul\xe9es depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Heure \xe0 laquelle les informations de l'utilisateur final ont \xe9t\xe9 mises \xe0 jour pour la derni\xe8re fois. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes \xe9coul\xe9es depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["D'autres ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"revendications standard"})," incluent ",(0,i.jsx)(n.code,{children:"family_name"}),", ",(0,i.jsx)(n.code,{children:"given_name"}),", ",(0,i.jsx)(n.code,{children:"middle_name"}),", ",(0,i.jsx)(n.code,{children:"nickname"}),", ",(0,i.jsx)(n.code,{children:"preferred_username"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", ",(0,i.jsx)(n.code,{children:"website"}),", ",(0,i.jsx)(n.code,{children:"gender"}),", ",(0,i.jsx)(n.code,{children:"birthdate"}),", ",(0,i.jsx)(n.code,{children:"zoneinfo"}),", et ",(0,i.jsx)(n.code,{children:"locale"})," seront \xe9galement incluses dans la port\xe9e ",(0,i.jsx)(n.code,{children:"profile"})," sans avoir besoin de demander le point de terminaison userinfo. Une diff\xe9rence par rapport aux revendications ci-dessus est que ces revendications ne seront renvoy\xe9es que lorsque leurs valeurs ne sont pas vides, tandis que les revendications ci-dessus renverront ",(0,i.jsx)(n.code,{children:"null"})," si les valeurs sont vides."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Contrairement aux revendications standard, les revendications ",(0,i.jsx)(n.code,{children:"created_at"})," et ",(0,i.jsx)(n.code,{children:"updated_at"})," utilisent des millisecondes au lieu de secondes."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"L'adresse e-mail de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si l'adresse e-mail a \xe9t\xe9 v\xe9rifi\xe9e"}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le num\xe9ro de t\xe9l\xe9phone de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si le num\xe9ro de t\xe9l\xe9phone a \xe9t\xe9 v\xe9rifi\xe9"}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["Veuillez vous r\xe9f\xe9rer \xe0 ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," pour les d\xe9tails de la revendication d'adresse."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Les donn\xe9es personnalis\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Les identit\xe9s li\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"Les identit\xe9s SSO li\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Les r\xf4les de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Les identifiants d'organisation auxquels l'utilisateur appartient"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"Les donn\xe9es d'organisation auxquelles l'utilisateur appartient"}),(0,i.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["Les r\xf4les d'organisation auxquels l'utilisateur appartient avec le format ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:['En consid\xe9rant la performance et la taille des donn\xe9es, si "Besoin de userinfo ?" est "Oui", cela signifie que la revendication n\'appara\xeetra pas dans le jeton d\u2019identifiant, mais sera renvoy\xe9e dans la r\xe9ponse du ',(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},17979:(e,n,s)=>{s.d(n,{Ay:()=>d,RM:()=>o});var i=s(25105),r=s(79621),t=s(28730);const o=[...t.RM];function c(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Logto utilise les conventions de ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"port\xe9es et revendications"})," OIDC pour d\xe9finir les Port\xe9es et Revendications pour r\xe9cup\xe9rer les informations utilisateur \xe0 partir du Jeton d\u2019identifiant et du point de terminaison OIDC ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo"}),'. Les termes "Port\xe9e" et "Revendication" proviennent des sp\xe9cifications OAuth 2.0 et OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"En bref, lorsque vous demandez une Port\xe9e, vous obtiendrez les Revendications correspondantes dans les informations utilisateur. Par exemple, si vous demandez la port\xe9e `email`, vous obtiendrez les donn\xe9es `email` et `email_verified` de l'utilisateur."}),(0,i.jsx)("p",{children:"Par d\xe9faut, le SDK Logto demandera toujours trois Port\xe9es : `openid`, `profile` et `offline_access`, et il n'est pas possible de supprimer ces Port\xe9es par d\xe9faut. Mais vous pouvez ajouter plus de Port\xe9es lors de la configuration de Logto :"}),e.configScopesCode]}),"\n",(0,i.jsx)(t.Ay,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},75934:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var i=s(25105),r=s(79621);const t=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Par d\xe9faut, des revendications limit\xe9es sont retourn\xe9es. Si vous avez besoin de plus d'informations, vous pouvez demander des port\xe9es suppl\xe9mentaires pour acc\xe9der \xe0 plus de revendications."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:'Une "revendication" est une affirmation faite \xe0 propos d\'un sujet ; une "port\xe9e" est un groupe de revendications. Dans le cas actuel, une revendication est une information sur l\'utilisateur.'})}),"\n",(0,i.jsx)(n.p,{children:"Voici un exemple non normatif de la relation port\xe9e - revendication :"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"La revendication \"sub\" signifie \"sujet\", qui est l'identifiant unique de l'utilisateur (c'est-\xe0-dire l'ID utilisateur)."})}),"\n",(0,i.jsxs)(n.p,{children:["Le SDK Logto demandera toujours trois port\xe9es : ",(0,i.jsx)(n.code,{children:"openid"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", et ",(0,i.jsx)(n.code,{children:"offline_access"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},12446:(e,n,s)=>{s.d(n,{Ay:()=>d,Ip:()=>t,RM:()=>o});var i=s(25105),r=s(79621);const t="http://localhost:3000/",o=[];function c(e){const n={admonition:"admonition",p:"p",...(0,r.R)(),...e.components};return(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Dans les extraits de code suivants, nous supposons que votre application fonctionne sur ",(0,i.jsx)("code",{children:t}),"."]})})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},50102:(e,n,s)=>{s.d(n,{Ay:()=>l,Ip:()=>t,RM:()=>c,YF:()=>o});var i=s(25105),r=s(79621);const t="http://localhost:3000/",o=`${t}callback`,c=[{value:"Configurer les URIs de redirection",id:"configure-redirect-uris",level:4}];function d(e){const n={h4:"h4",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:["\n","\n",(0,i.jsx)(n.h4,{id:"configure-redirect-uris",children:"Configurer les URIs de redirection"}),"\n",(0,i.jsxs)(n.p,{children:["Passez \xe0 la page des d\xe9tails de l'application de Logto Console. Ajoutez une URI de redirection ",(0,i.jsx)("code",{children:e.redirectUri??"http://localhost:3000/callback"}),"."]}),"\n",(0,i.jsx)("img",{alt:"URI de redirection dans Logto Console",src:"/img/assets/web-redirect-uri.png",width:"600px"}),"\n",(0,i.jsxs)(n.p,{children:["Tout comme pour la connexion, les utilisateurs doivent \xeatre redirig\xe9s vers Logto pour se d\xe9connecter de la session partag\xe9e. Une fois termin\xe9, il serait id\xe9al de rediriger l'utilisateur vers votre site web. Par exemple, ajoutez ",(0,i.jsx)("code",{children:t})," comme section d'URI de redirection apr\xe8s d\xe9connexion."]}),"\n",(0,i.jsx)(n.p,{children:'Ensuite, cliquez sur "Enregistrer" pour sauvegarder les modifications.'})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},60348:(e,n,s)=>{s.d(n,{Ay:()=>d,RM:()=>o});var i=s(25105),r=s(79621),t=s(42142);const o=[...t.RM];function c(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Avant d\u2019entrer dans les d\xe9tails, voici un aper\xe7u rapide de l\u2019exp\xe9rience utilisateur finale. Le processus de connexion peut \xeatre simplifi\xe9 comme suit :"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(Votre application) --\x3e|1\\. Lancer la connexion| B(Logto)\n    B --\x3e|2\\. Connexion termin\xe9e| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Votre application lance la m\xe9thode de connexion."}),"\n",(0,i.jsx)(n.li,{children:"L\u2019utilisateur est redirig\xe9 vers la page de connexion Logto. Pour les applications natives, le navigateur syst\xe8me est ouvert."}),"\n",(0,i.jsx)(n.li,{children:"L\u2019utilisateur se connecte et est redirig\xe9 vers votre application (configur\xe9e comme l\u2019URI de redirection)."}),"\n"]}),"\n",(0,i.jsx)(t.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},23167:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>w,contentTitle:()=>q,default:()=>_,frontMatter:()=>L,metadata:()=>i,toc:()=>P});const i=JSON.parse('{"id":"quick-starts/framework/dotnet-blazor-wasm/README","title":"Ajoutez l\u2019authentification \xe0 votre application .NET Core (Blazor WASM)","description":"Pr\xe9requis \\\\","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/dotnet-blazor-wasm/README.mdx","sourceDirName":"quick-starts/framework/dotnet-blazor-wasm","slug":"/quick-starts/dotnet-core/blazor-wasm","permalink":"/fr/quick-starts/dotnet-core/blazor-wasm","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/dotnet-blazor-wasm/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/dotnet-core/blazor-wasm","sidebar_label":".NET Core (Blazor WASM)","sidebar_custom_props":{"logoFilename":"dotnet-blazor.svg","description":"Int\xe9grez Logto dans votre application .NET Core Blazor WebAssembly."},"language":"c#","official_link":"https://learn.microsoft.com/en-us/aspnet/core/blazor/hosting-models#blazor-webassembly","app_type":"Application monopage","framework":".NET Core (Blazor WebAssembly)","tutorial_name":".NET Core (Blazor WebAssembly)"},"sidebar":"quickStartSidebar","previous":{"title":".NET Core (Blazor Server)","permalink":"/fr/quick-starts/dotnet-core/blazor-server"},"next":{"title":".NET Core (MVC)","permalink":"/fr/quick-starts/dotnet-core/mvc"}}');var r=s(25105),t=s(79621),o=s(62990),c=s(95719);const d=[...c.RM,{value:"Ajouter une ressource API \xe0 la configuration",id:"add-api-resource-to-configuration",level:3},{value:"Utiliser le jeton d\u2019acc\xe8s",id:"use-access-token",level:3}];function l(e){const n={a:"a",admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Par d\xe9faut, lorsque vous acc\xe9dez \xe0 ",(0,r.jsx)(n.code,{children:"User?.AccessToken"}),", vous obtenez un jeton opaque (Opaque token) qui a une longueur courte et n'est pas un JWT (JSON Web Token). Ce jeton est utilis\xe9 pour acc\xe9der \xe0 l'endpoint userinfo."]}),"\n",(0,r.jsx)(n.h3,{id:"add-api-resource-to-configuration",children:"Ajouter une ressource API \xe0 la configuration"}),"\n",(0,r.jsxs)(n.p,{children:["Afin d'obtenir un JWT pouvant \xeatre utilis\xe9 pour acc\xe9der \xe0 une ressource API (API resource) d\xe9finie dans Logto, ajoutez les param\xe8tres suivants au fichier ",(0,r.jsx)(n.code,{children:"appsettings.json"})," (en prenant ",(0,r.jsx)(n.code,{children:"https://my-api-resource"})," comme exemple) :"]}),"\n","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",metastring:'title="appsettings.json"',children:'{\n  // ...\n  "IdentityServer": {\n    // ...\n    // highlight-start\n    "Scope": "openid profile email <your-api-scopes>", // Ajoutez ici vos port\xe9es d\u2019API\n    "Resource": "https://my-api-resource",\n    "ExtraTokenParams": {\n        "resource": "https://my-api-resource" // Assurez-vous que la cl\xe9 "resource" est en minuscules\n    }\n    // highlight-end\n  }\n}\n'})}),"\n","\n",(0,r.jsxs)(n.p,{children:["La propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"Resource"})," est utilis\xe9e pour ajouter la ressource API (API resource) \xe0 la requ\xeate d'authentification. La propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"ExtraTokenParams"})," est utilis\xe9e pour ajouter la ressource API \xe0 la requ\xeate de jeton (token request). Puisque Logto est conforme \xe0 la ",(0,r.jsx)(n.a,{href:"https://tools.ietf.org/html/rfc8707",children:"RFC 8707"})," pour les ressources API, les deux propri\xe9t\xe9s sont requises."]}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsxs)(n.p,{children:["Puisque WebAssembly est une application c\xf4t\xe9 client, la requ\xeate de jeton (token request) ne sera envoy\xe9e au serveur qu'une seule fois. De ce fait, ",(0,r.jsx)(n.code,{children:"LoadUserInfo"})," est en conflit avec la r\xe9cup\xe9ration du jeton d\u2019acc\xe8s (Access token) pour les ressources API."]})}),"\n",(0,r.jsx)(n.h3,{id:"use-access-token",children:"Utiliser le jeton d\u2019acc\xe8s"}),"\n",(0,r.jsxs)(n.p,{children:["Une fois l'utilisateur authentifi\xe9, vous pouvez acc\xe9der \xe0 la ressource API (API resource) en utilisant la propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"User?.AccessToken"}),". Par exemple, vous pouvez utiliser le ",(0,r.jsx)(n.code,{children:"HttpClient"})," pour acc\xe9der \xe0 la ressource API :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:'using Blorc.OpenIdConnect;\n\nbuilder.Services\n    .AddHttpClient("MyApiResource", client =>\n    {\n        client.BaseAddress = new Uri("https://my-api-resource");\n    })\n    .AddAccessToken(); // Ajoute le jeton d\u2019acc\xe8s (Access token) \xe0 l\u2019en-t\xeate de la requ\xeate\n'})})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}var u=s(99225),h=s(17979),p=s(75934);const j=[{value:"Afficher les informations utilisateur",id:"display-user-information",level:3},{value:"Demander des revendications suppl\xe9mentaires",id:"request-additional-claims",level:3},...u.RM,...p.RM,{value:"Revendications n\xe9cessitant une requ\xeate r\xe9seau",id:"claims-that-need-network-request",level:3},{value:"Port\xe9es et revendications",id:"scopes-and-claims",level:3},...h.RM];function x(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"display-user-information",children:"Afficher les informations utilisateur"}),"\n",(0,r.jsxs)(n.p,{children:["Voici quelques exemples de la fa\xe7on d'afficher les informations utilisateur dans la page ",(0,r.jsx)(n.code,{children:"Home.razor"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cshtml",children:'<AuthorizeView>\n    <Authorized>\n        @* Vue connect\xe9e *@\n        @* ... *@\n        <p>Vous \xeates connect\xe9 en tant que @(@User?.Profile?.Name ?? "(nom inconnu)").</p>\n    </Authorized>\n    @* ... *@\n</AuthorizeView>\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Pour plus de propri\xe9t\xe9s et de revendications, consultez les classes ",(0,r.jsx)(n.code,{children:"User"})," et ",(0,r.jsx)(n.code,{children:"Profile"})," dans le package ",(0,r.jsx)(n.code,{children:"Blorc.OpenIdConnect"}),"."]}),"\n",(0,r.jsx)(n.h3,{id:"request-additional-claims",children:"Demander des revendications suppl\xe9mentaires"}),"\n",(0,r.jsx)(u.Ay,{method:"User"}),"\n",(0,r.jsx)(p.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Pour demander des port\xe9es suppl\xe9mentaires, vous pouvez ajouter des port\xe9es valides \xe0 la propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"IdentityServer.Scope"})," dans le fichier ",(0,r.jsx)(n.code,{children:"appsettings.json"}),"."]}),"\n","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",children:'{\n  // ...\n  "IdentityServer": {\n    // ...\n    // highlight-next-line\n    "Scope": "openid profile email phone"\n  }\n}\n'})}),"\n","\n",(0,r.jsx)(n.h3,{id:"claims-that-need-network-request",children:"Revendications n\xe9cessitant une requ\xeate r\xe9seau"}),"\n",(0,r.jsxs)(n.p,{children:["Pour \xe9viter de surcharger l'objet utilisateur, certaines revendications n\xe9cessitent des requ\xeates r\xe9seau pour \xeatre r\xe9cup\xe9r\xe9es. Par exemple, la revendication custom_data n'est pas incluse dans l'objet utilisateur m\xeame si elle est demand\xe9e dans les port\xe9es. Pour r\xe9cup\xe9rer ces revendications, vous pouvez d\xe9finir la propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"IdentityServer.LoadUserInfo"})," sur ",(0,r.jsx)(n.code,{children:"true"})," dans le fichier ",(0,r.jsx)(n.code,{children:"appsettings.json"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Par exemple, pour r\xe9cup\xe9rer l'adresse e-mail de l'utilisateur et les donn\xe9es personnalis\xe9es, vous pouvez utiliser la configuration suivante :"}),"\n","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json5",children:'{\n  // ...\n  "IdentityServer": {\n    // ...\n    // highlight-start\n    "Scope": "openid profile email custom_data",\n    "LoadUserInfo": true\n    // highlight-end\n  }\n}\n'})}),"\n","\n",(0,r.jsx)(n.h3,{id:"scopes-and-claims",children:"Port\xe9es et revendications"}),"\n",(0,r.jsx)(h.Ay,{})]})}function m(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}function g(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["La d\xe9monstration suivante est construite sur .NET Core 8.0 et ",(0,r.jsx)(n.a,{href:"https://github.com/WildGums/Blorc.OpenIdConnect",children:"Blorc.OpenIdConnect"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Les projets d'exemple .NET Core sont disponibles dans le ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/csharp",children:"r\xe9pertoire GitHub"}),"."]}),"\n"]})})}function f(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}function v(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Ajoutez le package NuGet \xe0 votre projet :"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Blorc.OpenIdConnect\n"})})]})}function b(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}var A=s(80173),z=s(87630),y=s(12446),C=s(50102),R=s(60348);const k=[{value:"Ajouter des r\xe9f\xe9rences de script",id:"add-script-references",level:3},{value:"Enregistrer les services",id:"register-services",level:3},{value:"Configurer les URIs de redirection",id:"configure-redirect-uris",level:3},...R.RM,...y.RM,...C.RM,{value:"Configurer l&#39;application",id:"configure-application",level:3},{value:"Ajouter le composant <code>AuthorizeView</code>",id:"add-authorizeview-component",level:3},{value:"Configurer l&#39;authentification (Authentication)",id:"set-up-authentication",level:3},...z.RM];function N(e){const n={admonition:"admonition",code:"code",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"add-script-references",children:"Ajouter des r\xe9f\xe9rences de script"}),"\n",(0,r.jsxs)(n.p,{children:["Inclure ",(0,r.jsx)(n.code,{children:"Blorc.Core/injector.js"})," dans le fichier ",(0,r.jsx)(n.code,{children:"index.html"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="index.html"',children:'<head>\n  \x3c!-- ... --\x3e\n  <script src="_content/Blorc.Core/injector.js"><\/script>\n  \x3c!-- ... --\x3e\n</head>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"register-services",children:"Enregistrer les services"}),"\n",(0,r.jsxs)(n.p,{children:["Ajoutez le code suivant au fichier ",(0,r.jsx)(n.code,{children:"Program.cs"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'using Blorc.OpenIdConnect;\nusing Blorc.Services;\n\nbuilder.Services.AddBlorcCore();\nbuilder.Services.AddAuthorizationCore();\nbuilder.Services.AddBlorcOpenIdConnect(\n    options =>\n    {\n        builder.Configuration.Bind("IdentityServer", options);\n    });\n\nvar webAssemblyHost = builder.Build();\n\nawait webAssemblyHost\n    .ConfigureDocumentAsync(async documentService =>\n    {\n        await documentService.InjectBlorcCoreJsAsync();\n        await documentService.InjectOpenIdConnectAsync();\n    });\n\nawait webAssemblyHost.RunAsync();\n'})}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsxs)(n.p,{children:["Il n'est pas n\xe9cessaire d'utiliser le package ",(0,r.jsx)(n.code,{children:"Microsoft.AspNetCore.Components.WebAssembly.Authentication"}),". Le package ",(0,r.jsx)(n.code,{children:"Blorc.OpenIdConnect"})," prendra en charge le processus d'authentification (Authentication)."]})}),"\n",(0,r.jsx)(n.h3,{id:"configure-redirect-uris",children:"Configurer les URIs de redirection"}),"\n",(0,r.jsx)(R.Ay,{}),"\n",(0,r.jsx)(y.Ay,{}),"\n",(0,r.jsx)(C.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"configure-application",children:"Configurer l'application"}),"\n",(0,r.jsxs)(n.p,{children:["Ajoutez le code suivant au fichier ",(0,r.jsx)(n.code,{children:"appsettings.json"})," :"]}),"\n",(0,r.jsx)(A.A,{language:"json5",title:"appsettings.json",children:`{\n// ...\nIdentityServer: {\n  Authority: 'https://<your-logto-endpoint>/oidc',\n  ClientId: '<your-logto-app-id>',\n  PostLogoutRedirectUri: '${C.Ip}',\n  RedirectUri: '${C.YF}',\n  ResponseType: 'code',\n  Scope: 'openid profile', // Ajoutez plus de port\xe9es (Port\xe9es) si n\xe9cessaire\n},\n}`}),"\n",(0,r.jsxs)(n.p,{children:["N'oubliez pas d'ajouter le ",(0,r.jsx)(n.code,{children:"RedirectUri"})," et le ",(0,r.jsx)(n.code,{children:"PostLogoutRedirectUri"})," \xe0 la liste des URIs de redirection autoris\xe9es dans les param\xe8tres de l'application Logto. Ce sont tous deux l'URL de votre application WASM."]}),"\n",(0,r.jsxs)(n.h3,{id:"add-authorizeview-component",children:["Ajouter le composant ",(0,r.jsx)(n.code,{children:"AuthorizeView"})]}),"\n",(0,r.jsxs)(n.p,{children:["Dans les pages Razor qui n\xe9cessitent une authentification (Authentication), ajoutez le composant ",(0,r.jsx)(n.code,{children:"AuthorizeView"}),". Supposons que ce soit la page ",(0,r.jsx)(n.code,{children:"Home.razor"})," :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cshtml",metastring:'title="Pages/Home.razor"',children:'@using Microsoft.AspNetCore.Components.Authorization\n@page "/"\n\n<AuthorizeView>\n    <Authorized>\n        @* Vue connect\xe9e *@\n        <button @onclick="OnLogoutButtonClickAsync">\n            Se d\xe9connecter\n        </button>\n    </Authorized>\n    <NotAuthorized>\n        @* Vue non authentifi\xe9e *@\n        <button @onclick="OnLoginButtonClickAsync">\n            Se connecter\n        </button>\n    </NotAuthorized>\n</AuthorizeView>\n'})}),"\n",(0,r.jsx)(n.h3,{id:"set-up-authentication",children:"Configurer l'authentification (Authentication)"}),"\n",(0,r.jsxs)(n.p,{children:["Dans le fichier ",(0,r.jsx)(n.code,{children:"Home.razor.cs"})," (cr\xe9ez-le s'il n'existe pas), ajoutez le code suivant :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Pages/Home.razor.cs"',children:"using Microsoft.AspNetCore.Authorization;\nusing Microsoft.AspNetCore.Components;\nusing Microsoft.AspNetCore.Components.Web;\nusing Blorc.OpenIdConnect;\nusing Microsoft.AspNetCore.Components.Authorization;\n\n[Authorize]\npublic partial class Home : ComponentBase\n{\n    [Inject]\n    public required IUserManager UserManager { get; set; }\n\n    public User<Profile>? User { get; set; }\n\n    [CascadingParameter]\n    protected Task<AuthenticationState>? AuthenticationStateTask { get; set; }\n\n    protected override async Task OnInitializedAsync()\n    {\n        User = await UserManager.GetUserAsync<User<Profile>>(AuthenticationStateTask!);\n    }\n\n    private async Task OnLoginButtonClickAsync(MouseEventArgs obj)\n    {\n        await UserManager.SignInRedirectAsync();\n    }\n\n    private async Task OnLogoutButtonClickAsync(MouseEventArgs obj)\n    {\n        await UserManager.SignOutRedirectAsync();\n    }\n}\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Une fois que l'utilisateur est authentifi\xe9, la propri\xe9t\xe9 ",(0,r.jsx)(n.code,{children:"User"})," sera remplie avec les informations de l'utilisateur."]}),"\n",(0,r.jsx)(z.Ay,{})]})}function I(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(N,{...e})}):N(e)}const L={slug:"/quick-starts/dotnet-core/blazor-wasm",sidebar_label:".NET Core (Blazor WASM)",sidebar_custom_props:{logoFilename:"dotnet-blazor.svg",description:"Int\xe9grez Logto dans votre application .NET Core Blazor WebAssembly."},language:"c#",official_link:"https://learn.microsoft.com/en-us/aspnet/core/blazor/hosting-models#blazor-webassembly",app_type:"Application monopage",framework:".NET Core (Blazor WebAssembly)",tutorial_name:".NET Core (Blazor WebAssembly)"},q="Ajoutez l\u2019authentification \xe0 votre application .NET Core (Blazor WASM)",w={},P=[{value:"Pr\xe9requis",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Int\xe9gration",id:"integration",level:2},...k,{value:"Obtenir des informations sur l&#39;utilisateur",id:"get-user-information",level:2},...j,{value:"Ressources API",id:"api-resources",level:2},...d,{value:"Lectures compl\xe9mentaires",id:"further-readings",level:2},...o.RM];function B(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ajoutez-lauthentification-\xe0-votre-application-net-core-blazor-wasm",children:"Ajoutez l\u2019authentification \xe0 votre application .NET Core (Blazor WASM)"})}),"\n",(0,r.jsx)(f,{}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Pr\xe9requis"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Un compte ",(0,r.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou un ",(0,r.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-h\xe9berg\xe9"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Une application monopage Logto cr\xe9\xe9e."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(b,{}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Int\xe9gration"}),"\n",(0,r.jsx)(I,{}),"\n",(0,r.jsx)(n.h2,{id:"get-user-information",children:"Obtenir des informations sur l'utilisateur"}),"\n",(0,r.jsx)(m,{}),"\n",(0,r.jsx)(n.h2,{id:"api-resources",children:"Ressources API"}),"\n",(0,r.jsx)(a,{}),"\n",(0,r.jsx)(n.h2,{id:"further-readings",children:"Lectures compl\xe9mentaires"}),"\n",(0,r.jsx)(o.Ay,{})]})}function _(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(B,{...e})}):B(e)}},55138:(e,n,s)=>{s.d(n,{A:()=>x});var i=s(28259),r=s(6097),t=s(58574),o=s(9484),c=s(76566),d=s(26346),l=s(17867),a=s(17510),u=s(13526),h=s(72355);const p={codeBlockContent:"codeBlockContent_m3Ux",codeBlockTitle:"codeBlockTitle_P25_",codeBlock:"codeBlock_qGQc",codeBlockStandalone:"codeBlockStandalone_zC50",codeBlockLines:"codeBlockLines_p187",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_OFgW",buttonGroup:"buttonGroup_6DOT"};var j=s(25105);function x(e){let{children:n,className:s="",metastring:x,title:m,showLineNumbers:g,language:f}=e;const{prism:{defaultLanguage:v,magicComments:b}}=(0,i.p)(),A=function(e){return e?.toLowerCase()}(f??(0,t.Op)(s)??v),z=(0,r.A)(),y=(0,o.f)(),C=(0,t.wt)(x)||m,{lineClassNames:R,code:k}=(0,t.Li)(n,{metastring:x,language:A,magicComments:b}),N=g??(0,t._u)(x);return(0,j.jsxs)(c.A,{as:"div",className:(0,u.A)(s,A&&!s.includes(`language-${A}`)&&`language-${A}`),children:[C&&(0,j.jsx)("div",{className:p.codeBlockTitle,children:C}),(0,j.jsxs)("div",{className:p.codeBlockContent,children:[(0,j.jsx)(h.f4,{theme:z,code:k,language:A??"text",children:e=>{let{className:n,tokens:s,getLineProps:i,getTokenProps:r}=e;return(0,j.jsx)("pre",{ref:y.codeBlockRef,tabIndex:0,className:(0,u.A)(n,p.codeBlock,"thin-scrollbar"),children:(0,j.jsx)("code",{className:(0,u.A)(p.codeBlockLines,N&&p.codeBlockLinesWithNumbering),children:s.map(((e,n)=>(0,j.jsx)(l.A,{line:e,getLineProps:i,getTokenProps:r,classNames:R[n],showLineNumbers:N},n)))})})}}),(0,j.jsxs)("div",{className:p.buttonGroup,children:[(y.isEnabled||y.isCodeScrollable)&&(0,j.jsx)(a.A,{className:p.codeButton,isEnabled:y.isEnabled,onClick:()=>{y.toggle()}}),(0,j.jsx)(d.A,{className:p.codeButton,code:k})]})]})]})}}}]);