"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4005],{95719:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Nous vous recommandons de lire d'abord ",(0,i.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Contr\xf4le d\u2019acc\xe8s bas\xe9 sur les r\xf4les (RBAC)"})," pour comprendre les concepts de base de Logto RBAC et comment configurer correctement les ressources API."]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},87630:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[{value:"Point de contr\xf4le : Testez votre application",id:"checkpoint-test-your-application",level:3}];function o(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Point de contr\xf4le : Testez votre application"}),"\n",(0,i.jsx)(n.p,{children:"Maintenant, vous pouvez tester votre application :"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ex\xe9cutez votre application, vous verrez le bouton de connexion."}),"\n",(0,i.jsx)(n.li,{children:"Cliquez sur le bouton de connexion, le SDK initiera le processus de connexion et vous redirigera vers la page de connexion Logto."}),"\n",(0,i.jsx)(n.li,{children:"Apr\xe8s vous \xeatre connect\xe9, vous serez redirig\xe9 vers votre application et verrez le bouton de d\xe9connexion."}),"\n",(0,i.jsx)(n.li,{children:"Cliquez sur le bouton de d\xe9connexion pour effacer le stockage des jetons et vous d\xe9connecter."}),"\n"]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},3213:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[{value:"Revendications n\xe9cessitant des requ\xeates r\xe9seau",id:"claims-that-need-network-requests",level:3}];function o(e){const n={code:"code",h3:"h3",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,i.jsx)(n.h3,{id:"claims-that-need-network-requests",children:"Revendications n\xe9cessitant des requ\xeates r\xe9seau"}),"\n",(0,i.jsxs)(n.p,{children:["Pour \xe9viter de surcharger le jeton d\u2019identifiant (ID token), certaines revendications n\xe9cessitent des requ\xeates r\xe9seau pour \xeatre r\xe9cup\xe9r\xe9es. Par exemple, la revendication ",(0,i.jsx)(n.code,{children:"custom_data"})," n'est pas incluse dans l'objet utilisateur m\xeame si elle est demand\xe9e dans les port\xe9es. Pour acc\xe9der \xe0 ces revendications, ",(0,i.jsxs)("span",{children:["method"===e.type&&(0,i.jsxs)(i.Fragment,{children:["vous pouvez utiliser la m\xe9thode ",(0,i.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,i.jsxs)(i.Fragment,{children:["vous pouvez configurer l'option ",(0,i.jsx)("code",{children:e.configOption})]})]})," :"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,i.jsxs)(i.Fragment,{children:["Cette m\xe9thode r\xe9cup\xe9rera les informations de l'utilisateur en faisant une requ\xeate \xe0 l'"," ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"}),". Pour en savoir plus sur les port\xe9es et revendications disponibles, consultez la section"," ",(0,i.jsx)("a",{href:"#scopes-and-claims",children:"Port\xe9es et revendications"}),"."]}),"\n","option"===e.type&&(0,i.jsxs)(i.Fragment,{children:["En configurant ",(0,i.jsx)("code",{children:e.configOption}),", le SDK r\xe9cup\xe9rera les informations de l'utilisateur en faisant une requ\xeate \xe0 l'"," ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"})," ","apr\xe8s que l'utilisateur se soit connect\xe9, et ",(0,i.jsx)("code",{children:e.value??"user.custom_data"})," sera disponible une fois la requ\xeate termin\xe9e."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},38235:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Une fois que vous avez configur\xe9 les ressources API, vous pouvez les ajouter lors de la configuration de Logto dans votre application :"}),"\n",e.configResourcesCode,"\n",(0,i.jsx)(n.p,{children:"Chaque ressource API a ses propres permissions (port\xe9es)."}),"\n",(0,i.jsxs)(n.p,{children:["Par exemple, la ressource ",(0,i.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," a les permissions ",(0,i.jsx)(n.code,{children:"shopping:read"})," et ",(0,i.jsx)(n.code,{children:"shopping:write"}),", et la ressource ",(0,i.jsx)(n.code,{children:"https://store.your-app.com/api"})," a les permissions ",(0,i.jsx)(n.code,{children:"store:read"})," et ",(0,i.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Pour demander ces permissions, vous pouvez les ajouter lors de la configuration de Logto dans votre application :"}),"\n",e.configResourcesWithScopesCode,"\n",(0,i.jsxs)(n.p,{children:["Vous pouvez remarquer que les port\xe9es sont d\xe9finies s\xe9par\xe9ment des ressources API. Cela est d\xfb au fait que les ",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Indicateurs de ressource pour OAuth 2.0"})," sp\xe9cifient que les port\xe9es finales pour la requ\xeate seront le produit cart\xe9sien de toutes les port\xe9es de tous les services cibles."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["Ainsi, dans le cas ci-dessus, les port\xe9es peuvent \xeatre simplifi\xe9es \xe0 partir de la d\xe9finition dans Logto, les deux ressources API peuvent avoir les port\xe9es ",(0,i.jsx)("code",{children:"read"})," et ",(0,i.jsx)("code",{children:"write"})," ","sans le pr\xe9fixe. Ensuite, dans la configuration de Logto :"]}),e.configResourcesWithSharedScopesCode,(0,i.jsxs)("p",{children:["Pour chaque ressource API, il demandera \xe0 la fois les port\xe9es ",(0,i.jsx)("code",{children:"read"})," et"," ",(0,i.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Il est acceptable de demander des port\xe9es qui ne sont pas d\xe9finies dans les ressources API. Par exemple, vous pouvez demander la port\xe9e ",(0,i.jsx)(n.code,{children:"email"})," m\xeame si les ressources API n'ont pas la port\xe9e ",(0,i.jsx)(n.code,{children:"email"})," disponible. Les port\xe9es non disponibles seront ignor\xe9es en toute s\xe9curit\xe9."]})}),"\n",(0,i.jsx)(n.p,{children:"Apr\xe8s une connexion r\xe9ussie, Logto \xe9mettra les port\xe9es appropri\xe9es aux ressources API en fonction des r\xf4les de l'utilisateur."})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},75254:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Passons \xe0 la page des d\xe9tails de l'application de Logto Console. Ajoutez une URI de redirection ",(0,i.jsx)("code",{children:e.redirectUri}),' et cliquez sur "Enregistrer les modifications".']}),"\n",(0,i.jsx)("img",{alt:"URI de redirection dans Logto Console",src:e.figureSrc,width:"600px"})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},99156:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Pour r\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour une ressource API sp\xe9cifique, vous pouvez utiliser la m\xe9thode ",(0,i.jsx)("code",{children:e.getAccessTokenApi})," :"]}),"\n",e.getAccessTokenCode,"\n",(0,i.jsx)(n.p,{children:"Cette m\xe9thode renverra un jeton d\u2019acc\xe8s JWT qui peut \xeatre utilis\xe9 pour acc\xe9der \xe0 la ressource API lorsque l\u2019utilisateur a les Permissions associ\xe9es. Si le jeton d\u2019acc\xe8s mis en cache actuel a expir\xe9, cette m\xe9thode essaiera automatiquement d\u2019utiliser un jeton de rafra\xeechissement pour obtenir un nouveau jeton d\u2019acc\xe8s."})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},41366:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Si l'Organisation est nouvelle pour vous, veuillez lire ",(0,i.jsx)(n.a,{href:"/organizations",children:"\ud83c\udfe2 Organisations (Multi-tenancy)"})," pour commencer."]}),"\n",(0,i.jsxs)(n.p,{children:["Vous devez ajouter la port\xe9e ",(0,i.jsx)("code",{children:e.organizationScope})," lors de la configuration du client Logto :"]}),"\n",e.configOrganizationCode,"\n",(0,i.jsx)(n.p,{children:"Une fois l'utilisateur connect\xe9, vous pouvez r\xe9cup\xe9rer le jeton d\u2019organisation pour l'utilisateur :"}),"\n",e.getOrganizationAccessTokenCode]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},99225:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Il se peut que certaines informations utilisateur soient manquantes dans l'objet retourn\xe9 par ",(0,i.jsx)("code",{children:e.method}),". Cela est d\xfb au fait que OAuth 2.0 et OpenID Connect (OIDC) sont con\xe7us pour suivre le principe du moindre privil\xe8ge (PoLP), et Logto est construit sur ces normes."]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},62990:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" Parcours utilisateur final : flux d\u2019authentification, flux de compte et flux d\u2019organisation "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" Configurer les connecteurs "}),"\n",(0,i.jsx)(n,{href:"/authorization",children:" Autorisation (Authorization) "})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},42142:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[{value:"Concernant la connexion bas\xe9e sur la redirection",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:t,MainSiteUrl:s}=n;return t||d("Details",!0),s||d("MainSiteUrl",!0),(0,i.jsxs)(t,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Concernant la connexion bas\xe9e sur la redirection"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Ce processus d'authentification (Authentication) suit le protocole ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", et Logto applique des mesures de s\xe9curit\xe9 strictes pour prot\xe9ger la connexion utilisateur."]}),"\n",(0,i.jsx)(n.li,{children:"Si vous avez plusieurs applications, vous pouvez utiliser le m\xeame fournisseur d\u2019identit\xe9 (Logto). Une fois que l'utilisateur se connecte \xe0 une application, Logto compl\xe9tera automatiquement le processus de connexion lorsque l'utilisateur acc\xe8de \xe0 une autre application."}),"\n"]}),(0,i.jsxs)(n.p,{children:["Pour en savoir plus sur la logique et les avantages de la connexion bas\xe9e sur la redirection, consultez ",(0,i.jsx)(s,{href:"/concepts/sign-in-experience",children:"Exp\xe9rience de connexion Logto expliqu\xe9e"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function d(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},28730:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Voici la liste des port\xe9es prises en charge et les revendications correspondantes :"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"L'identifiant unique de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le nom complet de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le nom d'utilisateur de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"URL de la photo de profil de l'utilisateur final. Cette URL DOIT faire r\xe9f\xe9rence \xe0 un fichier image (par exemple, un fichier PNG, JPEG ou GIF), plut\xf4t qu'\xe0 une page Web contenant une image. Notez que cette URL DOIT sp\xe9cifiquement r\xe9f\xe9rencer une photo de profil de l'utilisateur final adapt\xe9e \xe0 l'affichage lors de la description de l'utilisateur final, plut\xf4t qu'une photo arbitraire prise par l'utilisateur final."}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Heure \xe0 laquelle l'utilisateur final a \xe9t\xe9 cr\xe9\xe9. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes \xe9coul\xe9es depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Heure \xe0 laquelle les informations de l'utilisateur final ont \xe9t\xe9 mises \xe0 jour pour la derni\xe8re fois. Le temps est repr\xe9sent\xe9 comme le nombre de millisecondes \xe9coul\xe9es depuis l'\xe9poque Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["D'autres ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"revendications standard"})," incluent ",(0,i.jsx)(n.code,{children:"family_name"}),", ",(0,i.jsx)(n.code,{children:"given_name"}),", ",(0,i.jsx)(n.code,{children:"middle_name"}),", ",(0,i.jsx)(n.code,{children:"nickname"}),", ",(0,i.jsx)(n.code,{children:"preferred_username"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", ",(0,i.jsx)(n.code,{children:"website"}),", ",(0,i.jsx)(n.code,{children:"gender"}),", ",(0,i.jsx)(n.code,{children:"birthdate"}),", ",(0,i.jsx)(n.code,{children:"zoneinfo"}),", et ",(0,i.jsx)(n.code,{children:"locale"})," seront \xe9galement incluses dans la port\xe9e ",(0,i.jsx)(n.code,{children:"profile"})," sans avoir besoin de demander le point de terminaison userinfo. Une diff\xe9rence par rapport aux revendications ci-dessus est que ces revendications ne seront renvoy\xe9es que lorsque leurs valeurs ne sont pas vides, tandis que les revendications ci-dessus renverront ",(0,i.jsx)(n.code,{children:"null"})," si les valeurs sont vides."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Contrairement aux revendications standard, les revendications ",(0,i.jsx)(n.code,{children:"created_at"})," et ",(0,i.jsx)(n.code,{children:"updated_at"})," utilisent des millisecondes au lieu de secondes."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"L'adresse e-mail de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si l'adresse e-mail a \xe9t\xe9 v\xe9rifi\xe9e"}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"Le num\xe9ro de t\xe9l\xe9phone de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Si le num\xe9ro de t\xe9l\xe9phone a \xe9t\xe9 v\xe9rifi\xe9"}),(0,i.jsx)(n.td,{children:"Non"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["Veuillez vous r\xe9f\xe9rer \xe0 ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," pour les d\xe9tails de la revendication d'adresse."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Les donn\xe9es personnalis\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Les identit\xe9s li\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"Les identit\xe9s SSO li\xe9es de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Les r\xf4les de l'utilisateur"}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Les identifiants d'organisation auxquels l'utilisateur appartient"}),(0,i.jsx)(n.td,{children:"Non"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"Les donn\xe9es d'organisation auxquelles l'utilisateur appartient"}),(0,i.jsx)(n.td,{children:"Oui"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nom de la revendication"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"}),(0,i.jsx)(n.th,{children:"Besoin de userinfo ?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["Les r\xf4les d'organisation auxquels l'utilisateur appartient avec le format ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"Non"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:['En consid\xe9rant la performance et la taille des donn\xe9es, si "Besoin de userinfo ?" est "Oui", cela signifie que la revendication n\'appara\xeetra pas dans le jeton d\u2019identifiant, mais sera renvoy\xe9e dans la r\xe9ponse du ',(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"point de terminaison userinfo"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},17979:(e,n,t)=>{t.d(n,{Ay:()=>d,RM:()=>o});var i=t(25105),r=t(79621),s=t(28730);const o=[...s.RM];function l(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Logto utilise les conventions de ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"port\xe9es et revendications"})," OIDC pour d\xe9finir les Port\xe9es et Revendications pour r\xe9cup\xe9rer les informations utilisateur \xe0 partir du Jeton d\u2019identifiant et du point de terminaison OIDC ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo"}),'. Les termes "Port\xe9e" et "Revendication" proviennent des sp\xe9cifications OAuth 2.0 et OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"En bref, lorsque vous demandez une Port\xe9e, vous obtiendrez les Revendications correspondantes dans les informations utilisateur. Par exemple, si vous demandez la port\xe9e `email`, vous obtiendrez les donn\xe9es `email` et `email_verified` de l'utilisateur."}),(0,i.jsx)("p",{children:"Par d\xe9faut, le SDK Logto demandera toujours trois Port\xe9es : `openid`, `profile` et `offline_access`, et il n'est pas possible de supprimer ces Port\xe9es par d\xe9faut. Mais vous pouvez ajouter plus de Port\xe9es lors de la configuration de Logto :"}),e.configScopesCode]}),"\n",(0,i.jsx)(s.Ay,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},75934:(e,n,t)=>{t.d(n,{Ay:()=>l,RM:()=>s});var i=t(25105),r=t(79621);const s=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Par d\xe9faut, des revendications limit\xe9es sont retourn\xe9es. Si vous avez besoin de plus d'informations, vous pouvez demander des port\xe9es suppl\xe9mentaires pour acc\xe9der \xe0 plus de revendications."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:'Une "revendication" est une affirmation faite \xe0 propos d\'un sujet ; une "port\xe9e" est un groupe de revendications. Dans le cas actuel, une revendication est une information sur l\'utilisateur.'})}),"\n",(0,i.jsx)(n.p,{children:"Voici un exemple non normatif de la relation port\xe9e - revendication :"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"La revendication \"sub\" signifie \"sujet\", qui est l'identifiant unique de l'utilisateur (c'est-\xe0-dire l'ID utilisateur)."})}),"\n",(0,i.jsxs)(n.p,{children:["Le SDK Logto demandera toujours trois port\xe9es : ",(0,i.jsx)(n.code,{children:"openid"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", et ",(0,i.jsx)(n.code,{children:"offline_access"}),"."]})]})}function l(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},60348:(e,n,t)=>{t.d(n,{Ay:()=>d,RM:()=>o});var i=t(25105),r=t(79621),s=t(42142);const o=[...s.RM];function l(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Avant de plonger dans les d\xe9tails, voici un aper\xe7u rapide de l'Exp\xe9rience utilisateur. Le processus de connexion peut \xeatre simplifi\xe9 comme suit :"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(Votre application) --\x3e|1. Lancer la connexion| B(Logto)\n    B --\x3e|2. Terminer la connexion| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Votre application lance la m\xe9thode de connexion."}),"\n",(0,i.jsx)(n.li,{children:"L'utilisateur est redirig\xe9 vers la page de connexion Logto. Pour les applications natives, le navigateur syst\xe8me est ouvert."}),"\n",(0,i.jsx)(n.li,{children:"L'utilisateur se connecte et est redirig\xe9 vers votre application (configur\xe9e comme l'URI de redirection)."}),"\n"]}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},79503:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>oe,contentTitle:()=>se,default:()=>ae,frontMatter:()=>re,metadata:()=>i,toc:()=>le});const i=JSON.parse('{"id":"quick-starts/framework/flutter/README","title":"Ajoutez l\u2019authentification \xe0 votre application Flutter","description":"Ce tutoriel vous montrera comment int\xe9grer Logto dans votre application Flutter.","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","sourceDirName":"quick-starts/framework/flutter","slug":"/quick-starts/flutter","permalink":"/fr/quick-starts/flutter","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/flutter","sidebar_label":"Flutter","sidebar_custom_props":{"description":"Flutter est un framework pour cr\xe9er des applications mobiles hybrides."},"language":"dart","official_link":"https://flutter.dev","app_type":"Native app","framework":"Flutter"},"sidebar":"quickStartSidebar","previous":{"title":"Express","permalink":"/fr/quick-starts/express"},"next":{"title":"FlutterFlow","permalink":"/fr/quick-starts/flutter-flow"}}');var r=t(25105),s=t(79621),o=t(62990),l=t(95719),d=t(38235),a=t(99156);function c(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"Future<Jeton d\u2019acc\xe8s?> getAccessToken(String resource) async {\n  var token = await logtoClient.getAccessToken(resource: resource);\n\n  return token;\n}\n"})})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}function p(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // Ajoutez vos ressources API\n  // highlight-start\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // highlight-end\n);\n'})})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}function x(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Ajoutez les port\xe9es de vos ressources API\n  // highlight-start\n  scopes: ["shopping:read", "shopping:write", "store:read", "store:write"]\n  // highlight-end\n);\n'})})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}function m(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Port\xe9es partag\xe9es par toutes les ressources\n  // highlight-start\n  scopes: ["read", "write"]\n  // highlight-end\n);\n'})})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}const f=[...l.RM,{value:"Configurer le client Logto",id:"configure-logto-client",level:3},...d.RM,{value:"R\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour la ressource API",id:"fetch-access-token-for-the-api-resource",level:3},...a.RM];function v(e){const n={h3:"h3",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(l.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"configure-logto-client",children:"Configurer le client Logto"}),"\n",(0,r.jsx)(d.Ay,{configResourcesCode:(0,r.jsx)(h,{}),configResourcesWithScopesCode:(0,r.jsx)(j,{}),configResourcesWithSharedScopesCode:(0,r.jsx)(g,{})}),"\n",(0,r.jsx)(n.h3,{id:"fetch-access-token-for-the-api-resource",children:"R\xe9cup\xe9rer le jeton d\u2019acc\xe8s pour la ressource API"}),"\n",(0,r.jsx)(a.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,r.jsx)(u,{})})]})}function b(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}function y(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"sdk-version-compatibility",children:"Compatibilit\xe9 des versions SDK"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Version Logto SDK"}),(0,r.jsx)(n.th,{children:"Version Dart SDK"}),(0,r.jsx)(n.th,{children:"Compatible avec Dart 3.0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"< 2.0.0"}),(0,r.jsx)(n.td,{children:">= 2.17.6 < 3.0.0"}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">= 2.0.0 < 3.0.0"}),(0,r.jsx)(n.td,{children:">= 3.0.0"}),(0,r.jsx)(n.td,{children:"true"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">= 3.0.0"}),(0,r.jsx)(n.td,{children:">= 3.6.0"}),(0,r.jsx)(n.td,{children:"true"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"flutter_secure_storage-set-up",children:"Configuration de flutter_secure_storage"}),"\n",(0,r.jsxs)(n.p,{children:["Sous le capot, ce SDK utilise ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage",children:"flutter_secure_storage"})," pour impl\xe9menter le stockage s\xe9curis\xe9 persistant de jetons multiplateforme."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keychain est utilis\xe9 pour iOS"}),"\n",(0,r.jsx)(n.li,{children:"Le chiffrement AES est utilis\xe9 pour Android."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"config-android-version",children:"Configurer la version Android"}),"\n",(0,r.jsxs)(n.p,{children:["D\xe9finissez android",":minSdkVersion"," \xe0 ",(0,r.jsx)(n.code,{children:">= 18"})," dans le fichier ",(0,r.jsx)(n.code,{children:"android/app/build.gradle"})," de votre projet."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",metastring:'title="build.gradle"',children:"  android {\n      ...\n\n      defaultConfig {\n          ...\n          minSdkVersion 18\n          ...\n      }\n  }\n"})}),"\n",(0,r.jsx)(n.h4,{id:"disable-auto-backup-on-android",children:"D\xe9sactiver la sauvegarde automatique sur Android"}),"\n",(0,r.jsxs)(n.p,{children:["Par d\xe9faut, Android sauvegarde les donn\xe9es sur Google Drive. Cela peut provoquer l'exception ",(0,r.jsx)(n.code,{children:"java.security.InvalidKeyException:Failed"})," \xe0 d\xe9baller la cl\xe9. Pour \xe9viter cela,"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Pour d\xe9sactiver la sauvegarde automatique, allez dans le fichier manifeste de votre application et d\xe9finissez les attributs ",(0,r.jsx)(n.code,{children:"android:allowBackup"})," et ",(0,r.jsx)(n.code,{children:"android:fullBackupContent"})," \xe0 ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<manifest ... >\n    ...\n    <application\n      android:allowBackup="false"\n      android:fullBackupContent="false"\n      ...\n    >\n        ...\n    </application>\n</manifest>\n\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Exclure ",(0,r.jsx)(n.code,{children:"sharedprefs"})," de ",(0,r.jsx)(n.code,{children:"FlutterSecureStorage"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Si vous devez conserver ",(0,r.jsx)(n.code,{children:"android:fullBackupContent"})," pour votre application plut\xf4t que de le d\xe9sactiver, vous pouvez exclure le r\xe9pertoire ",(0,r.jsx)(n.code,{children:"sharedprefs"})," de la sauvegarde.\nVoir plus de d\xe9tails dans la ",(0,r.jsx)(n.a,{href:"https://developer.android.com/identity/data/autobackup#IncludingFiles",children:"documentation Android"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Dans votre fichier AndroidManifest.xml, ajoutez l'attribut android",":fullBackupContent"," \xe0 l'\xe9l\xe9ment ",(0,r.jsx)(n.code,{children:"<application>"}),", comme montr\xe9 dans l'exemple suivant. Cet attribut pointe vers un fichier XML qui contient les r\xe8gles de sauvegarde."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<application ...\n  android:fullBackupContent="@xml/backup_rules">\n</application>\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Cr\xe9ez un fichier XML appel\xe9 ",(0,r.jsx)(n.code,{children:"@xml/backup_rules"})," dans le r\xe9pertoire ",(0,r.jsx)(n.code,{children:"res/xml/"}),". Dans ce fichier, ajoutez des r\xe8gles avec les \xe9l\xe9ments ",(0,r.jsx)(n.code,{children:"<include>"})," et ",(0,r.jsx)(n.code,{children:"<exclude>"}),". L'exemple suivant sauvegarde toutes les pr\xe9f\xe9rences partag\xe9es sauf device.xml :"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="@xml/backup_rules"',children:'<?xml version="1.0" encoding="utf-8"?>\n<full-backup-content>\n  <exclude domain="sharedpref" path="FlutterSecureStorage"/>\n</full-backup-content>\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Veuillez consulter ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage#configure-android-version",children:"flutter_secure_storage"})," pour plus de d\xe9tails."]}),"\n",(0,r.jsx)(n.h3,{id:"flutter_web_auth_2-set-up",children:"Configuration de flutter_web_auth_2"}),"\n",(0,r.jsxs)(n.p,{children:["En coulisses, ce SDK utilise ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2",children:"flutter_web_auth_2"})," pour authentifier les utilisateurs avec Logto. Ce package fournit un moyen simple d'authentifier les utilisateurs avec Logto en utilisant le webview syst\xe8me ou le navigateur."]}),"\n",(0,r.jsxs)(n.p,{children:["Ce plugin utilise ",(0,r.jsx)(n.code,{children:"ASWebAuthenticationSession"})," sur iOS 12+ et macOS 10.15+, ",(0,r.jsx)(n.code,{children:"SFAuthenticationSession"})," sur iOS 11, ",(0,r.jsx)(n.code,{children:"Chrome Custom Tabs"})," sur Android et ouvre une nouvelle fen\xeatre sur le Web."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"iOS : Aucune configuration suppl\xe9mentaire requise"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Android : Enregistrer l'URL de rappel sur Android"}),"\n",(0,r.jsxs)(n.p,{children:["Afin de capturer l'URL de rappel depuis la page de connexion de Logto, vous devrez enregistrer votre redirectUri de connexion dans votre fichier ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'  <manifest>\n    <application>\n        <activity\n          android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n          android:exported="true">\n          <intent-filter android:label="flutter_web_auth_2">\n          <action android:name="android.intent.action.VIEW" />\n          <category android:name="android.intent.category.DEFAULT" />\n          <category android:name="android.intent.category.BROWSABLE" />\n          <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n          </intent-filter>\n        </activity>\n    </application>\n  </manifest>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Navigateur Web : Cr\xe9er un point de terminaison pour g\xe9rer l'URL de rappel"}),"\n",(0,r.jsxs)(n.p,{children:["Si vous utilisez la plateforme web, vous devez cr\xe9er un point de terminaison pour g\xe9rer l'URL de rappel et la renvoyer \xe0 l'application en utilisant l'API ",(0,r.jsx)(n.code,{children:"postMessage"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="callback.html"',children:"<!doctype html>\n<title>Authentification termin\xe9e</title>\n<p>\n  L'authentification est termin\xe9e. Si cela ne se produit pas automatiquement, veuillez fermer la\n  fen\xeatre.\n</p>\n<script>\n  function postAuthenticationMessage() {\n    const message = {\n      'flutter-web-auth-2': window.location.href,\n    };\n\n    if (window.opener) {\n      window.opener.postMessage(message, window.location.origin);\n      window.close();\n    } else if (window.parent && window.parent !== window) {\n      window.parent.postMessage(message, window.location.origin);\n    } else {\n      localStorage.setItem('flutter-web-auth-2', window.location.href);\n      window.close();\n    }\n  }\n\n  postAuthenticationMessage();\n<\/script>\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Veuillez consulter le guide de configuration dans le package ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2#setup",children:"flutter_web_auth_2"})," pour plus de d\xe9tails."]})]})}function A(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(y,{...e})}):y(e)}var _=t(3213),C=t(99225),w=t(17979),R=t(75934);function S(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userClaims = await logtoClient.idTokenClaims;\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obtenir les informations de l\u2019utilisateur'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Mon application de d\xe9monstration'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function k(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(S,{...e})}):S(e)}function L(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userInfo = await logtoClient.getUserInfo();\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obtenir les informations de l\u2019utilisateur'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Mon application de d\xe9monstration'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function z(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(L,{...e})}):L(e)}function I(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: ["email", "phone"],\n  // highlight-end\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Nous fournissons \xe9galement une \xe9num\xe9ration int\xe9gr\xe9e ",(0,r.jsx)(n.code,{children:"LogtoUserScope"})," dans le package SDK pour vous aider \xe0 utiliser les port\xe9es pr\xe9d\xe9finies."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScope.email.value, LogtoUserScope.phone.value],\n  // highlight-end\n);\n'})})]})}function q(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(I,{...e})}):I(e)}const M=[{value:"Afficher les informations de l&#39;utilisateur",id:"display-user-information",level:3},{value:"Demander des revendications suppl\xe9mentaires",id:"request-additional-claims",level:3},...C.RM,...R.RM,..._.RM,{value:"Port\xe9es et revendications",id:"scopes-and-claims",level:3},...w.RM];function P(e){const n={code:"code",h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"display-user-information",children:"Afficher les informations de l'utilisateur"}),"\n",(0,r.jsxs)(n.p,{children:["Pour afficher les informations de l'utilisateur, vous pouvez utiliser le getter ",(0,r.jsx)(n.code,{children:"logtoClient.idTokenClaims"}),". Par exemple, dans une application Flutter :"]}),"\n",(0,r.jsx)(k,{}),"\n",(0,r.jsx)(n.h3,{id:"request-additional-claims",children:"Demander des revendications suppl\xe9mentaires"}),"\n",(0,r.jsx)(C.Ay,{method:"client.idTokenClaims"}),"\n",(0,r.jsx)(R.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Pour demander des port\xe9es suppl\xe9mentaires, vous pouvez passer les port\xe9es \xe0 l'objet ",(0,r.jsx)(n.code,{children:"LogtoConfig"}),". Par exemple :"]}),"\n",(0,r.jsx)(q,{}),"\n",(0,r.jsx)(_.Ay,{type:"method",method:"logtoClient.getUserInfo()",codeSnippet:(0,r.jsx)(z,{})}),"\n",(0,r.jsx)(n.h3,{id:"scopes-and-claims",children:"Port\xe9es et revendications"}),"\n",(0,r.jsx)(w.Ay,{})]})}function D(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(P,{...e})}):P(e)}var T=t(38552),N=t(22002);function U(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(N.A,{children:[(0,r.jsxs)(T.A,{value:"pub",label:"pub.dev",children:[(0,r.jsxs)(n.p,{children:["Vous pouvez installer le ",(0,r.jsx)(n.code,{children:"logto_dart_sdk package"})," directement en utilisant le gestionnaire de paquets pub. Ex\xe9cutez la commande suivante \xe0 la racine de votre projet :"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter pub add logto_dart_sdk\n"})}),(0,r.jsxs)(n.p,{children:["Ou ajoutez ce qui suit \xe0 votre fichier ",(0,r.jsx)(n.code,{children:"pubspec.yaml"})," :"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),(0,r.jsx)(n.p,{children:"Puis ex\xe9cutez :"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter pub get\n"})})]}),(0,r.jsxs)(T.A,{value:"github",label:"GitHub",children:[(0,r.jsx)(n.p,{children:"Si vous pr\xe9f\xe9rez forker votre propre version du SDK, vous pouvez cloner le d\xe9p\xf4t directement depuis GitHub."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/logto-io/dart\n"})})]})]})}function B(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(U,{...e})}):U(e)}var O=t(87630);function E(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,r.jsxs)(n.p,{children:["Passons \xe0 la page des d\xe9tails de l'application de Logto Console. Ajoutez un URI de redirection\napr\xe8s d\xe9connexion ",(0,r.jsx)("code",{children:e.postSignOutRedirectUri}),' et cliquez sur "Enregistrer les\nmodifications".']})}),"\n",(0,r.jsx)("img",{alt:"URI de redirection apr\xe8s d\xe9connexion dans Logto Console",src:e.figureSrc,width:"600px"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-rpinitiated-1_0.html#RPLogout",children:"L'URI de redirection apr\xe8s d\xe9connexion"})," est un concept d' OAuth 2.0 qui implique l'emplacement o\xf9 rediriger apr\xe8s la d\xe9connexion."]})]})}function F(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(E,{...e})}):E(e)}var V=t(75254),W=t(60348);const H=[{value:"Initialiser LogtoClient",id:"init-logtoclient",level:3},{value:"Impl\xe9menter la connexion",id:"implement-sign-in",level:3},...W.RM,...V.RM,{value:"Impl\xe9menter la d\xe9connexion",id:"implement-sign-out",level:3},{value:"G\xe9rer le statut d&#39;authentification",id:"handle-authentication-status",level:3},...O.RM];function K(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"init-logtoclient",children:"Initialiser LogtoClient"}),"\n",(0,r.jsxs)(n.p,{children:["Importez le package ",(0,r.jsx)(n.code,{children:"logto_dart_sdk"})," et initialisez l'instance ",(0,r.jsx)(n.code,{children:"LogtoClient"})," \xe0 la racine de votre application."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"import 'package:logto_dart_sdk/logto_dart_sdk.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: 'Flutter Demo',\n      home: MyHomePage(title: 'Logto Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  late LogtoClient logtoClient;\n\n  void render() {\n    // changement d'\xe9tat\n  }\n\n  // highlight-start\n  // LogtoConfig\n  final logtoConfig = const LogtoConfig(\n    endpoint: \"<your-logto-endpoint>\",\n    appId: \"<your-app-id>\"\n  );\n\n  void _init() {\n    logtoClient = LogtoClient(\n      config: logtoConfig,\n      httpClient: http.Client(), // Client http optionnel\n    );\n    render();\n  }\n  // highlight-end\n\n  @override\n  void initState() {\n    super.initState();\n    _init();\n  }\n\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"implement-sign-in",children:"Impl\xe9menter la connexion"}),"\n",(0,r.jsx)(W.Ay,{}),"\n",(0,r.jsx)(n.p,{children:"Avant de commencer, vous devez ajouter un URI de redirection dans la console d'administration pour votre application."}),"\n",(0,r.jsx)(V.Ay,{figureSrc:"/img/assets/flutter-redirect-uri.png",redirectUri:"io.logto://callback"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Pour iOS, le sch\xe9ma d'URI de redirection n'a pas vraiment d'importance puisque la classe ",(0,r.jsx)(n.code,{children:"ASWebAuthenticationSession"})," \xe9coutera l'URI de redirection, qu'il soit enregistr\xe9 ou non."]}),"\n",(0,r.jsxs)(n.li,{children:["Pour Android, le sch\xe9ma d'URI de redirection doit \xeatre enregistr\xe9 dans le fichier ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Une fois l'URI de redirection configur\xe9, nous ajoutons un bouton de connexion \xe0 votre page, qui appellera l'API ",(0,r.jsx)(n.code,{children:"logtoClient.signIn"})," pour invoquer le flux de connexion Logto :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  final redirectUri = 'io.logto://callback';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signInButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signIn(redirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign In'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"implement-sign-out",children:"Impl\xe9menter la d\xe9connexion"}),"\n",(0,r.jsx)(F,{figureSrc:"/img/assets/flutter-post-sign-out-redirect-uri.png",postSignOutRedirectUri:"io.logto://callback"}),"\n",(0,r.jsx)(n.p,{children:"Ajoutons maintenant un bouton de d\xe9connexion sur la page principale pour que les utilisateurs puissent se d\xe9connecter de votre application."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  final postSignOutRedirectUri = 'io.logto//home';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signOutButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signOut(postSignOutRedirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign Out'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n            signOutButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"handle-authentication-status",children:"G\xe9rer le statut d'authentification"}),"\n",(0,r.jsxs)(n.p,{children:["Logto SDK fournit une m\xe9thode asynchrone pour v\xe9rifier le statut d'authentification. La m\xe9thode est ",(0,r.jsx)(n.code,{children:"logtoClient.isAuthenticated"}),". La m\xe9thode retourne une valeur bool\xe9enne, ",(0,r.jsx)(n.code,{children:"true"})," si l'utilisateur est authentifi\xe9, sinon ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Dans l'exemple, nous rendons conditionnellement les boutons de connexion et de d\xe9connexion en fonction du statut d'authentification. Mettons maintenant \xe0 jour la m\xe9thode ",(0,r.jsx)(n.code,{children:"render"})," dans notre Widget pour g\xe9rer le changement d'\xe9tat :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  bool? isAuthenticated = false;\n\n  void render() {\n    setState(() async {\n      // highlight-start\n      isAuthenticated = await logtoClient.isAuthenticated;\n      // highlight-end\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            isAuthenticated == true ? signOutButton : signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(O.Ay,{})]})}function G(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(K,{...e})}):K(e)}var $=t(41366);function J(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"// Les identifiants d\u2019 organisation valides pour l\u2019utilisateur peuvent \xeatre trouv\xe9s dans la revendication de jeton d\u2019identifiant `organizations`.\nFuture<AccessToken?> getOrganizationAccessToken(String organizationId) async {\n  var token = await logtoClient.getOrganizationToken(organizationId);\n\n  return token;\n}\n"})})}function Z(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(J,{...e})}):J(e)}function X(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScopes.organizations.value]\n  // highlight-end\n);\n'})})}function Y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(X,{...e})}):X(e)}const Q=[{value:"R\xe9cup\xe9rer un jeton d\u2019acc\xe8s pour les organisations",id:"fetch-access-token-for-organizations",level:3},...$.RM];function ee(e){const n={h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"fetch-access-token-for-organizations",children:"R\xe9cup\xe9rer un jeton d\u2019acc\xe8s pour les organisations"}),"\n",(0,r.jsx)(n.p,{children:"Tout comme les ressources API, vous pouvez \xe9galement demander un jeton d\u2019acc\xe8s pour les organisations. Cela est utile lorsque vous devez acc\xe9der \xe0 des ressources d\xe9finies en utilisant la port\xe9e de l'organisation au lieu de la port\xe9e de la ressource API."}),"\n",(0,r.jsx)($.Ay,{organizationScope:"LogtoUserScope.Organizations",configOrganizationCode:(0,r.jsx)(Y,{}),getOrganizationAccessTokenCode:(0,r.jsx)(Z,{})})]})}function ne(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(ee,{...e})}):ee(e)}function te(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Le package SDK est disponible sur ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk",children:"pub.dev"})," et le ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/dart",children:"r\xe9pertoire GitHub de Logto"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["Le projet d'exemple est construit en utilisant ",(0,r.jsx)(n.a,{href:"https://flutter.dev",children:"Flutter material"}),". Vous pouvez le trouver sur ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk/example",children:"pub.dev"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Ce SDK est compatible avec les applications Flutter sur les plateformes iOS, Android et Web. La compatibilit\xe9 avec d'autres plateformes n'a pas \xe9t\xe9 test\xe9e."}),"\n"]})})}function ie(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(te,{...e})}):te(e)}const re={slug:"/quick-starts/flutter",sidebar_label:"Flutter",sidebar_custom_props:{description:"Flutter est un framework pour cr\xe9er des applications mobiles hybrides."},language:"dart",official_link:"https://flutter.dev",app_type:"Native app",framework:"Flutter"},se="Ajoutez l\u2019authentification \xe0 votre application Flutter",oe={},le=[{value:"Pr\xe9requis",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},{value:"Configuration",id:"set-up",level:2},{value:"Compatibilit\xe9 des versions SDK",id:"sdk-version-compatibility",level:3},{value:"Configuration de flutter_secure_storage",id:"flutter_secure_storage-set-up",level:3},{value:"Configurer la version Android",id:"config-android-version",level:4},{value:"D\xe9sactiver la sauvegarde automatique sur Android",id:"disable-auto-backup-on-android",level:4},{value:"Configuration de flutter_web_auth_2",id:"flutter_web_auth_2-set-up",level:3},{value:"Int\xe9gration",id:"integration",level:2},...H,{value:"Obtenir des informations sur l&#39;utilisateur",id:"get-user-information",level:2},...M,{value:"Ressources API et organisations",id:"api-resources-and-organizations",level:2},...f,...Q,{value:"Guide de migration",id:"migration-guide",level:2},{value:"D\xe9pannage",id:"troubleshooting",level:2},{value:"D\xe9pannage Android",id:"troubleshooting-android",level:3},{value:"Lectures compl\xe9mentaires",id:"further-readings",level:2},...o.RM];function de(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ajoutez-lauthentification-\xe0-votre-application-flutter",children:"Ajoutez l\u2019authentification \xe0 votre application Flutter"})}),"\n",(0,r.jsx)(n.p,{children:"Ce tutoriel vous montrera comment int\xe9grer Logto dans votre application Flutter."}),"\n",(0,r.jsx)(ie,{}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Pr\xe9requis"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Un compte ",(0,r.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou un ",(0,r.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-h\xe9berg\xe9"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Une application native Logto cr\xe9\xe9e."}),"\n",(0,r.jsx)(n.li,{children:"Un environnement de d\xe9veloppement Flutter ou Dart."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(B,{}),"\n",(0,r.jsx)(n.h2,{id:"set-up",children:"Configuration"}),"\n",(0,r.jsx)(A,{}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Int\xe9gration"}),"\n",(0,r.jsx)(G,{}),"\n",(0,r.jsx)(n.h2,{id:"get-user-information",children:"Obtenir des informations sur l'utilisateur"}),"\n",(0,r.jsx)(D,{}),"\n",(0,r.jsx)(n.h2,{id:"api-resources-and-organizations",children:"Ressources API et organisations"}),"\n",(0,r.jsx)(b,{}),"\n",(0,r.jsx)(ne,{}),"\n",(0,r.jsx)(n.h2,{id:"migration-guide",children:"Guide de migration"}),"\n",(0,r.jsx)(n.p,{children:"Si vous migrez depuis une version pr\xe9c\xe9dente du Logto Dart SDK, version < 3.0.0 :"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Mettez \xe0 jour votre fichier ",(0,r.jsx)(n.code,{children:"pubspec.yaml"})," pour utiliser la derni\xe8re version du Logto Dart SDK."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="pubspec.yaml"',children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Mettez \xe0 jour le fichier manifeste Android, remplacez l'activit\xe9 de rappel ",(0,r.jsx)(n.code,{children:"flutter_web_auth"})," par la nouvelle ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"FlutterWebAuth"})," -> ",(0,r.jsx)(n.code,{children:"FlutterWebAuth2"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"flutter_web_auth"})," -> ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Passez le ",(0,r.jsx)(n.code,{children:"redirectUri"})," \xe0 la m\xe9thode ",(0,r.jsx)(n.code,{children:"signOut"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"redirectUri"})," est d\xe9sormais requis lors de l'appel de la m\xe9thode ",(0,r.jsx)(n.code,{children:"signOut"}),". Pour la plateforme iOS, ce param\xe8tre est inutile, mais pour les plateformes Android et Web qui n\xe9cessitent une requ\xeate ",(0,r.jsx)(n.code,{children:"end_session"})," suppl\xe9mentaire pour nettoyer la session de connexion, ce param\xe8tre sera utilis\xe9 comme param\xe8tre ",(0,r.jsx)(n.code,{children:"post_logout_redirect_uri"})," dans la requ\xeate ",(0,r.jsx)(n.code,{children:"end_session"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"await logtoClient.signOut(redirectUri);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"D\xe9pannage"}),"\n",(0,r.jsx)(n.h3,{id:"troubleshooting-android",children:"D\xe9pannage Android"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Vous devrez mettre \xe0 jour votre AndroidManifest.xml pour inclure l'activit\xe9 ",(0,r.jsx)(n.code,{children:"com.linusu.flutter_web_auth_2.CallbackActivity"}),", quelque chose comme :"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'  <manifest>\n  <application>\n\n    \x3c!-- ajoutez l\'activit\xe9 com.linusu.flutter_web_auth_2.CallbackActivity --\x3e\n    <activity\n      android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n      android:exported="true">\n      <intent-filter android:label="flutter_web_auth_2">\n        <action android:name="android.intent.action.VIEW" />\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n        <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n      </intent-filter>\n    </activity>\n\n  </application>\n</manifest>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Si vous ciblez S+ (version SDK 31 et sup\xe9rieure), vous devez fournir une valeur explicite pour ",(0,r.jsx)(n.code,{children:"android:exported"}),". Si vous avez suivi les instructions d'installation pr\xe9c\xe9dentes, cela n'\xe9tait pas inclus. Assurez-vous d'ajouter ",(0,r.jsx)(n.code,{children:'android:exported="true"'})," \xe0 l'activit\xe9 ",(0,r.jsx)(n.code,{children:"com.linusu.flutter_web_auth.CallbackActivity"})," dans votre fichier ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Navigateur non ferm\xe9 apr\xe8s une connexion r\xe9ussie :"}),"\n",(0,r.jsxs)(n.p,{children:["Pour garantir que le ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"})," fonctionne correctement, vous devez supprimer toutes les entr\xe9es ",(0,r.jsx)(n.code,{children:"android:taskAffinity"})," de votre fichier ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),". D\xe9finissez ",(0,r.jsx)(n.code,{children:'android:launchMode="singleTop"'})," pour l'activit\xe9 principale dans votre fichier ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'<activity\n  android:name=".MainActivity"\n  android:launchMode="singleTop"\n  android:theme="@style/LaunchTheme"\n  // ...\n/>\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"further-readings",children:"Lectures compl\xe9mentaires"}),"\n",(0,r.jsx)(o.Ay,{})]})}function ae(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(de,{...e})}):de(e)}},38552:(e,n,t)=>{t.d(n,{A:()=>o});t(58101);var i=t(13526);const r={tabItem:"tabItem_dgSZ"};var s=t(25105);function o(e){let{children:n,hidden:t,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,o),hidden:t,children:n})}},22002:(e,n,t)=>{t.d(n,{A:()=>A});var i=t(58101),r=t(13526),s=t(60755),o=t(55234),l=t(6635),d=t(4100),a=t(35661),c=t(42752);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:t,attributes:i,default:r}}=e;return{value:n,label:t,attributes:i,default:r}}))}(t);return function(e){const n=(0,a.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function h(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:t}=e;const r=(0,o.W6)(),s=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,d.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function j(e){const{defaultValue:n,queryString:t=!1,groupId:r}=e,s=p(e),[o,d]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=t.find((e=>e.default))??t[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[a,u]=x({queryString:t,groupId:r}),[j,m]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,c.Dv)(t);return[r,(0,i.useCallback)((e=>{t&&s.set(e)}),[t,s])]}({groupId:r}),g=(()=>{const e=a??j;return h({value:e,tabValues:s})?e:null})();(0,l.A)((()=>{g&&d(g)}),[g]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),m(e)}),[u,m,s]),tabValues:s}}var m=t(21929);const g={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=t(25105);function v(e){let{className:n,block:t,selectedValue:i,selectValue:o,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:a}=(0,s.a_)(),c=e=>{const n=e.currentTarget,t=d.indexOf(n),r=l[t].value;r!==i&&(a(n),o(r))},u=e=>{let n=null;switch(e.key){case"Enter":c(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:s}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{d.push(e)},onKeyDown:u,onClick:c,...s,className:(0,r.A)("tabs__item",g.tabItem,s?.className,{"tabs__item--active":i===n}),children:t??n},n)}))})}function b(e){let{lazy:n,children:t,selectedValue:s}=e;const o=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function y(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",g.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function A(e){const n=(0,m.A)();return(0,f.jsx)(y,{...e,children:u(e.children)},String(n))}},79621:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>l});var i=t(58101);const r={},s=i.createContext(r);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);