"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[9249],{3811:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>l,contentTitle:()=>a,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"logto-oss/troubleshooting-oss","title":"D\xe9pannage pour OSS","description":"Mon navigateur ne peut pas charger la Console d\u2019administration (affiche l\u2019erreur Crypto.subtle is unavailable...) \\\\","source":"@site/i18n/fr/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","sourceDirName":"logto-oss","slug":"/logto-oss/troubleshooting-oss","permalink":"/fr/logto-oss/troubleshooting-oss","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/fr/docusaurus-plugin-content-docs/current/logto-oss/troubleshooting-oss.mdx","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_label":"D\xe9pannage","sidebar_position":9},"sidebar":"docsSidebar","previous":{"title":"Mise \xe0 niveau","permalink":"/fr/logto-oss/upgrading-oss-version"},"next":{"title":"Contribution","permalink":"/fr/logto-oss/contribution"}}');var r=n(25105),s=n(79621);const t={sidebar_label:"D\xe9pannage",sidebar_position:9},a="D\xe9pannage pour OSS",l={},d=[{value:"Mon navigateur ne peut pas charger la Console d\u2019administration (affiche l\u2019erreur <code>Crypto.subtle is unavailable...</code>)",id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",level:3},{value:"J\u2019utilise un domaine personnalis\xe9, mais mon navigateur ne peut pas charger la Console d\u2019administration (affiche l\u2019erreur <code>&quot;code&quot;: &quot;oidc.invalid_redirect_uri&quot;</code>)",id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",level:3},{value:"J\u2019utilise un proxy HTTPS (par exemple, Nginx) devant Logto, mais l\u2019authentification \xe9choue (affiche l\u2019erreur <code>TypeError: Failed to fetch</code>)",id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",level:3},{value:"Je rencontre des probl\xe8mes CORS.",id:"im-facing-cors-issues",level:3},{value:"Qu\u2019est-ce que c\u2019est encore ? <code>Error: Invalid id token</code>",id:"what-is-this-again-error-invalid-id-token",level:3},{value:"Le point de terminaison Management API pour Logto OSS est-il diff\xe9rent de la version Cloud ?",id:"does-the-management-api-endpoint-for-logto-oss-differ-from-the-cloud-version",level:3}];function c(e){const o={a:"a",code:"code",h1:"h1",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components},{Details:n}=o;return n||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o.header,{children:(0,r.jsx)(o.h1,{id:"d\xe9pannage-pour-oss",children:"D\xe9pannage pour OSS"})}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(o.h3,{id:"my-browser-cannot-load-admin-console-showing-error-cryptosubtle-is-unavailable",children:["Mon navigateur ne peut pas charger la Console d\u2019administration (affiche l\u2019erreur ",(0,r.jsx)(o.code,{children:"Crypto.subtle is unavailable..."}),")"]})}),(0,r.jsxs)(o.p,{children:["La Console d\u2019administration utilise ",(0,r.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API",children:"Web Crypto API"}),", qui n\xe9cessite des ",(0,r.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts",children:"contextes s\xe9curis\xe9s"}),", c\u2019est-\xe0-dire HTTPS ou HTTP avec ",(0,r.jsx)(o.code,{children:"localhost"}),"."]}),(0,r.jsx)(o.p,{children:"Si vous utilisez HTTP avec une adresse IP ou un domaine personnalis\xe9, alors le navigateur ne pourra pas charger la Console d\u2019administration."})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(o.h3,{id:"im-using-a-custom-domain-but-my-browser-cannot-load-admin-console-showing-error-code-oidcinvalid_redirect_uri",children:["J\u2019utilise un domaine personnalis\xe9, mais mon navigateur ne peut pas charger la Console d\u2019administration (affiche l\u2019erreur ",(0,r.jsx)(o.code,{children:'"code": "oidc.invalid_redirect_uri"'}),")"]})}),(0,r.jsxs)(o.p,{children:["Si vous utilisez un domaine personnalis\xe9 plut\xf4t que ",(0,r.jsx)(o.code,{children:"localhost"}),", vous devez d\xe9finir la variable d\u2019environnement ",(0,r.jsx)(o.code,{children:"ENDPOINT"})," sur l\u2019URL de Logto. Cela est d\xfb \xe0 l\u2019exigence stricte de l\u2019URI de redirection dans OIDC. Voir ",(0,r.jsx)(o.a,{href:"/concepts/core-service/configuration/",children:"Configuration"})," pour plus de d\xe9tails."]})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(o.h3,{id:"im-using-an-https-proxy-eg-nginx-in-front-of-logto-but-i-failed-on-sign-in-showing-error-typeerror-failed-to-fetch",children:["J\u2019utilise un proxy HTTPS (par exemple, Nginx) devant Logto, mais l\u2019authentification \xe9choue (affiche l\u2019erreur ",(0,r.jsx)(o.code,{children:"TypeError: Failed to fetch"}),")"]})}),(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Tout d\u2019abord, assurez-vous d\u2019avoir d\xe9fini la variable d\u2019environnement node ",(0,r.jsx)(o.code,{children:"TRUST_PROXY_HEADER"})," sur ",(0,r.jsx)(o.code,{children:"true"}),". Voir ",(0,r.jsx)(o.a,{href:"/concepts/core-service/configuration/#using-a-https-proxy",children:"Configuration"})," pour plus de d\xe9tails."]}),"\n",(0,r.jsxs)(o.li,{children:["Vous devez \xe9galement d\xe9finir l\u2019en-t\xeate ",(0,r.jsx)(o.code,{children:"X-Forwarded-Proto"})," sur ",(0,r.jsx)(o.code,{children:"https"})," dans la configuration de votre proxy. Voir ",(0,r.jsx)(o.a,{href:"https://github.com/panva/node-oidc-provider/blob/main/docs/README.md#trusting-tls-offloading-proxies",children:"Trusting TLS offloading proxies"})," pour plus de d\xe9tails."]}),"\n"]})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(o.h3,{id:"im-facing-cors-issues",children:"Je rencontre des probl\xe8mes CORS."})}),(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["Si ",(0,r.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," n\u2019est pas sp\xe9cifi\xe9, ",(0,r.jsx)(o.code,{children:"localhost:[admin-port]"})," sera autoris\xe9 \xe0 effectuer le partage de ressources entre origines (CORS) dans Logto."]}),"\n",(0,r.jsxs)(o.li,{children:["Si ",(0,r.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," est sp\xe9cifi\xe9, seules les requ\xeates provenant de l\u2019origine de ",(0,r.jsx)(o.code,{children:"ADMIN_ENDPOINT"})," seront autoris\xe9es."]}),"\n"]})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsxs)(o.h3,{id:"what-is-this-again-error-invalid-id-token",children:["Qu\u2019est-ce que c\u2019est encore ? ",(0,r.jsx)(o.code,{children:"Error: Invalid id token"})]})}),(0,r.jsx)(o.p,{children:"Si vous ne modifiez pas vos jetons, alors dans la plupart des cas, cela est caus\xe9 par un d\xe9calage entre l\u2019heure de votre serveur et celle de votre client. Synchronisez l\u2019heure sur votre serveur et votre client puis r\xe9essayez."})]}),"\n",(0,r.jsxs)(n,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(o.h3,{id:"does-the-management-api-endpoint-for-logto-oss-differ-from-the-cloud-version",children:"Le point de terminaison Management API pour Logto OSS est-il diff\xe9rent de la version Cloud ?"})}),(0,r.jsx)(o.p,{children:"Oui. L\u2019identifiant de Logto Management API est diff\xe9rent pour Logto Cloud et la version auto-h\xe9berg\xe9e (Open Source) :"}),(0,r.jsxs)(o.ul,{children:["\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["Logto Cloud : ",(0,r.jsx)(o.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n"]}),"\n",(0,r.jsxs)(o.li,{children:["\n",(0,r.jsxs)(o.p,{children:["Logto Open Source : ",(0,r.jsx)(o.code,{children:"https://default.logto.app/api"})]}),"\n"]}),"\n"]})]})]})}function u(e={}){const{wrapper:o}={...(0,s.R)(),...e.components};return o?(0,r.jsx)(o,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},79621:(e,o,n)=>{n.d(o,{R:()=>t,x:()=>a});var i=n(58101);const r={},s=i.createContext(r);function t(e){const o=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:o},e.children)}}}]);