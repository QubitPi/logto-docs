"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4042],{62310:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(o.p,{children:["Recomendamos ler ",(0,s.jsx)(o.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Controle de Acesso Baseado em Papel (RBAC)"})," primeiro para entender os conceitos b\xe1sicos do RBAC do Logto e como configurar corretamente os recursos de API."]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},78766:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[{value:"Reivindica\xe7\xf5es que precisam de solicita\xe7\xf5es de rede",id:"claims-that-need-network-requests",level:3}];function t(e){const o={code:"code",h3:"h3",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,s.jsx)(o.h3,{id:"claims-that-need-network-requests",children:"Reivindica\xe7\xf5es que precisam de solicita\xe7\xf5es de rede"}),"\n",(0,s.jsxs)(o.p,{children:["Para evitar o incha\xe7o do Token de ID (ID token), algumas reivindica\xe7\xf5es requerem solicita\xe7\xf5es de rede para serem buscadas. Por exemplo, a reivindica\xe7\xe3o ",(0,s.jsx)(o.code,{children:"custom_data"})," n\xe3o est\xe1 inclu\xedda no objeto do usu\xe1rio, mesmo que seja solicitada nos escopos. Para acessar essas reivindica\xe7\xf5es, ",(0,s.jsxs)("span",{children:["method"===e.type&&(0,s.jsxs)(s.Fragment,{children:["voc\xea pode usar o m\xe9todo ",(0,s.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,s.jsxs)(s.Fragment,{children:["voc\xea pode configurar a op\xe7\xe3o ",(0,s.jsx)("code",{children:e.configOption})]})]}),":"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,s.jsxs)(s.Fragment,{children:["Este m\xe9todo buscar\xe1 as informa\xe7\xf5es do usu\xe1rio solicitando ao"," ",(0,s.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),". Para saber mais sobre os escopos e reivindica\xe7\xf5es dispon\xedveis, veja a se\xe7\xe3o"," ",(0,s.jsx)("a",{href:"#scopes-and-claims",children:"Escopos e reivindica\xe7\xf5es"}),"."]}),"\n","option"===e.type&&(0,s.jsxs)(s.Fragment,{children:["Ao configurar ",(0,s.jsx)("code",{children:e.configOption}),", o SDK buscar\xe1 as informa\xe7\xf5es do usu\xe1rio solicitando ao"," ",(0,s.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"})," ","ap\xf3s o usu\xe1rio fazer login, e ",(0,s.jsx)("code",{children:e.value??"user.custom_data"})," estar\xe1 dispon\xedvel assim que a solicita\xe7\xe3o for conclu\xedda."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},40626:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={a:"a",admonition:"admonition",code:"code",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Depois de configurar os recursos de API, voc\xea pode adicion\xe1-los ao configurar o Logto em seu aplicativo:"}),"\n",e.configResourcesCode,"\n",(0,s.jsx)(o.p,{children:"Cada recurso de API tem suas pr\xf3prias permiss\xf5es (escopos)."}),"\n",(0,s.jsxs)(o.p,{children:["Por exemplo, o recurso ",(0,s.jsx)(o.code,{children:"https://shopping.your-app.com/api"})," tem as permiss\xf5es ",(0,s.jsx)(o.code,{children:"shopping:read"})," e ",(0,s.jsx)(o.code,{children:"shopping:write"}),", e o recurso ",(0,s.jsx)(o.code,{children:"https://store.your-app.com/api"})," tem as permiss\xf5es ",(0,s.jsx)(o.code,{children:"store:read"})," e ",(0,s.jsx)(o.code,{children:"store:write"}),"."]}),"\n",(0,s.jsx)(o.p,{children:"Para solicitar essas permiss\xf5es, voc\xea pode adicion\xe1-las ao configurar o Logto em seu aplicativo:"}),"\n",e.configResourcesWithScopesCode,"\n",(0,s.jsxs)(o.p,{children:["Voc\xea pode notar que os escopos s\xe3o definidos separadamente dos recursos de API. Isso ocorre porque ",(0,s.jsx)(o.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Resource Indicators for OAuth 2.0"})," especifica que os escopos finais para a solicita\xe7\xe3o ser\xe3o o produto cartesiano de todos os escopos em todos os servi\xe7os de destino."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("p",{children:["Assim, no caso acima, os escopos podem ser simplificados a partir da defini\xe7\xe3o no Logto, ambos os recursos de API podem ter escopos ",(0,s.jsx)("code",{children:"read"})," e ",(0,s.jsx)("code",{children:"write"})," sem o prefixo. Ent\xe3o, na configura\xe7\xe3o do Logto:"]}),e.configResourcesWithSharedScopesCode,(0,s.jsxs)("p",{children:["Para cada recurso de API, ele solicitar\xe1 os escopos ",(0,s.jsx)("code",{children:"read"})," e ",(0,s.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,s.jsx)(o.admonition,{type:"note",children:(0,s.jsxs)(o.p,{children:["N\xe3o h\xe1 problema em solicitar escopos que n\xe3o est\xe3o definidos nos recursos de API. Por exemplo, voc\xea pode solicitar o escopo ",(0,s.jsx)(o.code,{children:"email"})," mesmo que os recursos de API n\xe3o tenham o escopo ",(0,s.jsx)(o.code,{children:"email"})," dispon\xedvel. Escopos indispon\xedveis ser\xe3o ignorados com seguran\xe7a."]})}),"\n",(0,s.jsx)(o.p,{children:"Ap\xf3s o login bem-sucedido, o Logto emitir\xe1 os escopos apropriados para os recursos de API de acordo com os pap\xe9is do usu\xe1rio."})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},85153:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Para buscar o token de acesso para um recurso de API espec\xedfico, voc\xea pode usar o m\xe9todo ",(0,s.jsx)("code",{children:e.getAccessTokenApi}),":"]}),"\n",e.getAccessTokenCode,"\n",(0,s.jsx)(o.p,{children:"Este m\xe9todo retornar\xe1 um token de acesso JWT que pode ser usado para acessar o recurso de API quando o usu\xe1rio tiver as permiss\xf5es relacionadas. Se o token de acesso em cache atual tiver expirado, este m\xe9todo tentar\xe1 automaticamente usar um token de atualiza\xe7\xe3o para obter um novo token de acesso."})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},57973:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Se organiza\xe7\xe3o \xe9 um conceito novo para voc\xea, por favor, leia ",(0,s.jsx)(o.a,{href:"/organizations",children:"\ud83c\udfe2 Organiza\xe7\xf5es (Multi-tenancy)"})," para come\xe7ar."]}),"\n",(0,s.jsxs)(o.p,{children:["Voc\xea precisa adicionar o escopo ",(0,s.jsx)("code",{children:e.organizationScope})," ao configurar o cliente Logto:"]}),"\n",e.configOrganizationCode,"\n",(0,s.jsx)(o.p,{children:"Uma vez que o usu\xe1rio esteja autenticado, voc\xea pode buscar o token de organiza\xe7\xe3o para o usu\xe1rio:"}),"\n",e.getOrganizationAccessTokenCode]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},46680:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(o.p,{children:["Voc\xea pode perceber que algumas informa\xe7\xf5es do usu\xe1rio est\xe3o faltando no objeto retornado de ",(0,s.jsx)("code",{children:e.method}),". Isso ocorre porque OAuth 2.0 e OpenID Connect (OIDC) s\xe3o projetados para seguir o princ\xedpio do menor privil\xe9gio (PoLP), e o Logto \xe9 constru\xeddo com base nesses padr\xf5es."]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},20045:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const{Url:o}={...(0,i.R)(),...e.components};return o||function(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o,{href:"/end-user-flows",children:" Fluxos do usu\xe1rio final: fluxos de autentica\xe7\xe3o, fluxos de conta e fluxos de organiza\xe7\xe3o "}),"\n",(0,s.jsx)(o,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,s.jsx)(o,{href:"/authorization",children:" Autoriza\xe7\xe3o (Authorization) "})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},81427:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[{value:"Sobre o login baseado em redirecionamento",id:"regarding-redirect-based-sign-in",level:3}];function t(e){const o={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components},{Details:n,MainSiteUrl:r}=o;return n||c("Details",!0),r||c("MainSiteUrl",!0),(0,s.jsxs)(n,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(o.h3,{id:"regarding-redirect-based-sign-in",children:"Sobre o login baseado em redirecionamento"})}),(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["Este processo de autentica\xe7\xe3o segue o protocolo ",(0,s.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", e o Logto aplica medidas de seguran\xe7a rigorosas para proteger o login do usu\xe1rio."]}),"\n",(0,s.jsx)(o.li,{children:"Se voc\xea tiver v\xe1rios aplicativos, pode usar o mesmo provedor de identidade (Logto). Uma vez que o usu\xe1rio faz login em um aplicativo, o Logto completar\xe1 automaticamente o processo de login quando o usu\xe1rio acessar outro aplicativo."}),"\n"]}),(0,s.jsxs)(o.p,{children:["Para saber mais sobre a l\xf3gica e os benef\xedcios do login baseado em redirecionamento, veja ",(0,s.jsx)(r,{href:"/concepts/sign-in-experience",children:"Experi\xeancia de login do Logto explicada"}),"."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}function c(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},26461:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Aqui est\xe1 a lista de escopos suportados e as reivindica\xe7\xf5es correspondentes:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"openid"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsx)(o.tbody,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"sub"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"O identificador \xfanico do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"profile"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"name"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"O nome completo do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"username"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"O nome de usu\xe1rio do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"picture"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"URL da foto de perfil do Usu\xe1rio Final. Este URL DEVE referir-se a um arquivo de imagem (por exemplo, um arquivo de imagem PNG, JPEG ou GIF), em vez de uma p\xe1gina da Web contendo uma imagem. Note que este URL DEVE referir-se especificamente a uma foto de perfil do Usu\xe1rio Final adequada para exibi\xe7\xe3o ao descrever o Usu\xe1rio Final, em vez de uma foto arbitr\xe1ria tirada pelo Usu\xe1rio Final."}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"created_at"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"number"})}),(0,s.jsx)(o.td,{children:"Hora em que o Usu\xe1rio Final foi criado. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"updated_at"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"number"})}),(0,s.jsx)(o.td,{children:"Hora em que as informa\xe7\xf5es do Usu\xe1rio Final foram atualizadas pela \xfaltima vez. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,s.jsxs)(o.p,{children:["Outras ",(0,s.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reivindica\xe7\xf5es padr\xe3o"})," incluem ",(0,s.jsx)(o.code,{children:"family_name"}),", ",(0,s.jsx)(o.code,{children:"given_name"}),", ",(0,s.jsx)(o.code,{children:"middle_name"}),", ",(0,s.jsx)(o.code,{children:"nickname"}),", ",(0,s.jsx)(o.code,{children:"preferred_username"}),", ",(0,s.jsx)(o.code,{children:"profile"}),", ",(0,s.jsx)(o.code,{children:"website"}),", ",(0,s.jsx)(o.code,{children:"gender"}),", ",(0,s.jsx)(o.code,{children:"birthdate"}),", ",(0,s.jsx)(o.code,{children:"zoneinfo"})," e ",(0,s.jsx)(o.code,{children:"locale"})," tamb\xe9m ser\xe3o inclu\xeddas no escopo ",(0,s.jsx)(o.code,{children:"profile"})," sem a necessidade de solicitar o endpoint userinfo. Uma diferen\xe7a em rela\xe7\xe3o \xe0s reivindica\xe7\xf5es acima \xe9 que essas reivindica\xe7\xf5es s\xf3 ser\xe3o retornadas quando seus valores n\xe3o estiverem vazios, enquanto as reivindica\xe7\xf5es acima retornar\xe3o ",(0,s.jsx)(o.code,{children:"null"})," se os valores estiverem vazios."]}),"\n",(0,s.jsx)(o.admonition,{type:"note",children:(0,s.jsxs)(o.p,{children:["Ao contr\xe1rio das reivindica\xe7\xf5es padr\xe3o, as reivindica\xe7\xf5es ",(0,s.jsx)(o.code,{children:"created_at"})," e ",(0,s.jsx)(o.code,{children:"updated_at"})," est\xe3o usando milissegundos em vez de segundos."]})}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"email"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"email"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"O endere\xe7o de email do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"email_verified"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"boolean"})}),(0,s.jsx)(o.td,{children:"Se o endere\xe7o de email foi verificado"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"phone"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"phone_number"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string"})}),(0,s.jsx)(o.td,{children:"O n\xfamero de telefone do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"phone_number_verified"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"boolean"})}),(0,s.jsx)(o.td,{children:"Se o n\xfamero de telefone foi verificado"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})]})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"address"})})}),"\n",(0,s.jsxs)(o.p,{children:["Por favor, consulte o ",(0,s.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para os detalhes da reivindica\xe7\xe3o de endere\xe7o."]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"custom_data"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsx)(o.tbody,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"custom_data"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"object"})}),(0,s.jsx)(o.td,{children:"Os dados personalizados do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"Sim"})]})})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"identities"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"identities"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"object"})}),(0,s.jsx)(o.td,{children:"As identidades vinculadas do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"Sim"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"sso_identities"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"array"})}),(0,s.jsx)(o.td,{children:"As identidades SSO vinculadas do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"Sim"})]})]})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"roles"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsx)(o.tbody,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"roles"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string[]"})}),(0,s.jsx)(o.td,{children:"Os pap\xe9is do usu\xe1rio"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsxs)(o.tbody,{children:[(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"organizations"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string[]"})}),(0,s.jsx)(o.td,{children:"Os IDs das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,s.jsx)(o.td,{children:"N\xe3o"})]}),(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"organization_data"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"object[]"})}),(0,s.jsx)(o.td,{children:"Os dados das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,s.jsx)(o.td,{children:"Sim"})]})]})]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.strong,{children:(0,s.jsx)(o.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,s.jsxs)(o.table,{children:[(0,s.jsx)(o.thead,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Tipo"}),(0,s.jsx)(o.th,{children:"Descri\xe7\xe3o"}),(0,s.jsx)(o.th,{children:"Precisa de userinfo?"})]})}),(0,s.jsx)(o.tbody,{children:(0,s.jsxs)(o.tr,{children:[(0,s.jsx)(o.td,{children:"organization_roles"}),(0,s.jsx)(o.td,{children:(0,s.jsx)(o.code,{children:"string[]"})}),(0,s.jsxs)(o.td,{children:["Os pap\xe9is das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence com o formato ",(0,s.jsx)(o.code,{children:"<organization_id>:<role_name>"})]}),(0,s.jsx)(o.td,{children:"N\xe3o"})]})})]}),"\n",(0,s.jsx)(o.hr,{}),"\n",(0,s.jsxs)(o.p,{children:['Considerando o desempenho e o tamanho dos dados, se "Precisa de userinfo?" for "Sim", isso significa que a reivindica\xe7\xe3o n\xe3o aparecer\xe1 no Token de ID, mas ser\xe1 retornada na resposta do ',(0,s.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),"."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},59832:(e,o,n)=>{n.d(o,{Ay:()=>c,RM:()=>t});var s=n(25105),i=n(79621),r=n(26461);const t=[...r.RM];function a(e){const o={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.p,{children:["Logto usa as ",(0,s.jsx)(o.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"conven\xe7\xf5es de escopos e reivindica\xe7\xf5es"})," do OIDC para definir os escopos e reivindica\xe7\xf5es para recuperar informa\xe7\xf5es do usu\xe1rio do Token de ID e do ",(0,s.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' do OIDC. Tanto "escopo" quanto "reivindica\xe7\xe3o" s\xe3o termos das especifica\xe7\xf5es OAuth 2.0 e OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Em resumo, quando voc\xea solicita um escopo, voc\xea obter\xe1 as reivindica\xe7\xf5es correspondentes nas informa\xe7\xf5es do usu\xe1rio. Por exemplo, se voc\xea solicitar o escopo `email`, voc\xea obter\xe1 os dados `email` e `email_verified` do usu\xe1rio."}),(0,s.jsx)("p",{children:"Por padr\xe3o, o Logto SDK sempre solicitar\xe1 tr\xeas escopos: `openid`, `profile` e `offline_access`, e n\xe3o h\xe1 como remover esses escopos padr\xe3o. Mas voc\xea pode adicionar mais escopos ao configurar o Logto:"}),e.configScopesCode]}),"\n",(0,s.jsx)(r.Ay,{})]})}function c(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},93961:(e,o,n)=>{n.d(o,{Ay:()=>a,RM:()=>r});var s=n(25105),i=n(79621);const r=[];function t(e){const o={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Por padr\xe3o, reivindica\xe7\xf5es limitadas s\xe3o retornadas. Se voc\xea precisar de mais informa\xe7\xf5es, pode solicitar escopos adicionais para acessar mais reivindica\xe7\xf5es."}),"\n",(0,s.jsx)(o.admonition,{type:"info",children:(0,s.jsx)(o.p,{children:'Uma "reivindica\xe7\xe3o (Claim)" \xe9 uma afirma\xe7\xe3o feita sobre um sujeito; um "escopo (Scope)" \xe9 um grupo de reivindica\xe7\xf5es. No caso atual, uma reivindica\xe7\xe3o \xe9 uma informa\xe7\xe3o sobre o usu\xe1rio.'})}),"\n",(0,s.jsx)(o.p,{children:"Aqui est\xe1 um exemplo n\xe3o normativo da rela\xe7\xe3o escopo - reivindica\xe7\xe3o:"}),"\n",(0,s.jsx)(o.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,s.jsx)(o.admonition,{type:"tip",children:(0,s.jsx)(o.p,{children:'A reivindica\xe7\xe3o "sub" significa "sujeito (Subject)", que \xe9 o identificador \xfanico do usu\xe1rio (ou seja, ID do usu\xe1rio).'})}),"\n",(0,s.jsxs)(o.p,{children:["O Logto SDK sempre solicitar\xe1 tr\xeas escopos: ",(0,s.jsx)(o.code,{children:"openid"}),", ",(0,s.jsx)(o.code,{children:"profile"})," e ",(0,s.jsx)(o.code,{children:"offline_access"}),"."]})]})}function a(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(t,{...e})}):t(e)}},67577:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>k,contentTitle:()=>b,default:()=>y,frontMatter:()=>v,metadata:()=>s,toc:()=>A});const s=JSON.parse('{"id":"quick-starts/framework/chrome-extension/README","title":"Adicionar autentica\xe7\xe3o ao seu aplicativo de extens\xe3o Chrome","description":"Este guia mostrar\xe1 como integrar o Logto na sua extens\xe3o Chrome.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","sourceDirName":"quick-starts/framework/chrome-extension","slug":"/quick-starts/chrome-extension","permalink":"/pt-BR/quick-starts/chrome-extension","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/chrome-extension/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/chrome-extension","sidebar_label":"Extens\xe3o Chrome","sidebar_custom_props":{"description":"Extens\xf5es Chrome s\xe3o mini aplicativos web que rodam dentro do Google Chrome."}},"sidebar":"quickStartSidebar","previous":{"title":"Capacitor JS","permalink":"/pt-BR/quick-starts/capacitor-js"},"next":{"title":".NET Core (Blazor Server)","permalink":"/pt-BR/quick-starts/dotnet-core/blazor-server"}}');var i=n(25105),r=n(79621),t=n(20045),a=n(52397),c=n(85207);function d(e){const o={a:"a",admonition:"admonition",code:"code",li:"li",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsx)(o.admonition,{type:"tip",children:(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["A demonstra\xe7\xe3o a seguir foi testada no Chrome v123.0.6312.87 (arm64). Outras vers\xf5es tamb\xe9m devem funcionar, desde que suportem as APIs ",(0,i.jsx)(o.code,{children:"chrome"})," usadas no SDK."]}),"\n",(0,i.jsxs)(o.li,{children:["O projeto de exemplo est\xe1 dispon\xedvel em nosso ",(0,i.jsx)(o.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"reposit\xf3rio GitHub"}),"."]}),"\n"]})})}function l(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}var u=n(38552),p=n(22002);function h(e){const o={code:"code",pre:"pre",...(0,r.R)(),...e.components};return(0,i.jsxs)(p.A,{children:[(0,i.jsx)(u.A,{value:"npm",label:"npm",children:(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:"npm i @logto/chrome-extension\n"})})}),(0,i.jsx)(u.A,{value:"yarn",label:"Yarn",children:(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:"yarn add @logto/chrome-extension\n"})})}),(0,i.jsx)(u.A,{value:"pnpm",label:"pnpm",children:(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-bash",children:"pnpm add @logto/chrome-extension\n"})})})]})}function m(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}var x=n(81427);const j=[{value:"O fluxo de autentica\xe7\xe3o",id:"the-authentication-flow",level:3},...x.RM,{value:"Atualizar o <code>manifest.json</code>",id:"update-the-manifestjson",level:3},{value:"Configurar um script de fundo (service worker)",id:"set-up-a-background-script-service-worker",level:3},{value:"Atualizar configura\xe7\xf5es do aplicativo Logto",id:"update-logto-application-settings",level:3},{value:"Adicionar bot\xf5es de login e logout ao popup",id:"add-sign-in-and-sign-out-buttons-to-the-popup",level:3},{value:"Ponto de verifica\xe7\xe3o: Testar o fluxo de autentica\xe7\xe3o",id:"checkpoint-test-the-authentication-flow",level:3},{value:"Verificar estado de autentica\xe7\xe3o",id:"check-authentication-state",level:3},{value:"Outras considera\xe7\xf5es",id:"other-considerations",level:3}];function g(e){const o={a:"a",admonition:"admonition",code:"code",h3:"h3",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.h3,{id:"the-authentication-flow",children:"O fluxo de autentica\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:'Supondo que voc\xea coloque um bot\xe3o "Sign in" no popup da sua extens\xe3o Chrome, o fluxo de autentica\xe7\xe3o ser\xe1 assim:'}),"\n",(0,i.jsx)(o.mermaid,{value:"sequenceDiagram\n  participant A as Popup da extens\xe3o\n  participant B as Service worker da extens\xe3o\n  participant C as Experi\xeancia de login do Logto\n\n  A->>B: Inicia login\n  B->>C: Redireciona para Logto\n  C->>C: Usu\xe1rio faz login\n  C->>B: Redireciona de volta para a extens\xe3o\n  B->>A: Notifica o popup"}),"\n",(0,i.jsxs)(o.p,{children:["Para outras p\xe1ginas interativas na sua extens\xe3o, voc\xea s\xf3 precisa substituir o participante ",(0,i.jsx)(o.code,{children:"Popup da extens\xe3o"})," pelo nome da p\xe1gina. Neste tutorial, vamos focar na p\xe1gina de popup."]}),"\n",(0,i.jsx)(x.Ay,{}),"\n",(0,i.jsxs)(o.h3,{id:"update-the-manifestjson",children:["Atualizar o ",(0,i.jsx)(o.code,{children:"manifest.json"})]}),"\n",(0,i.jsxs)(o.p,{children:["O Logto SDK requer as seguintes permiss\xf5es no ",(0,i.jsx)(o.code,{children:"manifest.json"}),":"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-json",metastring:'title="manifest.json"',children:'{\n  "permissions": ["identity", "storage"],\n  "host_permissions": ["https://*.logto.app/*"]\n}\n'})}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"permissions.identity"}),": Necess\xe1rio para a Chrome Identity API, que \xe9 usada para login e logout."]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"permissions.storage"}),": Necess\xe1rio para armazenar a sess\xe3o do usu\xe1rio."]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"host_permissions"}),": Necess\xe1rio para o Logto SDK se comunicar com as APIs do Logto."]}),"\n"]}),"\n",(0,i.jsx)(o.admonition,{type:"note",children:(0,i.jsxs)(o.p,{children:["Se voc\xea estiver usando um dom\xednio personalizado no Logto Cloud, voc\xea precisa atualizar o ",(0,i.jsx)(o.code,{children:"host_permissions"})," para corresponder ao seu dom\xednio."]})}),"\n",(0,i.jsx)(o.h3,{id:"set-up-a-background-script-service-worker",children:"Configurar um script de fundo (service worker)"}),"\n",(0,i.jsx)(o.p,{children:"No script de fundo da sua extens\xe3o Chrome, inicialize o Logto SDK:"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="service-worker.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nexport const logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Substitua ",(0,i.jsx)(o.code,{children:"<your-logto-endpoint>"})," e ",(0,i.jsx)(o.code,{children:"<your-logto-app-id>"})," pelos valores reais. Voc\xea pode encontrar esses valores na p\xe1gina do aplicativo que voc\xea acabou de criar no Logto Console."]}),"\n",(0,i.jsxs)(o.p,{children:["Se voc\xea n\xe3o tiver um script de fundo, pode seguir o ",(0,i.jsx)(o.a,{href:"https://developer.chrome.com/docs/extensions/develop/concepts/service-workers/basics",children:"guia oficial"})," para criar um."]}),"\n",(0,i.jsxs)(o.admonition,{type:"info",children:[(0,i.jsx)(o.p,{children:(0,i.jsx)(o.strong,{children:"Por que precisamos de um script de fundo?"})}),(0,i.jsx)(o.p,{children:"P\xe1ginas normais de extens\xe3o, como o popup ou a p\xe1gina de op\xe7\xf5es, n\xe3o podem ser executadas em segundo plano e podem ser fechadas durante o processo de autentica\xe7\xe3o. Um script de fundo garante que o processo de autentica\xe7\xe3o possa ser tratado adequadamente."})]}),"\n",(0,i.jsx)(o.p,{children:"Em seguida, precisamos ouvir a mensagem de outras p\xe1ginas de extens\xe3o e lidar com o processo de autentica\xe7\xe3o:"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="service-worker.js"',children:"chrome.runtime.onMessage.addListener((message, sender, sendResponse) => {\n  // No c\xf3digo abaixo, como retornamos `true` para cada a\xe7\xe3o, precisamos chamar `sendResponse`\n  // para notificar o remetente. Voc\xea tamb\xe9m pode lidar com erros aqui ou usar outras maneiras de notificar o remetente.\n\n  if (message.action === 'signIn') {\n    const redirectUri = chrome.identity.getRedirectURL('/callback');\n    logtoClient.signIn(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  if (message.action === 'signOut') {\n    const redirectUri = chrome.identity.getRedirectURL();\n    logtoClient.signOut(redirectUri).finally(sendResponse);\n    return true;\n  }\n\n  return false;\n});\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Voc\xea pode notar que h\xe1 dois URIs de redirecionamento usados no c\xf3digo acima. Ambos s\xe3o criados por ",(0,i.jsx)(o.code,{children:"chrome.identity.getRedirectURL"}),", que \xe9 uma ",(0,i.jsx)(o.a,{href:"https://developer.chrome.com/docs/extensions/reference/api/identity#method-getRedirectURL",children:"API integrada do Chrome"})," para gerar um URL de redirecionamento para fluxos de autentica\xe7\xe3o. Os dois URIs ser\xe3o:"]}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"https://<extension-id>.chromiumapp.org/callback"})," para login."]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.code,{children:"https://<extension-id>.chromiumapp.org/"})," para logout."]}),"\n"]}),"\n",(0,i.jsx)(o.p,{children:"Observe que esses URIs n\xe3o s\xe3o acess\xedveis e s\xe3o usados apenas para o Chrome acionar a\xe7\xf5es espec\xedficas para o processo de autentica\xe7\xe3o."}),"\n",(0,i.jsx)(o.h3,{id:"update-logto-application-settings",children:"Atualizar configura\xe7\xf5es do aplicativo Logto"}),"\n",(0,i.jsx)(o.p,{children:"Agora precisamos atualizar as configura\xe7\xf5es do aplicativo Logto para permitir os URIs de redirecionamento que acabamos de criar."}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsx)(o.li,{children:"V\xe1 para a p\xe1gina do aplicativo no Logto Console."}),"\n",(0,i.jsxs)(o.li,{children:['Na se\xe7\xe3o "Redirect URIs", adicione o URI: ',(0,i.jsx)(o.code,{children:"https://<extension-id>.chromiumapp.org/callback"}),"."]}),"\n",(0,i.jsxs)(o.li,{children:['Na se\xe7\xe3o "Post sign-out redirect URIs", adicione o URI: ',(0,i.jsx)(o.code,{children:"https://<extension-id>.chromiumapp.org/"}),"."]}),"\n",(0,i.jsxs)(o.li,{children:['Na se\xe7\xe3o "CORS allowed origins", adicione o URI: ',(0,i.jsx)(o.code,{children:"chrome-extension://<extension-id>"}),". O SDK na extens\xe3o Chrome usar\xe1 essa origem para se comunicar com as APIs do Logto."]}),"\n",(0,i.jsxs)(o.li,{children:["Clique em ",(0,i.jsx)(o.strong,{children:"Save changes"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["Lembre-se de substituir ",(0,i.jsx)(o.code,{children:"<extension-id>"})," pelo seu ID de extens\xe3o real. Voc\xea pode encontrar o ID da extens\xe3o na p\xe1gina ",(0,i.jsx)(o.code,{children:"chrome://extensions"}),"."]}),"\n",(0,i.jsx)(o.h3,{id:"add-sign-in-and-sign-out-buttons-to-the-popup",children:"Adicionar bot\xf5es de login e logout ao popup"}),"\n",(0,i.jsx)(o.p,{children:"Estamos quase l\xe1! Vamos adicionar os bot\xf5es de login e logout e outras l\xf3gicas necess\xe1rias \xe0 p\xe1gina de popup."}),"\n",(0,i.jsxs)(o.p,{children:["No arquivo ",(0,i.jsx)(o.code,{children:"popup.html"}),":"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-html",metastring:'title="popup.html"',children:'<button id="sign-in">Sign in</button> <button id="sign-out">Sign out</button>\n'})}),"\n",(0,i.jsxs)(o.p,{children:["No arquivo ",(0,i.jsx)(o.code,{children:"popup.js"})," (supondo que ",(0,i.jsx)(o.code,{children:"popup.js"})," esteja inclu\xeddo no ",(0,i.jsx)(o.code,{children:"popup.html"}),"):"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  // Login conclu\xeddo (ou falhou), voc\xea pode atualizar a UI aqui.\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  // Logout conclu\xeddo (ou falhou), voc\xea pode atualizar a UI aqui.\n});\n"})}),"\n",(0,i.jsx)(o.h3,{id:"checkpoint-test-the-authentication-flow",children:"Ponto de verifica\xe7\xe3o: Testar o fluxo de autentica\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Agora voc\xea pode testar o fluxo de autentica\xe7\xe3o na sua extens\xe3o Chrome:"}),"\n",(0,i.jsxs)(o.ol,{children:["\n",(0,i.jsx)(o.li,{children:"Abra o popup da extens\xe3o."}),"\n",(0,i.jsx)(o.li,{children:'Clique no bot\xe3o "Sign in".'}),"\n",(0,i.jsx)(o.li,{children:"Voc\xea ser\xe1 redirecionado para a p\xe1gina de login do Logto."}),"\n",(0,i.jsx)(o.li,{children:"Fa\xe7a login com sua conta Logto."}),"\n",(0,i.jsx)(o.li,{children:"Voc\xea ser\xe1 redirecionado de volta para o Chrome."}),"\n"]}),"\n",(0,i.jsx)(o.h3,{id:"check-authentication-state",children:"Verificar estado de autentica\xe7\xe3o"}),"\n",(0,i.jsx)(o.p,{children:"Como o Chrome fornece APIs de armazenamento unificadas, al\xe9m do fluxo de login e logout, todos os outros m\xe9todos do Logto SDK podem ser usados diretamente na p\xe1gina de popup."}),"\n",(0,i.jsxs)(o.p,{children:["No seu ",(0,i.jsx)(o.code,{children:"popup.js"}),", voc\xea pode reutilizar a inst\xe2ncia ",(0,i.jsx)(o.code,{children:"LogtoClient"})," criada no script de fundo ou criar uma nova com a mesma configura\xe7\xe3o:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="popup.js"',children:"import LogtoClient from '@logto/chrome-extension';\n\nconst logtoClient = new LogtoClient({\n  endpoint: '<your-logto-endpoint>'\n  appId: '<your-logto-app-id>',\n});\n\n// Ou reutilize a inst\xe2ncia logtoClient criada no script de fundo\nimport { logtoClient } from './service-worker.js';\n"})}),"\n",(0,i.jsx)(o.p,{children:"Em seguida, voc\xea pode criar uma fun\xe7\xe3o para carregar o estado de autentica\xe7\xe3o e o perfil do usu\xe1rio:"}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="popup.js"',children:"const loadAuthenticationState = async () => {\n  const isAuthenticated = await logtoClient.isAuthenticated();\n  // Atualize a UI com base no estado de autentica\xe7\xe3o\n\n  if (isAuthenticated) {\n    const user = await logtoClient.getIdTokenClaims(); // { sub: '...', email: '...', ... }\n    // Atualize a UI com o perfil do usu\xe1rio\n  }\n};\n"})}),"\n",(0,i.jsxs)(o.p,{children:["Voc\xea tamb\xe9m pode combinar a fun\xe7\xe3o ",(0,i.jsx)(o.code,{children:"loadAuthenticationState"})," com a l\xf3gica de login e logout:"]}),"\n",(0,i.jsx)(o.pre,{children:(0,i.jsx)(o.code,{className:"language-js",metastring:'title="popup.js"',children:"document.getElementById('sign-in').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signIn' });\n  await loadAuthenticationState();\n});\n\ndocument.getElementById('sign-out').addEventListener('click', async () => {\n  await chrome.runtime.sendMessage({ action: 'signOut' });\n  await loadAuthenticationState();\n});\n"})}),"\n",(0,i.jsx)(o.p,{children:"Aqui est\xe1 um exemplo da p\xe1gina de popup com o estado de autentica\xe7\xe3o:"}),"\n",(0,i.jsx)("img",{src:"/img/assets/extension-popup.webp",alt:"P\xe1gina de popup"}),"\n",(0,i.jsx)(o.h3,{id:"other-considerations",children:"Outras considera\xe7\xf5es"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"Empacotamento do service worker"}),": Se voc\xea usar um empacotador como Webpack ou Rollup, precisa definir explicitamente o alvo como ",(0,i.jsx)(o.code,{children:"browser"})," ou similar para evitar o empacotamento desnecess\xe1rio de m\xf3dulos Node.js."]}),"\n",(0,i.jsxs)(o.li,{children:[(0,i.jsx)(o.strong,{children:"Resolu\xe7\xe3o de m\xf3dulos"}),": O SDK de extens\xe3o Chrome do Logto \xe9 um m\xf3dulo somente ESM."]}),"\n"]}),"\n",(0,i.jsxs)(o.p,{children:["Veja nosso ",(0,i.jsx)(o.a,{href:"https://github.com/logto-io/js/tree/HEAD/packages/chrome-extension-sample",children:"projeto de exemplo"})," para um exemplo completo com TypeScript, Rollup e outras configura\xe7\xf5es."]})]})}function f(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(g,{...e})}):g(e)}const v={slug:"/quick-starts/chrome-extension",sidebar_label:"Extens\xe3o Chrome",sidebar_custom_props:{description:"Extens\xf5es Chrome s\xe3o mini aplicativos web que rodam dentro do Google Chrome."}},b="Adicionar autentica\xe7\xe3o ao seu aplicativo de extens\xe3o Chrome",k={},A=[{value:"Pr\xe9-requisitos",id:"prerequisites",level:2},{value:"Instala\xe7\xe3o",id:"installation",level:2},{value:"Integra\xe7\xe3o",id:"integration",level:2},...j,{value:"Obter informa\xe7\xf5es do usu\xe1rio",id:"get-user-information",level:2},...c.RM,{value:"Recursos de API",id:"api-resources",level:2},...a.RM,{value:"Leituras adicionais",id:"further-readings",level:2},...t.RM];function C(e){const o={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.header,{children:(0,i.jsx)(o.h1,{id:"adicionar-autentica\xe7\xe3o-ao-seu-aplicativo-de-extens\xe3o-chrome",children:"Adicionar autentica\xe7\xe3o ao seu aplicativo de extens\xe3o Chrome"})}),"\n",(0,i.jsx)(o.p,{children:"Este guia mostrar\xe1 como integrar o Logto na sua extens\xe3o Chrome."}),"\n",(0,i.jsx)(l,{}),"\n",(0,i.jsx)(o.h2,{id:"prerequisites",children:"Pr\xe9-requisitos"}),"\n",(0,i.jsxs)(o.ul,{children:["\n",(0,i.jsxs)(o.li,{children:["Uma conta ",(0,i.jsx)(o.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou um ",(0,i.jsx)(o.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-hospedado"}),"."]}),"\n",(0,i.jsx)(o.li,{children:"Um aplicativo de p\xe1gina \xfanica (SPA) criado no Logto Console."}),"\n",(0,i.jsx)(o.li,{children:"Um projeto de extens\xe3o Chrome."}),"\n"]}),"\n",(0,i.jsx)(o.h2,{id:"installation",children:"Instala\xe7\xe3o"}),"\n",(0,i.jsx)(m,{}),"\n",(0,i.jsx)(o.h2,{id:"integration",children:"Integra\xe7\xe3o"}),"\n",(0,i.jsx)(f,{}),"\n",(0,i.jsx)(o.h2,{id:"get-user-information",children:"Obter informa\xe7\xf5es do usu\xe1rio"}),"\n",(0,i.jsx)(c.Ay,{package:"@logto/chrome-extension"}),"\n",(0,i.jsx)(o.h2,{id:"api-resources",children:"Recursos de API"}),"\n",(0,i.jsx)(a.Ay,{package:"@logto/chrome-extension"}),"\n",(0,i.jsx)(o.h2,{id:"further-readings",children:"Leituras adicionais"}),"\n",(0,i.jsx)(t.Ay,{})]})}function y(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,i.jsx)(o,{...e,children:(0,i.jsx)(C,{...e})}):C(e)}},52397:(e,o,n)=>{n.d(o,{Ay:()=>y,RM:()=>A});var s=n(25105),i=n(79621),r=n(62310),t=n(40626),a=n(85153),c=n(57973),d=n(80173);function l(e){return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsx)(d.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...outras configura\xe7\xf5es\nscopes: [UserScope.Organizations],\n});`}),"\n"]})}function u(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}function p(e){const o={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-js",metastring:'title="index.js"',children:"import LogtoClient from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  // ...other configs\n  // highlight-next-line\n  resources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Adicionar recursos de API\n});\n"})})}function h(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function m(e){return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsx)(d.A,{language:"js",title:"index.js",children:`import LogtoClient from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nscopes: ['shopping:read', 'shopping:write', 'store:read', 'store:write'],\nresources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'], // Adicionar recursos de API\n// highlight-end\n});`}),"\n"]})}function x(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}function j(e){return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsx)(d.A,{language:"js",title:"index.js",children:`import LogtoClient, { UserScope } from '${e.package||"@logto/browser"}';\n\nconst logtoClient = new LogtoClient({\n// ...other configs\n// highlight-start\nscopes: ['read', 'write'],\nresources: ['https://shopping.your-app.com/api', 'https://store.your-app.com/api'],\n// highlight-end\n});`}),"\n"]})}function g(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(j,{...e})}):j(e)}function f(e){const o={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-js",children:"const accessToken = await logtoClient.getAccessToken('https://store.your-app.com/api');\nconsole.log('Token de acesso', accessToken);\n"})})}function v(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(f,{...e})}):f(e)}function b(e){const o={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-js",metastring:'title="index.js"',children:"// Obter organizationIds do userInfo\n\nconst claims = await logtoClient.getIdTokenClaims();\nconst organizationIds = claims.organizations;\n\n/**\n * Ou dos claims do token de ID\n *\n * const claims = await logtoClient.getIdTokenClaims();\n * const organizationIds = claims.organizations;\n */\n\n// Obter o token de acesso da organiza\xe7\xe3o\nif (organizationIds.length > 0) {\n  const organizationId = organizationIds[0];\n  const organizationAccessToken = await logtoClient.getOrganizationToken(organizationId);\n  console.log('Token de acesso da organiza\xe7\xe3o', organizationAccessToken);\n}\n"})})}function k(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}const A=[...r.RM,{value:"Configurar cliente Logto",id:"configure-logto-client",level:3},...t.RM,{value:"Buscar token de acesso para o recurso de API",id:"fetch-access-token-for-the-api-resource",level:3},...a.RM,{value:"Buscar tokens de organiza\xe7\xe3o",id:"fetch-organization-tokens",level:3},...c.RM,{value:"Anexar token de acesso aos cabe\xe7alhos da solicita\xe7\xe3o",id:"attach-access-token-to-request-headers",level:3}];function C(e){const o={admonition:"admonition",code:"code",h3:"h3",p:"p",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.Ay,{}),"\n",(0,s.jsx)(o.h3,{id:"configure-logto-client",children:"Configurar cliente Logto"}),"\n",(0,s.jsx)(t.Ay,{configResourcesCode:(0,s.jsx)(h,{}),configResourcesWithScopesCode:(0,s.jsx)(x,{package:e.package}),configResourcesWithSharedScopesCode:(0,s.jsx)(g,{package:e.package})}),"\n",(0,s.jsx)(o.h3,{id:"fetch-access-token-for-the-api-resource",children:"Buscar token de acesso para o recurso de API"}),"\n",(0,s.jsx)(a.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,s.jsx)(v,{})}),"\n",(0,s.jsx)(o.h3,{id:"fetch-organization-tokens",children:"Buscar tokens de organiza\xe7\xe3o"}),"\n",(0,s.jsx)(c.Ay,{organizationScope:"UserScope.Organizations",configOrganizationCode:(0,s.jsx)(u,{package:e.package}),getOrganizationAccessTokenCode:(0,s.jsx)(k,{})}),"\n",(0,s.jsx)(o.p,{children:"./code/_scopes-and-claims-code.mdx./code/_config-organization-code.mdx"}),"\n",(0,s.jsx)(o.h3,{id:"attach-access-token-to-request-headers",children:"Anexar token de acesso aos cabe\xe7alhos da solicita\xe7\xe3o"}),"\n",(0,s.jsxs)(o.p,{children:["Coloque o token no campo ",(0,s.jsx)(o.code,{children:"Authorization"})," dos cabe\xe7alhos HTTP com o formato Bearer (",(0,s.jsx)(o.code,{children:"Bearer YOUR_TOKEN"}),"), e voc\xea est\xe1 pronto para prosseguir."]}),"\n",(0,s.jsx)(o.admonition,{type:"note",children:(0,s.jsxs)(o.p,{children:["O fluxo de integra\xe7\xe3o do Bearer Token pode variar com base no framework ou solicitante que voc\xea est\xe1 usando. Escolha sua pr\xf3pria maneira de aplicar o cabe\xe7alho de solicita\xe7\xe3o ",(0,s.jsx)(o.code,{children:"Authorization"}),"."]})})]})}function y(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(C,{...e})}):C(e)}},85207:(e,o,n)=>{n.d(o,{Ay:()=>p,RM:()=>l});var s=n(25105),i=n(79621),r=n(80173),t=n(78766),a=n(46680),c=n(59832),d=n(93961);const l=[{value:"Exibir informa\xe7\xf5es do usu\xe1rio",id:"display-user-information",level:3},{value:"Solicitar reivindica\xe7\xf5es adicionais",id:"request-additional-claims",level:3},...a.RM,...d.RM,...t.RM,{value:"Escopos e reivindica\xe7\xf5es",id:"scopes-and-claims",level:3},...c.RM];function u(e){const o={code:"code",h3:"h3",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h3,{id:"display-user-information",children:"Exibir informa\xe7\xf5es do usu\xe1rio"}),"\n",(0,s.jsxs)(o.p,{children:["Para exibir as informa\xe7\xf5es do usu\xe1rio, voc\xea pode usar o m\xe9todo ",(0,s.jsx)(o.code,{children:"logtoClient.getIdTokenClaims()"}),". Por exemplo, na sua p\xe1gina inicial:"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-js",metastring:'title="Home.js"',children:"const userInfo = await logtoClient.getIdTokenClaims();\n\n// Gerar tabela de exibi\xe7\xe3o para reivindica\xe7\xf5es do token de ID\nconst table = document.createElement('table');\nconst thead = document.createElement('thead');\nconst tr = document.createElement('tr');\nconst thName = document.createElement('th');\nconst thValue = document.createElement('th');\nthName.innerHTML = 'Nome';\nthValue.innerHTML = 'Valor';\ntr.append(thName, thValue);\nthead.append(tr);\ntable.append(thead);\n\nconst tbody = document.createElement('tbody');\n\nfor (const [key, value] of Object.entries(userInfo)) {\n  const tr = document.createElement('tr');\n  const tdName = document.createElement('td');\n  const tdValue = document.createElement('td');\n  tdName.innerHTML = key;\n  tdValue.innerHTML = typeof value === 'string' ? value : JSON.stringify(value);\n  tr.append(tdName, tdValue);\n  tbody.append(tr);\n}\n\ntable.append(tbody);\n"})}),"\n",(0,s.jsx)(o.h3,{id:"request-additional-claims",children:"Solicitar reivindica\xe7\xf5es adicionais"}),"\n",(0,s.jsx)(a.Ay,{method:"getIdTokenClaims()"}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(o.p,{children:"Para solicitar escopos adicionais, voc\xea pode configurar as configura\xe7\xf5es do Logto:"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-js",metastring:'title="index.js"',children:"// highlight-next-line\nimport LogtoClient, { UserScope } from '@logto/browser';\n\nconst logtoClient = new LogtoClient({\n  appId: '<your-application-id>',\n  endpoint: '<your-logto-endpoint>',\n  // highlight-next-line\n  scopes: [UserScope.Email, UserScope.Phone],\n});\n"})}),"\n",(0,s.jsxs)(o.p,{children:["Ent\xe3o voc\xea pode acessar as reivindica\xe7\xf5es adicionais no valor de retorno de ",(0,s.jsx)(o.code,{children:"logtoClient.getIdTokenClaims()"}),":"]}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-ts",children:"const claims = await getIdTokenClaims();\n// Agora voc\xea pode acessar as reivindica\xe7\xf5es adicionais `claims.email`, `claims.phone`, etc.\n"})}),"\n",(0,s.jsx)(t.Ay,{type:"method",method:"logtoClient.fetchUserInfo()",codeSnippet:(0,s.jsx)(r.A,{language:"js",children:"const userInfo = await logtoClient.fetchUserInfo();\n// Agora voc\xea pode acessar a reivindica\xe7\xe3o `userInfo.custom_data`"})}),"\n",(0,s.jsx)(o.h3,{id:"scopes-and-claims",children:"Escopos e reivindica\xe7\xf5es"}),"\n",(0,s.jsx)(c.Ay,{})]})}function p(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},38552:(e,o,n)=>{n.d(o,{A:()=>t});n(58101);var s=n(13526);const i={tabItem:"tabItem_dgSZ"};var r=n(25105);function t(e){let{children:o,hidden:n,className:t}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,t),hidden:n,children:o})}},22002:(e,o,n)=>{n.d(o,{A:()=>A});var s=n(58101),i=n(13526),r=n(60755),t=n(55234),a=n(6635),c=n(4100),d=n(35661),l=n(42752);function u(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:o}=e;return!!o&&"object"==typeof o&&"value"in o}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:o,children:n}=e;return(0,s.useMemo)((()=>{const e=o??function(e){return u(e).map((e=>{let{props:{value:o,label:n,attributes:s,default:i}}=e;return{value:o,label:n,attributes:s,default:i}}))}(n);return function(e){const o=(0,d.XI)(e,((e,o)=>e.value===o.value));if(o.length>0)throw new Error(`Docusaurus error: Duplicate values "${o.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[o,n])}function h(e){let{value:o,tabValues:n}=e;return n.some((e=>e.value===o))}function m(e){let{queryString:o=!1,groupId:n}=e;const i=(0,t.W6)(),r=function(e){let{queryString:o=!1,groupId:n}=e;if("string"==typeof o)return o;if(!1===o)return null;if(!0===o&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:o,groupId:n});return[(0,c.aZ)(r),(0,s.useCallback)((e=>{if(!r)return;const o=new URLSearchParams(i.location.search);o.set(r,e),i.replace({...i.location,search:o.toString()})}),[r,i])]}function x(e){const{defaultValue:o,queryString:n=!1,groupId:i}=e,r=p(e),[t,c]=(0,s.useState)((()=>function(e){let{defaultValue:o,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(o){if(!h({value:o,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${o}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return o}const s=n.find((e=>e.default))??n[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:o,tabValues:r}))),[d,u]=m({queryString:n,groupId:i}),[x,j]=function(e){let{groupId:o}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(o),[i,r]=(0,l.Dv)(n);return[i,(0,s.useCallback)((e=>{n&&r.set(e)}),[n,r])]}({groupId:i}),g=(()=>{const e=d??x;return h({value:e,tabValues:r})?e:null})();(0,a.A)((()=>{g&&c(g)}),[g]);return{selectedValue:t,selectValue:(0,s.useCallback)((e=>{if(!h({value:e,tabValues:r}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),j(e)}),[u,j,r]),tabValues:r}}var j=n(21929);const g={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=n(25105);function v(e){let{className:o,block:n,selectedValue:s,selectValue:t,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,r.a_)(),l=e=>{const o=e.currentTarget,n=c.indexOf(o),i=a[n].value;i!==s&&(d(o),t(i))},u=e=>{let o=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;o=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;o=c[n]??c[c.length-1];break}}o?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},o),children:a.map((e=>{let{value:o,label:n,attributes:r}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===o?0:-1,"aria-selected":s===o,ref:e=>{c.push(e)},onKeyDown:u,onClick:l,...r,className:(0,i.A)("tabs__item",g.tabItem,r?.className,{"tabs__item--active":s===o}),children:n??o},o)}))})}function b(e){let{lazy:o,children:n,selectedValue:r}=e;const t=(Array.isArray(n)?n:[n]).filter(Boolean);if(o){const e=t.find((e=>e.props.value===r));return e?(0,s.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:t.map(((e,o)=>(0,s.cloneElement)(e,{key:o,hidden:e.props.value!==r})))})}function k(e){const o=x(e);return(0,f.jsxs)("div",{className:(0,i.A)("tabs-container",g.tabList),children:[(0,f.jsx)(v,{...o,...e}),(0,f.jsx)(b,{...o,...e})]})}function A(e){const o=(0,j.A)();return(0,f.jsx)(k,{...e,children:u(e.children)},String(o))}},55138:(e,o,n)=>{n.d(o,{A:()=>x});var s=n(28259),i=n(6097),r=n(58574),t=n(9484),a=n(76566),c=n(26346),d=n(17867),l=n(17510),u=n(13526),p=n(72355);const h={codeBlockContent:"codeBlockContent_m3Ux",codeBlockTitle:"codeBlockTitle_P25_",codeBlock:"codeBlock_qGQc",codeBlockStandalone:"codeBlockStandalone_zC50",codeBlockLines:"codeBlockLines_p187",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_OFgW",buttonGroup:"buttonGroup_6DOT"};var m=n(25105);function x(e){let{children:o,className:n="",metastring:x,title:j,showLineNumbers:g,language:f}=e;const{prism:{defaultLanguage:v,magicComments:b}}=(0,s.p)(),k=function(e){return e?.toLowerCase()}(f??(0,r.Op)(n)??v),A=(0,i.A)(),C=(0,t.f)(),y=(0,r.wt)(x)||j,{lineClassNames:R,code:I}=(0,r.Li)(o,{metastring:x,language:k,magicComments:b}),w=g??(0,r._u)(x);return(0,m.jsxs)(a.A,{as:"div",className:(0,u.A)(n,k&&!n.includes(`language-${k}`)&&`language-${k}`),children:[y&&(0,m.jsx)("div",{className:h.codeBlockTitle,children:y}),(0,m.jsxs)("div",{className:h.codeBlockContent,children:[(0,m.jsx)(p.f4,{theme:A,code:I,language:k??"text",children:e=>{let{className:o,tokens:n,getLineProps:s,getTokenProps:i}=e;return(0,m.jsx)("pre",{ref:C.codeBlockRef,tabIndex:0,className:(0,u.A)(o,h.codeBlock,"thin-scrollbar"),children:(0,m.jsx)("code",{className:(0,u.A)(h.codeBlockLines,w&&h.codeBlockLinesWithNumbering),children:n.map(((e,o)=>(0,m.jsx)(d.A,{line:e,getLineProps:s,getTokenProps:i,classNames:R[o],showLineNumbers:w},o)))})})}}),(0,m.jsxs)("div",{className:h.buttonGroup,children:[(C.isEnabled||C.isCodeScrollable)&&(0,m.jsx)(l.A,{className:h.codeButton,isEnabled:C.isEnabled,onClick:()=>{C.toggle()}}),(0,m.jsx)(c.A,{className:h.codeButton,code:I})]})]})]})}}}]);