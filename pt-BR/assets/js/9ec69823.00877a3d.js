"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[2344],{47511:(e,o,i)=>{i.d(o,{Ay:()=>t,RM:()=>r});var n=i(25105),a=i(79621);const r=[];function s(e){const o={a:"a",admonition:"admonition",p:"p",...(0,a.R)(),...e.components};return(0,n.jsx)(o.admonition,{type:"tip",children:(0,n.jsxs)(o.p,{children:["Este guia assume que voc\xea tem um entendimento b\xe1sico dos Conectores (Connectors) do Logto. Para aqueles que n\xe3o est\xe3o familiarizados, consulte o guia de ",(0,n.jsx)(o.a,{href:"/connectors",children:"Conectores"})," para come\xe7ar."]})})}function t(e={}){const{wrapper:o}={...(0,a.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(s,{...e})}):s(e)}},99481:(e,o,i)=>{i.r(o),i.d(o,{assets:()=>d,contentTitle:()=>p,default:()=>h,frontMatter:()=>l,metadata:()=>n,toc:()=>u});const n=JSON.parse('{"id":"integrations/social/apple/README","title":"Configurar login social com Apple","description":"O conector oficial do Logto para login social com Apple.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/apple/README.mdx","sourceDirName":"integrations/social/apple","slug":"/integrations/apple","permalink":"/pt-BR/integrations/apple","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrations/social/apple/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/integrations/apple","sidebar_label":"Apple","sidebar_custom_props":{"darkLogoFilename":"apple-dark.svg","description":"Apple \xe9 um fornecedor multinacional de hardware e software de alto padr\xe3o."},"tutorial_config_name":"Apple Sign-in"},"sidebar":"integrationsSidebar","previous":{"title":"Amazon","permalink":"/pt-BR/integrations/amazon"},"next":{"title":"Microsoft","permalink":"/pt-BR/integrations/azuread"}}');var a=i(25105),r=i(79621),s=i(47511);function t(e){const o={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.admonition,{type:"note",children:(0,a.jsx)(o.p,{children:"O login com Apple \xe9 obrigat\xf3rio para a AppStore se voc\xea tiver outros m\xe9todos de login social em seu aplicativo.\nTer o login com Apple em dispositivos Android \xe9 \xf3timo se voc\xea tamb\xe9m fornecer um aplicativo Android."})}),"\n",(0,a.jsxs)(o.p,{children:["Voc\xea precisa se inscrever no ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/programs/",children:"Apple Developer Program"})," antes de continuar."]}),"\n",(0,a.jsx)(o.h3,{id:"enable-sign-in-with-apple-for-your-app",children:"Ativar o login com Apple para seu aplicativo"}),"\n",(0,a.jsx)(o.admonition,{type:"caution",children:(0,a.jsx)(o.p,{children:"Mesmo que voc\xea queira implementar o login com Apple apenas em um aplicativo web, ainda precisar\xe1 ter um aplicativo existente que abrace o ecossistema da AppStore (ou seja, ter um ID de aplicativo v\xe1lido)."})}),"\n",(0,a.jsxs)(o.p,{children:["Voc\xea pode fazer isso via Xcode -> Configura\xe7\xf5es do projeto -> Assinatura & Capacidades, ou visitar ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/account/resources/identifiers/list/bundleId",children:"Certificates, Identifiers & Profiles"}),"."]}),"\n",(0,a.jsx)("img",{src:"/img/assets/enable-sign-in-with-apple-in-xcode.png",alt:"Ativar login com Apple"}),"\n",(0,a.jsxs)(o.p,{children:['Veja a se\xe7\xe3o "Enable an App ID" nos ',(0,a.jsx)(o.a,{href:"https://developer.apple.com/documentation/sign_in_with_apple/configuring_your_environment_for_sign_in_with_apple",children:"documentos oficiais da Apple"})," para mais informa\xe7\xf5es."]}),"\n",(0,a.jsx)(o.h3,{id:"create-an-identifier",children:"Criar um identificador"}),"\n",(0,a.jsxs)(o.ol,{children:["\n",(0,a.jsxs)(o.li,{children:["Visite ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/account/resources/identifiers/list/serviceId",children:"Certificates, Identifiers & Profiles"}),', ent\xe3o clique no bot\xe3o "+" ao lado de "Identifier".']}),"\n",(0,a.jsx)(o.li,{children:'Na p\xe1gina "Register a new identifier", escolha "Services IDs" e clique em "Continue".'}),"\n",(0,a.jsxs)(o.li,{children:['Preencha "Description" e "Identifier" (Ex.: ',(0,a.jsx)(o.code,{children:"Logto Test"})," e ",(0,a.jsx)(o.code,{children:"io.logto.test"}),'), ent\xe3o clique em "Continue".']}),"\n",(0,a.jsx)(o.li,{children:'Verifique as informa\xe7\xf5es e clique em "Register".'}),"\n"]}),"\n",(0,a.jsx)(o.h3,{id:"enable-sign-in-with-apple-for-your-identifier",children:"Ativar o login com Apple para seu identificador"}),"\n",(0,a.jsx)(o.p,{children:'Clique no identificador que voc\xea acabou de criar. Marque "Sign in with Apple" na p\xe1gina de detalhes e clique em "Configure".'}),"\n",(0,a.jsx)("img",{src:"/img/assets/enable-sign-in-with-apple.png",alt:"Ativar login com Apple"}),"\n",(0,a.jsx)(o.p,{children:"No modal que se abre, selecione o ID do aplicativo que voc\xea acabou de habilitar o login com Apple."}),"\n",(0,a.jsxs)(o.p,{children:["Digite o dom\xednio da sua inst\xe2ncia Logto sem protocolo e porta, por exemplo, ",(0,a.jsx)(o.code,{children:"your.logto.domain"}),'; em seguida, insira a "Return URL" (ou seja, URI de redirecionamento), que \xe9 a URL do Logto com ',(0,a.jsx)(o.code,{children:"/callback/${connector_id}"}),", por exemplo, ",(0,a.jsx)(o.code,{children:"https://your.logto.domain/callback/apple-universal"}),". Voc\xea pode obter o ",(0,a.jsx)(o.code,{children:"connector_id"})," gerado aleatoriamente ap\xf3s criar o conector Apple no Admin Console."]}),"\n",(0,a.jsx)("img",{src:"/img/assets/domain-and-url.png",alt:"Dom\xednio e URL"}),"\n",(0,a.jsx)(o.p,{children:'Clique em "Next" e depois em "Done" para fechar o modal. Clique em "Continue" no canto superior direito, depois clique em "Save" para salvar sua configura\xe7\xe3o.'}),"\n",(0,a.jsxs)(o.admonition,{type:"caution",children:[(0,a.jsxs)(o.p,{children:["A Apple N\xc3O permite URLs de retorno com protocolo HTTP e dom\xednio ",(0,a.jsx)(o.code,{children:"localhost"}),"."]}),(0,a.jsxs)(o.p,{children:["Se voc\xea quiser testar localmente, precisar\xe1 editar o arquivo ",(0,a.jsx)(o.code,{children:"/etc/hosts"})," para mapear localhost para um dom\xednio personalizado e configurar um ambiente HTTPS local. O ",(0,a.jsx)(o.a,{href:"https://github.com/FiloSottile/mkcert",children:"mkcert"})," pode ajud\xe1-lo a configurar o HTTPS local."]})]}),"\n",(0,a.jsx)(o.h2,{id:"configure-scope",children:"Configurar escopo"}),"\n",(0,a.jsxs)(o.p,{children:["Para obter o email do usu\xe1rio da Apple, voc\xea precisa configurar o escopo para incluir ",(0,a.jsx)(o.code,{children:"email"}),". Para obter tanto o email quanto o nome, voc\xea pode usar ",(0,a.jsx)(o.code,{children:"name email"})," como escopo. Veja os ",(0,a.jsx)(o.a,{href:"https://developer.apple.com/documentation/sign_in_with_apple/sign_in_with_apple_js/incorporating_sign_in_with_apple_into_other_platforms#3332113",children:"documentos oficiais da Apple"})," para mais informa\xe7\xf5es."]}),"\n",(0,a.jsx)(o.admonition,{type:"note",children:(0,a.jsxs)(o.p,{children:["O usu\xe1rio pode optar por ocultar seu endere\xe7o de email do seu aplicativo. Nesse caso, voc\xea n\xe3o poder\xe1 recuperar o endere\xe7o de email real. Um endere\xe7o de email como ",(0,a.jsx)(o.code,{children:"random@privaterelay.appleid.com"})," ser\xe1 retornado em vez disso."]})})]})}function c(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(t,{...e})}):t(e)}const l={slug:"/integrations/apple",sidebar_label:"Apple",sidebar_custom_props:{darkLogoFilename:"apple-dark.svg",description:"Apple \xe9 um fornecedor multinacional de hardware e software de alto padr\xe3o."},tutorial_config_name:"Apple Sign-in"},p="Configurar login social com Apple",d={},u=[...s.RM,{value:"Introdu\xe7\xe3o",id:"get-started",level:2},{value:"Ativar o login com Apple para seu aplicativo",id:"enable-sign-in-with-apple-for-your-app",level:3},{value:"Criar um identificador",id:"create-an-identifier",level:3},{value:"Ativar o login com Apple para seu identificador",id:"enable-sign-in-with-apple-for-your-identifier",level:3},{value:"Configurar escopo",id:"configure-scope",level:2},{value:"Armadilhas ao configurar escopo",id:"pitfalls-of-configuring-scope",level:3},{value:"Testar conector Apple",id:"test-apple-connector",level:2}];function m(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.header,{children:(0,a.jsx)(o.h1,{id:"configurar-login-social-com-apple",children:"Configurar login social com Apple"})}),"\n",(0,a.jsx)(o.p,{children:"O conector oficial do Logto para login social com Apple."}),"\n",(0,a.jsx)(s.Ay,{}),"\n",(0,a.jsx)(o.h2,{id:"get-started",children:"Introdu\xe7\xe3o"}),"\n",(0,a.jsxs)(o.p,{children:["Se voc\xea n\xe3o conhece o conceito do conector ou n\xe3o sabe como adicionar este conector \xe0 sua experi\xeancia de login, consulte o ",(0,a.jsx)(o.a,{href:"/connectors/social-connectors",children:"tutorial do Logto"}),"."]}),"\n",(0,a.jsx)(c,{}),"\n",(0,a.jsx)(o.h3,{id:"pitfalls-of-configuring-scope",children:"Armadilhas ao configurar escopo"}),"\n",(0,a.jsxs)(o.p,{children:["Se voc\xea configurou seu aplicativo para solicitar endere\xe7os de email dos usu\xe1rios ap\xf3s eles j\xe1 terem feito login com Apple, n\xe3o ser\xe1 poss\xedvel recuperar os endere\xe7os de email desses usu\xe1rios existentes, mesmo que eles fa\xe7am login novamente usando o Apple ID. Para resolver isso, voc\xea precisa instruir seus usu\xe1rios a visitarem a ",(0,a.jsx)(o.a,{href:"https://appleid.apple.com/account/manage",children:"p\xe1gina de gerenciamento de conta do Apple ID"}),' e remover seu aplicativo da se\xe7\xe3o "Sign in with Apple". Isso pode ser feito selecionando "Parar de usar Apple Sign In" na p\xe1gina de detalhes do seu aplicativo.']}),"\n",(0,a.jsxs)(o.p,{children:["Por exemplo, se seu aplicativo solicitar tanto o email quanto o nome dos usu\xe1rios (escopo ",(0,a.jsx)(o.code,{children:"email name"}),"), a tela de consentimento que novos usu\xe1rios veem durante seu primeiro login deve ser semelhante a esta:"]}),"\n",(0,a.jsx)("img",{src:"/img/assets/sign-in-with-apple-consent-screen.png",alt:"Tela de consentimento do Sign in with Apple"}),"\n",(0,a.jsxs)(o.p,{children:["Veja a discuss\xe3o de desenvolvedores ",(0,a.jsx)(o.a,{href:"https://forums.developer.apple.com/forums/thread/132223",children:"aqui"}),"."]}),"\n",(0,a.jsx)(o.h2,{id:"test-apple-connector",children:"Testar conector Apple"}),"\n",(0,a.jsxs)(o.p,{children:["\xc9 isso. O conector Apple deve estar dispon\xedvel tanto em aplicativos web quanto nativos. N\xe3o se esque\xe7a de ",(0,a.jsx)(o.a,{href:"/connectors/social-connectors/#enable-social-sign-in",children:"Habilitar conector social na experi\xeancia de login"}),"."]})]})}function h(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,a.jsx)(o,{...e,children:(0,a.jsx)(m,{...e})}):m(e)}},79621:(e,o,i)=>{i.d(o,{R:()=>s,x:()=>t});var n=i(58101);const a={},r=n.createContext(a);function s(e){const o=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function t(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),n.createElement(r.Provider,{value:o},e.children)}}}]);