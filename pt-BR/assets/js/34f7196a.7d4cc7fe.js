"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[6118],{85885:(e,o,a)=>{a.r(o),a.d(o,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>t,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"end-user-flows/organization-experience/create-organization","title":"Criar organiza\xe7\xe3o","description":"Imagine que voc\xea est\xe1 construindo um aplicativo multi-inquilino (por exemplo, um aplicativo SaaS multi-inquilino) que atende a v\xe1rios clientes, e cada cliente possui um inquilino dedicado. Quando um novo cliente chega, ele cria uma nova conta, assim como um novo inquilino para o seu pr\xf3prio neg\xf3cio.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","sourceDirName":"end-user-flows/organization-experience","slug":"/end-user-flows/organization-experience/create-organization","permalink":"/pt-BR/end-user-flows/organization-experience/create-organization","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Experi\xeancia de organiza\xe7\xe3o","permalink":"/pt-BR/end-user-flows/organization-experience/"},"next":{"title":"Convidar membros da organiza\xe7\xe3o","permalink":"/pt-BR/end-user-flows/organization-experience/invite-organization-members"}}');var n=a(25105),r=a(79621);const t={sidebar_position:1},s="Criar organiza\xe7\xe3o",c={},d=[{value:"Crie suas organiza\xe7\xf5es",id:"create-your-organizations",level:2},{value:"Criar via Logto Console",id:"create-via-logto-console",level:3},{value:"Criar via Logto Management API",id:"create-via-logto-management-api",level:3},{value:"Validando o token de organiza\xe7\xe3o na solicita\xe7\xe3o do usu\xe1rio",id:"validating-organization-token-in-user-request",level:2}];function l(e){const o={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{CloudLink:a,Url:i}=o;return a||p("CloudLink",!0),i||p("Url",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(o.header,{children:(0,n.jsx)(o.h1,{id:"criar-organiza\xe7\xe3o",children:"Criar organiza\xe7\xe3o"})}),"\n",(0,n.jsxs)(o.p,{children:["Imagine que voc\xea est\xe1 construindo um ",(0,n.jsx)(o.a,{href:"https://auth.wiki/multi-tenancy",children:"aplicativo multi-inquilino"})," (por exemplo, um aplicativo SaaS multi-inquilino) que atende a v\xe1rios clientes, e cada cliente possui um inquilino dedicado. Quando um novo cliente chega, ele cria uma nova conta, assim como um novo inquilino para o seu pr\xf3prio neg\xf3cio."]}),"\n",(0,n.jsxs)(o.p,{children:["Assim como voc\xea registrou sua conta no ",(0,n.jsx)(o.a,{href:"https://cloud.logto.io/",children:"Logto Cloud"}),' e possui seu pr\xf3prio inquilino Logto. Voc\xea pode implementar exatamente a mesma arquitetura em seu aplicativo tamb\xe9m, usando o recurso de "',(0,n.jsx)(o.a,{href:"/organizations",children:"organiza\xe7\xe3o"}),'" do Logto.']}),"\n",(0,n.jsx)(o.h2,{id:"create-your-organizations",children:"Crie suas organiza\xe7\xf5es"}),"\n",(0,n.jsx)(o.p,{children:"Existem duas maneiras de criar organiza\xe7\xf5es para o seu aplicativo."}),"\n",(0,n.jsx)(o.h3,{id:"create-via-logto-console",children:"Criar via Logto Console"}),"\n",(0,n.jsxs)(o.p,{children:["Crie manualmente suas organiza\xe7\xf5es atrav\xe9s da interface do Logto Console. V\xe1 para ",(0,n.jsx)(a,{to:"/organizations",children:"Console > Organiza\xe7\xf5es"})," para criar organiza\xe7\xe3o, atribuir membros e pap\xe9is, e personalizar a interface de experi\xeancia de login da organiza\xe7\xe3o."]}),"\n",(0,n.jsxs)(o.p,{children:['Crie um "',(0,n.jsx)(o.a,{href:"/authorization/organization-template",children:"modelo de organiza\xe7\xe3o"}),'" se voc\xea quiser criar em lote organiza\xe7\xf5es semelhantes que compartilham as mesmas configura\xe7\xf5es de pap\xe9is e permiss\xf5es.']}),"\n",(0,n.jsx)(o.h3,{id:"create-via-logto-management-api",children:"Criar via Logto Management API"}),"\n",(0,n.jsxs)(o.p,{children:["Clicar em bot\xf5es na interface do Console funciona bem, mas o ideal \xe9 permitir que os pr\xf3prios usu\xe1rios finais criem organiza\xe7\xf5es e as gerenciem ",(0,n.jsx)(o.strong,{children:"NO SEU Aplicativo"}),". Assim, voc\xea precisar\xe1 implementar esses recursos em seu aplicativo, com a ajuda do Logto Management API."]}),"\n",(0,n.jsxs)(o.admonition,{type:"note",children:[(0,n.jsx)(o.p,{children:"Se voc\xea n\xe3o est\xe1 familiarizado com o Logto Management API, por favor, certifique-se de ler estes documentos primeiro."}),(0,n.jsx)(i,{href:"/concepts/core-service/#management-api",children:"Management API"}),(0,n.jsx)(i,{href:"/integrate-logto/interact-with-management-api",children:"Interact with Management API"})]}),"\n",(0,n.jsx)(o.p,{children:"Supondo que voc\xea j\xe1 tenha conectado seu servidor backend de API ao endpoint do Logto Management API atrav\xe9s do mecanismo M\xe1quina para M\xe1quina (M2M), e adquirido o token de acesso M2M."}),"\n",(0,n.jsxs)(o.p,{children:["Crie uma organiza\xe7\xe3o com o Management API (",(0,n.jsx)(o.a,{href:"https://openapi.logto.io/operation/operation-createorganization",children:"refer\xeancias da API"}),"):"]}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-bash",children:'curl \\\n -X POST https://[tenant_id].logto.app/api/organizations \\\n -H "Authorization: Bearer $M2M_ACCESS_TOKEN" \\\n -H "Content-Type: application/json" \\\n -d \'{"tenantId":"string","name":"string","description":"string","customData":{},"isMfaRequired":false,"branding":{"logoUrl":"string","darkLogoUrl":"string","favicon":"string","darkFavicon":"string"},"createdAt":1234567890}\'\n'})}),"\n",(0,n.jsx)(o.p,{children:"Exemplo de resposta (201)"}),"\n",(0,n.jsx)(o.pre,{children:(0,n.jsx)(o.code,{className:"language-json",children:'{\n  "tenantId": "string",\n  "id": "string",\n  "name": "string",\n  "description": "string",\n  "customData": {},\n  "isMfaRequired": false,\n  "branding": {\n    "logoUrl": "string",\n    "darkLogoUrl": "string",\n    "favicon": "string",\n    "darkFavicon": "string"\n  },\n  "createdAt": 1234567890\n}\n'})}),"\n",(0,n.jsx)(o.p,{children:'Em seguida, voc\xea pode implementar sua pr\xf3pria API para o seu aplicativo. Assim, quando seus usu\xe1rios realizarem a a\xe7\xe3o de "criar organiza\xe7\xe3o" em seu aplicativo, voc\xea pode validar a solicita\xe7\xe3o verificando suas permiss\xf5es e, ent\xe3o, chamar o Logto Management API para fazer o restante do trabalho.'}),"\n",(0,n.jsx)(o.h2,{id:"validating-organization-token-in-user-request",children:"Validando o token de organiza\xe7\xe3o na solicita\xe7\xe3o do usu\xe1rio"}),"\n",(0,n.jsxs)(o.p,{children:["No seu aplicativo, quando os usu\xe1rios realizam a\xe7\xf5es no contexto de uma organiza\xe7\xe3o, eles precisam usar o token de organiza\xe7\xe3o em vez do token de acesso regular. O token de organiza\xe7\xe3o \xe9 um tipo especial de ",(0,n.jsx)(o.a,{href:"https://auth.wiki/jwt",children:"JWT"})," que cont\xe9m permiss\xf5es da organiza\xe7\xe3o. E assim como qualquer ",(0,n.jsx)(o.a,{href:"https://auth.wiki/access-token",children:"token de acesso"}),' JWT, voc\xea pode decodificar as reivindica\xe7\xf5es do token e verificar a reivindica\xe7\xe3o "scope" para checar permiss\xf5es.']}),"\n",(0,n.jsxs)(o.p,{children:["Veja ",(0,n.jsx)(i,{href:"/authorization",children:"Autoriza\xe7\xe3o (Authorization)"})," para mais detalhes sobre cen\xe1rios de autoriza\xe7\xe3o e como validar tokens de organiza\xe7\xe3o."]})]})}function u(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,n.jsx)(o,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}function p(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,o,a)=>{a.d(o,{R:()=>t,x:()=>s});var i=a(58101);const n={},r=i.createContext(n);function t(e){const o=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function s(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),i.createElement(r.Provider,{value:o},e.children)}}}]);