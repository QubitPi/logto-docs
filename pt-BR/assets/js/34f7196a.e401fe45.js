"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[66118],{77260:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>c,contentTitle:()=>s,default:()=>u,frontMatter:()=>t,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"end-user-flows/organization-experience/create-organization","title":"Criar organiza\xe7\xe3o","description":"Imagine que voc\xea est\xe1 construindo um aplicativo multi-tenant (por exemplo, aplicativo SaaS multi-tenant) que atende a v\xe1rios clientes, e cada cliente possui um tenant dedicado. Quando um novo cliente chega, ele cria uma nova conta, bem como um novo tenant para seu pr\xf3prio neg\xf3cio.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","sourceDirName":"end-user-flows/organization-experience","slug":"/end-user-flows/organization-experience/create-organization","permalink":"/pt-BR/end-user-flows/organization-experience/create-organization","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/end-user-flows/organization-experience/create-organization.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Experi\xeancia da organiza\xe7\xe3o","permalink":"/pt-BR/end-user-flows/organization-experience/"},"next":{"title":"Convidar membros da organiza\xe7\xe3o","permalink":"/pt-BR/end-user-flows/organization-experience/invite-organization-members"}}');var i=o(25105),r=o(79621);const t={sidebar_position:1},s="Criar organiza\xe7\xe3o",c={},d=[{value:"Crie suas organiza\xe7\xf5es",id:"create-your-organizations",level:2},{value:"Criar via Logto Console",id:"create-via-logto-console",level:3},{value:"Criar via Logto Management API",id:"create-via-logto-management-api",level:3},{value:"Validando token de organiza\xe7\xe3o na solicita\xe7\xe3o do usu\xe1rio",id:"validating-organization-token-in-user-request",level:2},{value:"Recursos relacionados",id:"related-resources",level:2}];function l(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components},{CloudLink:o,Url:n}=a;return o||p("CloudLink",!0),n||p("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.header,{children:(0,i.jsx)(a.h1,{id:"criar-organiza\xe7\xe3o",children:"Criar organiza\xe7\xe3o"})}),"\n",(0,i.jsxs)(a.p,{children:["Imagine que voc\xea est\xe1 construindo um ",(0,i.jsx)(a.a,{href:"https://auth.wiki/multi-tenancy",children:"aplicativo multi-tenant"})," (por exemplo, aplicativo SaaS multi-tenant) que atende a v\xe1rios clientes, e cada cliente possui um tenant dedicado. Quando um novo cliente chega, ele cria uma nova conta, bem como um novo tenant para seu pr\xf3prio neg\xf3cio."]}),"\n",(0,i.jsxs)(a.p,{children:["Assim como voc\xea registrou sua conta no ",(0,i.jsx)(a.a,{href:"https://cloud.logto.io/",children:"Logto Cloud"}),' e tem seu pr\xf3prio tenant Logto. Voc\xea pode implementar a mesma arquitetura em seu aplicativo, usando o recurso de "',(0,i.jsx)(a.a,{href:"/organizations",children:"organiza\xe7\xe3o"}),'" do Logto.']}),"\n",(0,i.jsx)(a.h2,{id:"create-your-organizations",children:"Crie suas organiza\xe7\xf5es"}),"\n",(0,i.jsx)(a.p,{children:"Existem duas maneiras de criar organiza\xe7\xf5es para seu aplicativo."}),"\n",(0,i.jsx)(a.h3,{id:"create-via-logto-console",children:"Criar via Logto Console"}),"\n",(0,i.jsxs)(a.p,{children:["Crie manualmente suas organiza\xe7\xf5es atrav\xe9s da interface do Logto Console. V\xe1 para ",(0,i.jsx)(o,{to:"/organizations",children:"Console > Organizations"})," para criar organiza\xe7\xe3o, atribuir membros e pap\xe9is, e personalizar a interface de experi\xeancia de login da organiza\xe7\xe3o."]}),"\n",(0,i.jsxs)(a.p,{children:['Crie um "',(0,i.jsx)(a.a,{href:"/authorization/organization-template",children:"modelo de organiza\xe7\xe3o"}),'" se voc\xea quiser criar em lote organiza\xe7\xf5es semelhantes que compartilham as mesmas configura\xe7\xf5es de ',(0,i.jsx)(a.a,{href:"/authorization/organization-template/configure-organization-template#create-organization-role",children:"papel"})," e ",(0,i.jsx)(a.a,{href:"/authorization/organization-template/configure-organization-template#create-organization-permission",children:"permiss\xe3o"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"create-via-logto-management-api",children:"Criar via Logto Management API"}),"\n",(0,i.jsxs)(a.p,{children:["Clicar em bot\xf5es na interface do Console funciona bem, mas realmente queremos que os usu\xe1rios finais se sirvam e criem organiza\xe7\xf5es, gerenciem as organiza\xe7\xf5es eles mesmos ",(0,i.jsx)(a.strong,{children:"NO SEU Aplicativo"}),". Assim, voc\xea ter\xe1 que implementar esses recursos em seu aplicativo, com a ajuda do Logto Management API."]}),"\n",(0,i.jsxs)(a.admonition,{type:"note",children:[(0,i.jsx)(a.p,{children:"Se voc\xea n\xe3o est\xe1 familiarizado com o Logto Management API, certifique-se de ler estes documentos primeiro."}),(0,i.jsx)(n,{href:"/concepts/core-service/#management-api",children:"Management API"}),(0,i.jsx)(n,{href:"/integrate-logto/interact-with-management-api",children:"Interagir com Management API"})]}),"\n",(0,i.jsx)(a.p,{children:"Assumindo que voc\xea j\xe1 conectou seu servidor de backend de API ao endpoint do Logto Management API atrav\xe9s do mecanismo M\xe1quina para M\xe1quina (M2M), e adquiriu o token de acesso M2M."}),"\n",(0,i.jsxs)(a.p,{children:["Crie uma organiza\xe7\xe3o com Management API (",(0,i.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-createorganization",children:"refer\xeancias de API"}),"):"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:'curl \\\n -X POST https://[tenant_id].logto.app/api/organizations \\\n -H "Authorization: Bearer $M2M_ACCESS_TOKEN" \\\n -H "Content-Type: application/json" \\\n -d \'{"tenantId":"string","name":"string","description":"string","customData":{},"isMfaRequired":false,"branding":{"logoUrl":"string","darkLogoUrl":"string","favicon":"string","darkFavicon":"string"},"createdAt":1234567890}\'\n'})}),"\n",(0,i.jsx)(a.p,{children:"Exemplo de resposta (201)"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-json",children:'{\n  "tenantId": "string",\n  "id": "string",\n  "name": "string",\n  "description": "string",\n  "customData": {},\n  "isMfaRequired": false,\n  "branding": {\n    "logoUrl": "string",\n    "darkLogoUrl": "string",\n    "favicon": "string",\n    "darkFavicon": "string"\n  },\n  "createdAt": 1234567890\n}\n'})}),"\n",(0,i.jsx)(a.p,{children:'Em seguida, voc\xea pode implementar sua pr\xf3pria API para seu aplicativo. Assim, quando seus usu\xe1rios realizarem a a\xe7\xe3o de "criar organiza\xe7\xe3o" em seu aplicativo, voc\xea poder\xe1 validar a solicita\xe7\xe3o verificando suas permiss\xf5es e, em seguida, chamar o Logto Management API para fazer o restante do trabalho.'}),"\n",(0,i.jsx)(a.h2,{id:"validating-organization-token-in-user-request",children:"Validando token de organiza\xe7\xe3o na solicita\xe7\xe3o do usu\xe1rio"}),"\n",(0,i.jsxs)(a.p,{children:["Em seu aplicativo, quando os usu\xe1rios realizam a\xe7\xf5es no contexto de uma organiza\xe7\xe3o, eles precisam usar o token de organiza\xe7\xe3o em vez do token de acesso regular. O token de organiza\xe7\xe3o \xe9 um tipo especial de ",(0,i.jsx)(a.a,{href:"https://auth.wiki/jwt",children:"JWT"})," que cont\xe9m permiss\xf5es da organiza\xe7\xe3o. E assim como qualquer ",(0,i.jsx)(a.a,{href:"https://auth.wiki/access-token",children:"token de acesso"}),' JWT, voc\xea pode decodificar as reivindica\xe7\xf5es do token e verificar a reivindica\xe7\xe3o "escopo" para verifica\xe7\xe3o de permiss\xe3o.']}),"\n",(0,i.jsx)(a.p,{children:"Consulte estas documenta\xe7\xf5es para mais detalhes:"}),"\n",(0,i.jsx)(n,{href:"/authorization/organization-template/protect-organization-resources",children:(0,i.jsx)(a.p,{children:"Verificar tokens de organiza\xe7\xe3o"})}),"\n",(0,i.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:"Proteger sua API"}),"\n",(0,i.jsx)(a.h2,{id:"related-resources",children:"Recursos relacionados"}),"\n",(0,i.jsx)(n,{href:"https://blog.logto.io/implement-multi-tenancy",children:(0,i.jsx)(a.p,{children:"Implementa\xe7\xe3o de multi-tenancy com Postgres"})})]})}function u(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function p(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,a,o)=>{o.d(a,{R:()=>t,x:()=>s});var n=o(58101);const i={},r=n.createContext(i);function t(e){const a=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function s(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),n.createElement(r.Provider,{value:a},e.children)}}}]);