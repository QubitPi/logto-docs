"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[3534],{42097:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>i});var r=s(25105),o=s(79621);const i=[{value:"Ponto de verifica\xe7\xe3o: Teste seu aplicativo",id:"checkpoint-test-your-application",level:3}];function t(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Ponto de verifica\xe7\xe3o: Teste seu aplicativo"}),"\n",(0,r.jsx)(n.p,{children:"Agora, voc\xea pode testar seu aplicativo:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Execute seu aplicativo, voc\xea ver\xe1 o bot\xe3o de login."}),"\n",(0,r.jsx)(n.li,{children:"Clique no bot\xe3o de login, o SDK iniciar\xe1 o processo de login e redirecionar\xe1 voc\xea para a p\xe1gina de login do Logto."}),"\n",(0,r.jsx)(n.li,{children:"Ap\xf3s fazer login, voc\xea ser\xe1 redirecionado de volta para seu aplicativo e ver\xe1 o bot\xe3o de logout."}),"\n",(0,r.jsx)(n.li,{children:"Clique no bot\xe3o de logout para limpar o armazenamento de tokens e sair."}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},20045:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>i});var r=s(25105),o=s(79621);const i=[];function t(e){const{Url:n}={...(0,o.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{href:"/end-user-flows",children:" Fluxos do usu\xe1rio final: fluxos de autentica\xe7\xe3o, fluxos de conta e fluxos de organiza\xe7\xe3o "}),"\n",(0,r.jsx)(n,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,r.jsx)(n,{href:"/authorization",children:" Autoriza\xe7\xe3o (Authorization) "})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},71325:(e,n,s)=>{s.d(n,{Ay:()=>d,RM:()=>a});var r=s(25105),o=s(79621),i=s(38552),t=s(22002);const a=[];function c(e){const n={p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Importe o Logto SDK atrav\xe9s do seu gerenciador de pacotes favorito:"}),"\n",(0,r.jsxs)(t.A,{children:[(0,r.jsx)(i.A,{value:"npm",label:"npm",children:(0,r.jsx)("pre",{children:(0,r.jsxs)("code",{className:"language-bash",children:["npm i ",e.packageName]})})}),(0,r.jsx)(i.A,{value:"pnpm",label:"pnpm",children:(0,r.jsx)("pre",{children:(0,r.jsxs)("code",{className:"language-bash",children:["pnpm add ",e.packageName]})})}),(0,r.jsx)(i.A,{value:"yarn",label:"yarn",children:(0,r.jsx)("pre",{children:(0,r.jsxs)("code",{className:"language-bash",children:["yarn add ",e.packageName]})})})]})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},81427:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>i});var r=s(25105),o=s(79621);const i=[{value:"Sobre o login baseado em redirecionamento",id:"regarding-redirect-based-sign-in",level:3}];function t(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,o.R)(),...e.components},{Details:s,MainSiteUrl:i}=n;return s||c("Details",!0),i||c("MainSiteUrl",!0),(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Sobre o login baseado em redirecionamento"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Este processo de autentica\xe7\xe3o segue o protocolo ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", e o Logto aplica medidas de seguran\xe7a rigorosas para proteger o login do usu\xe1rio."]}),"\n",(0,r.jsx)(n.li,{children:"Se voc\xea tiver v\xe1rios aplicativos, pode usar o mesmo provedor de identidade (Logto). Uma vez que o usu\xe1rio faz login em um aplicativo, o Logto completar\xe1 automaticamente o processo de login quando o usu\xe1rio acessar outro aplicativo."}),"\n"]}),(0,r.jsxs)(n.p,{children:["Para saber mais sobre a l\xf3gica e os benef\xedcios do login baseado em redirecionamento, veja ",(0,r.jsx)(i,{href:"/concepts/sign-in-experience",children:"Experi\xeancia de login do Logto explicada"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},26461:(e,n,s)=>{s.d(n,{Ay:()=>a,RM:()=>i});var r=s(25105),o=s(79621);const i=[];function t(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Aqui est\xe1 a lista de escopos suportados e as reivindica\xe7\xf5es correspondentes:"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"openid"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sub"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"O identificador \xfanico do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"profile"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"O nome completo do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"O nome de usu\xe1rio do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"picture"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"URL da foto de perfil do Usu\xe1rio Final. Este URL DEVE referir-se a um arquivo de imagem (por exemplo, um arquivo de imagem PNG, JPEG ou GIF), em vez de uma p\xe1gina da Web contendo uma imagem. Note que este URL DEVE referir-se especificamente a uma foto de perfil do Usu\xe1rio Final adequada para exibi\xe7\xe3o ao descrever o Usu\xe1rio Final, em vez de uma foto arbitr\xe1ria tirada pelo Usu\xe1rio Final."}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"created_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Hora em que o Usu\xe1rio Final foi criado. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"updated_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Hora em que as informa\xe7\xf5es do Usu\xe1rio Final foram atualizadas pela \xfaltima vez. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Outras ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reivindica\xe7\xf5es padr\xe3o"})," incluem ",(0,r.jsx)(n.code,{children:"family_name"}),", ",(0,r.jsx)(n.code,{children:"given_name"}),", ",(0,r.jsx)(n.code,{children:"middle_name"}),", ",(0,r.jsx)(n.code,{children:"nickname"}),", ",(0,r.jsx)(n.code,{children:"preferred_username"}),", ",(0,r.jsx)(n.code,{children:"profile"}),", ",(0,r.jsx)(n.code,{children:"website"}),", ",(0,r.jsx)(n.code,{children:"gender"}),", ",(0,r.jsx)(n.code,{children:"birthdate"}),", ",(0,r.jsx)(n.code,{children:"zoneinfo"})," e ",(0,r.jsx)(n.code,{children:"locale"})," tamb\xe9m ser\xe3o inclu\xeddas no escopo ",(0,r.jsx)(n.code,{children:"profile"})," sem a necessidade de solicitar o endpoint userinfo. Uma diferen\xe7a em rela\xe7\xe3o \xe0s reivindica\xe7\xf5es acima \xe9 que essas reivindica\xe7\xf5es s\xf3 ser\xe3o retornadas quando seus valores n\xe3o estiverem vazios, enquanto as reivindica\xe7\xf5es acima retornar\xe3o ",(0,r.jsx)(n.code,{children:"null"})," se os valores estiverem vazios."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Ao contr\xe1rio das reivindica\xe7\xf5es padr\xe3o, as reivindica\xe7\xf5es ",(0,r.jsx)(n.code,{children:"created_at"})," e ",(0,r.jsx)(n.code,{children:"updated_at"})," est\xe3o usando milissegundos em vez de segundos."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"email"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"O endere\xe7o de email do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Se o endere\xe7o de email foi verificado"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"phone"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"O n\xfamero de telefone do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Se o n\xfamero de telefone foi verificado"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"address"})})}),"\n",(0,r.jsxs)(n.p,{children:["Por favor, consulte o ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para os detalhes da reivindica\xe7\xe3o de endere\xe7o."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"custom_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"Os dados personalizados do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"Sim"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"identities"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"As identidades vinculadas do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"Sim"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sso_identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})}),(0,r.jsx)(n.td,{children:"As identidades SSO vinculadas do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"Sim"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"roles"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"roles"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:"Os pap\xe9is do usu\xe1rio"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organizations"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:"Os IDs das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,r.jsx)(n.td,{children:"N\xe3o"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object[]"})}),(0,r.jsx)(n.td,{children:"Os dados das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,r.jsx)(n.td,{children:"Sim"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Tipo"}),(0,r.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_roles"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsxs)(n.td,{children:["Os pap\xe9is das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence com o formato ",(0,r.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,r.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:['Considerando o desempenho e o tamanho dos dados, se "Precisa de userinfo?" for "Sim", isso significa que a reivindica\xe7\xe3o n\xe3o aparecer\xe1 no Token de ID, mas ser\xe1 retornada na resposta do ',(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(t,{...e})}):t(e)}},59832:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var r=s(25105),o=s(79621),i=s(26461);const t=[...i.RM];function a(e){const n={a:"a",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Logto usa as ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"conven\xe7\xf5es de escopos e reivindica\xe7\xf5es"})," do OIDC para definir os escopos e reivindica\xe7\xf5es para recuperar informa\xe7\xf5es do usu\xe1rio do Token de ID e do ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' do OIDC. Tanto "escopo" quanto "reivindica\xe7\xe3o" s\xe3o termos das especifica\xe7\xf5es OAuth 2.0 e OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Em resumo, quando voc\xea solicita um escopo, voc\xea obter\xe1 as reivindica\xe7\xf5es correspondentes nas informa\xe7\xf5es do usu\xe1rio. Por exemplo, se voc\xea solicitar o escopo `email`, voc\xea obter\xe1 os dados `email` e `email_verified` do usu\xe1rio."}),(0,r.jsx)("p",{children:"Por padr\xe3o, o Logto SDK sempre solicitar\xe1 tr\xeas escopos: `openid`, `profile` e `offline_access`, e n\xe3o h\xe1 como remover esses escopos padr\xe3o. Mas voc\xea pode adicionar mais escopos ao configurar o Logto:"}),e.configScopesCode]}),"\n",(0,r.jsx)(i.Ay,{})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},44251:(e,n,s)=>{s.d(n,{Ay:()=>c,Ip:()=>i,RM:()=>t});var r=s(25105),o=s(79621);const i="http://localhost:3000/",t=[];function a(e){const n={admonition:"admonition",p:"p",...(0,o.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Nos trechos de c\xf3digo a seguir, assumimos que seu aplicativo est\xe1 sendo executado em ",(0,r.jsx)("code",{children:i}),"."]})})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},7225:(e,n,s)=>{s.d(n,{Ay:()=>d,Ip:()=>i,RM:()=>a,YF:()=>t});var r=s(25105),o=s(79621);const i="http://localhost:3000/",t=`${i}callback`,a=[{value:"Configurar URIs de redirecionamento",id:"configure-redirect-uris",level:4}];function c(e){const n={h4:"h4",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:["\n","\n",(0,r.jsx)(n.h4,{id:"configure-redirect-uris",children:"Configurar URIs de redirecionamento"}),"\n",(0,r.jsxs)(n.p,{children:["V\xe1 para a p\xe1gina de detalhes do aplicativo no Logto Console. Adicione um URI de redirecionamento ",(0,r.jsx)("code",{children:e.redirectUri??"http://localhost:3000/callback"}),"."]}),"\n",(0,r.jsx)("img",{alt:"URI de redirecionamento no Logto Console",src:"/img/assets/web-redirect-uri.png",width:"600px"}),"\n",(0,r.jsxs)(n.p,{children:["Assim como no login, os usu\xe1rios devem ser redirecionados para o Logto para sair da sess\xe3o compartilhada. Uma vez conclu\xeddo, seria \xf3timo redirecionar o usu\xe1rio de volta para o seu site. Por exemplo, adicione ",(0,r.jsx)("code",{children:i})," como a se\xe7\xe3o de URI de redirecionamento p\xf3s logout."]}),"\n",(0,r.jsx)(n.p,{children:'Em seguida, clique em "Salvar" para salvar as altera\xe7\xf5es.'})]})}function d(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},84057:(e,n,s)=>{s.d(n,{Ay:()=>c,RM:()=>t});var r=s(25105),o=s(79621),i=s(81427);const t=[...i.RM];function a(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Antes de entrarmos nos detalhes, aqui est\xe1 uma vis\xe3o geral r\xe1pida da experi\xeancia do usu\xe1rio final. O processo de login pode ser simplificado da seguinte forma:"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n    A(Seu app) --\x3e|1\\. Iniciar login| B(Logto)\n    B --\x3e|2\\. Finalizar login| A"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Seu app invoca o m\xe9todo de login."}),"\n",(0,r.jsx)(n.li,{children:"O usu\xe1rio \xe9 redirecionado para a p\xe1gina de login do Logto. Para aplicativos nativos, o navegador do sistema \xe9 aberto."}),"\n",(0,r.jsx)(n.li,{children:"O usu\xe1rio faz login e \xe9 redirecionado de volta para seu app (configurado como o URI de redirecionamento)."}),"\n"]}),"\n",(0,r.jsx)(i.Ay,{}),"\n",(0,r.jsx)(n.hr,{})]})}function c(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},69918:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>N,contentTitle:()=>q,default:()=>C,frontMatter:()=>A,metadata:()=>r,toc:()=>S});const r=JSON.parse('{"id":"quick-starts/framework/passport/README","title":"Adicionar autentica\xe7\xe3o ao seu aplicativo Passport.js","description":"Este guia mostrar\xe1 como integrar o Logto ao seu aplicativo com Passport.js e estrat\xe9gia OIDC.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/passport/README.mdx","sourceDirName":"quick-starts/framework/passport","slug":"/quick-starts/passport","permalink":"/pt-BR/quick-starts/passport","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/passport/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/passport","sidebar_label":"Passport.js","sidebar_custom_props":{"logoFilename":"passport.svg","darkLogoFilename":"passport-dark.svg","description":"Passport \xe9 um middleware de autentica\xe7\xe3o para Node.js."}},"sidebar":"quickStartSidebar","previous":{"title":"Nuxt","permalink":"/pt-BR/quick-starts/nuxt"},"next":{"title":"PHP","permalink":"/pt-BR/quick-starts/php"}}');var o=s(25105),i=s(79621),t=s(20045);function a(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsx)(n.admonition,{type:"tip",children:(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Neste guia, assumimos que voc\xea configurou o Express com sess\xe3o em seu projeto. Se voc\xea ainda n\xe3o fez isso, confira o ",(0,o.jsx)(n.a,{href:"https://expressjs.com/",children:"site do Express.js"})," para come\xe7ar."]}),"\n"]})})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}var d=s(71325);const l=[...d.RM];function p(e){return(0,o.jsx)(d.Ay,{packageName:"passport passport-openidconnect"})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(p,{...e})}):p()}var h=s(42097),x=s(44251),j=s(7225),m=s(84057);const g=[{value:"Inicializar Passport.js com a estrat\xe9gia OIDC",id:"initialize-passportjs-with-oidc-strategy",level:3},{value:"Configurar URIs de redirecionamento",id:"configure-redirect-uris",level:3},...m.RM,...x.RM,...j.RM,{value:"Implementar login e logout",id:"implement-sign-in-and-sign-out",level:3},...h.RM];function f(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h3,{id:"initialize-passportjs-with-oidc-strategy",children:"Inicializar Passport.js com a estrat\xe9gia OIDC"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",metastring:'title="passport.ts"',children:"import passport from 'passport';\nimport OpenIDConnectStrategy, { type Profile, type VerifyCallback } from 'passport-openidconnect';\n\nconst endpoint = '<your-logto-endpoint>';\nconst appId = '<your-application-id>';\nconst appSecret = '<your-application-secret>';\n\nexport default function initPassport() {\n  passport.use(\n    new OpenIDConnectStrategy(\n      {\n        issuer: `${endpoint}/oidc`,\n        authorizationURL: `${endpoint}/oidc/auth`,\n        tokenURL: `${endpoint}/oidc/token`,\n        userInfoURL: `${endpoint}/oidc/me`,\n        clientID: appId,\n        clientSecret: appSecret,\n        callbackURL: '/callback',\n        scope: ['profile', 'offline_access'],\n      },\n      (issuer: string, profile: Profile, callback: VerifyCallback) => {\n        callback(null, profile);\n      }\n    )\n  );\n\n  passport.serializeUser((user, callback) => {\n    callback(null, user);\n  });\n\n  passport.deserializeUser(function (user, callback) {\n    callback(null, user as Express.User);\n  });\n}\n"})}),"\n",(0,o.jsxs)(n.p,{children:["Este c\xf3digo inicializa o Passport com a ",(0,o.jsx)(n.strong,{children:(0,o.jsx)(n.code,{children:"OpenIDConnectStrategy"})}),". Os m\xe9todos serialize e deserialize s\xe3o configurados para fins de demonstra\xe7\xe3o."]}),"\n",(0,o.jsx)(n.p,{children:"Certifique-se de inicializar e anexar o middleware Passport em seu aplicativo:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"import initPassport from './passport';\n\n// ... other code\ninitPassport();\n// ... other code\napp.use(passport.authenticate('session'));\n// ... other code\n"})}),"\n",(0,o.jsx)(n.h3,{id:"configure-redirect-uris",children:"Configurar URIs de redirecionamento"}),"\n",(0,o.jsx)(m.Ay,{}),"\n",(0,o.jsx)(x.Ay,{}),"\n",(0,o.jsx)(j.Ay,{}),"\n",(0,o.jsx)(n.h3,{id:"implement-sign-in-and-sign-out",children:"Implementar login e logout"}),"\n",(0,o.jsx)(n.p,{children:"Agora vamos criar rotas espec\xedficas para os processos de autentica\xe7\xe3o:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"app.get('/sign-in', passport.authenticate('openidconnect'));\napp.get(\n  '/callback',\n  passport.authenticate('openidconnect', {\n    successReturnToOrRedirect: '/',\n  })\n);\napp.get('/sign-out', (request, response, next) => {\n  request.logout((error) => {\n    if (error) {\n      next(error);\n      return;\n    }\n    response.redirect(`${endpoint}/oidc/session/end?client_id=${appId}`);\n  });\n});\n"})}),"\n",(0,o.jsx)(n.p,{children:"Em seguida, adicione \xe0 p\xe1gina inicial"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"app.get('/', (request: Request, response) => {\n  const { user } = request;\n  response.setHeader('content-type', 'text/html');\n\n  if (user) {\n    response.end(\n      `<h1>Hello Logto</h1><p>Signed in as ${JSON.stringify(\n        user\n      )}, <a href=\"/sign-out\">Sign Out</a></p>`\n    );\n  } else {\n    response.end(`<h1>Hello Logto</h1><p><a href=\"/sign-in\">Sign In</a></p>`);\n  }\n});\n"})}),"\n",(0,o.jsx)(h.Ay,{})]})}function v(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(f,{...e})}):f(e)}var b=s(59832);function y(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-ts",children:"export default function initPassport() {\n  passport.use(\n    new OpenIDConnectStrategy(\n      {\n        // ... other options\n        clientID: appId,\n        clientSecret: appSecret,\n        callbackURL: '/callback',\n        // highlight-start\n        scope: ['openid', 'offline_access', 'profile', 'email'],\n        // highlight-end\n      }\n      // ... other options\n    )\n  );\n  // ... other options\n}\n"})})}function R(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(y,{...e})}):y(e)}const I=[...b.RM];function k(e){return(0,o.jsx)(b.Ay,{configScopesCode:(0,o.jsx)(R,{})})}function w(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(k,{...e})}):k()}const A={slug:"/quick-starts/passport",sidebar_label:"Passport.js",sidebar_custom_props:{logoFilename:"passport.svg",darkLogoFilename:"passport-dark.svg",description:"Passport \xe9 um middleware de autentica\xe7\xe3o para Node.js."}},q="Adicionar autentica\xe7\xe3o ao seu aplicativo Passport.js",N={},S=[{value:"Pr\xe9-requisitos",id:"prerequisites",level:2},{value:"Instala\xe7\xe3o",id:"installation",level:2},...l,{value:"Integra\xe7\xe3o",id:"integration",level:2},...g,{value:"Escopos e reivindica\xe7\xf5es",id:"scopes-and-claims",level:2},...I,{value:"Leituras adicionais",id:"further-readings",level:2},...t.RM];function _(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"adicionar-autentica\xe7\xe3o-ao-seu-aplicativo-passportjs",children:"Adicionar autentica\xe7\xe3o ao seu aplicativo Passport.js"})}),"\n",(0,o.jsxs)(n.p,{children:["Este guia mostrar\xe1 como integrar o Logto ao seu aplicativo com ",(0,o.jsx)(n.a,{href:"https://www.passportjs.org/",children:"Passport.js"})," e estrat\xe9gia OIDC."]}),"\n",(0,o.jsx)(c,{}),"\n",(0,o.jsx)(n.h2,{id:"prerequisites",children:"Pr\xe9-requisitos"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Uma conta no ",(0,o.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou um ",(0,o.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-hospedado"}),"."]}),"\n",(0,o.jsx)(n.li,{children:"Um aplicativo tradicional Logto criado."}),"\n",(0,o.jsxs)(n.li,{children:["Um projeto express com sess\xe3o configurada. Confira o ",(0,o.jsx)(n.a,{href:"https://expressjs.com/",children:"site do Express.js"}),"."]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"installation",children:"Instala\xe7\xe3o"}),"\n",(0,o.jsx)(u,{}),"\n",(0,o.jsx)(n.h2,{id:"integration",children:"Integra\xe7\xe3o"}),"\n",(0,o.jsx)(v,{}),"\n",(0,o.jsx)(n.h2,{id:"scopes-and-claims",children:"Escopos e reivindica\xe7\xf5es"}),"\n",(0,o.jsx)(w,{}),"\n",(0,o.jsx)(n.h2,{id:"further-readings",children:"Leituras adicionais"}),"\n",(0,o.jsx)(t.Ay,{})]})}function C(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(_,{...e})}):_(e)}},38552:(e,n,s)=>{s.d(n,{A:()=>t});s(58101);var r=s(13526);const o={tabItem:"tabItem_dgSZ"};var i=s(25105);function t(e){let{children:n,hidden:s,className:t}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(o.tabItem,t),hidden:s,children:n})}},22002:(e,n,s)=>{s.d(n,{A:()=>R});var r=s(58101),o=s(13526),i=s(60755),t=s(55234),a=s(6635),c=s(4100),d=s(35661),l=s(42752);function p(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:s}=e;return(0,r.useMemo)((()=>{const e=n??function(e){return p(e).map((e=>{let{props:{value:n,label:s,attributes:r,default:o}}=e;return{value:n,label:s,attributes:r,default:o}}))}(s);return function(e){const n=(0,d.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,s])}function h(e){let{value:n,tabValues:s}=e;return s.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:s}=e;const o=(0,t.W6)(),i=function(e){let{queryString:n=!1,groupId:s}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!s)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return s??null}({queryString:n,groupId:s});return[(0,c.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(o.location.search);n.set(i,e),o.replace({...o.location,search:n.toString()})}),[i,o])]}function j(e){const{defaultValue:n,queryString:s=!1,groupId:o}=e,i=u(e),[t,c]=(0,r.useState)((()=>function(e){let{defaultValue:n,tabValues:s}=e;if(0===s.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:s}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${s.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const r=s.find((e=>e.default))??s[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:n,tabValues:i}))),[d,p]=x({queryString:s,groupId:o}),[j,m]=function(e){let{groupId:n}=e;const s=function(e){return e?`docusaurus.tab.${e}`:null}(n),[o,i]=(0,l.Dv)(s);return[o,(0,r.useCallback)((e=>{s&&i.set(e)}),[s,i])]}({groupId:o}),g=(()=>{const e=d??j;return h({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{g&&c(g)}),[g]);return{selectedValue:t,selectValue:(0,r.useCallback)((e=>{if(!h({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),p(e),m(e)}),[p,m,i]),tabValues:i}}var m=s(21929);const g={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=s(25105);function v(e){let{className:n,block:s,selectedValue:r,selectValue:t,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,i.a_)(),l=e=>{const n=e.currentTarget,s=c.indexOf(n),o=a[s].value;o!==r&&(d(n),t(o))},p=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const s=c.indexOf(e.currentTarget)+1;n=c[s]??c[0];break}case"ArrowLeft":{const s=c.indexOf(e.currentTarget)-1;n=c[s]??c[c.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":s},n),children:a.map((e=>{let{value:n,label:s,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:r===n?0:-1,"aria-selected":r===n,ref:e=>{c.push(e)},onKeyDown:p,onClick:l,...i,className:(0,o.A)("tabs__item",g.tabItem,i?.className,{"tabs__item--active":r===n}),children:s??n},n)}))})}function b(e){let{lazy:n,children:s,selectedValue:i}=e;const t=(Array.isArray(s)?s:[s]).filter(Boolean);if(n){const e=t.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:t.map(((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function y(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,o.A)("tabs-container",g.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function R(e){const n=(0,m.A)();return(0,f.jsx)(y,{...e,children:p(e.children)},String(n))}},79621:(e,n,s)=>{s.d(n,{R:()=>t,x:()=>a});var r=s(58101);const o={},i=r.createContext(o);function t(e){const n=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);