"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[51100],{94690:(e,s,o)=>{o.r(s),o.d(s,{assets:()=>t,contentTitle:()=>d,default:()=>u,frontMatter:()=>a,metadata:()=>n,toc:()=>l});const n=JSON.parse('{"id":"user-management/user-data","title":"Estrutura de dados do usu\xe1rio","description":"Os usu\xe1rios s\xe3o as entidades centrais no servi\xe7o de identidade. No Logto, eles incluem dados b\xe1sicos de autentica\xe7\xe3o baseados no protocolo OpenID Connect, juntamente com dados personalizados.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/user-management/user-data.mdx","sourceDirName":"user-management","slug":"/user-management/user-data","permalink":"/pt-BR/user-management/user-data","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/user-management/user-data.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Gerenciamento de usu\xe1rios","permalink":"/pt-BR/user-management/"},"next":{"title":"Gerenciar usu\xe1rios","permalink":"/pt-BR/user-management/manage-users"}}');var r=o(25105),i=o(79621);const a={sidebar_position:1},d="Estrutura de dados do usu\xe1rio",t={},l=[{value:"Perfil do usu\xe1rio",id:"user-profile",level:2},{value:"Dados b\xe1sicos",id:"basic-data",level:2},{value:"id",id:"id",level:3},{value:"username",id:"username",level:3},{value:"primary_email",id:"primary_email",level:3},{value:"primary_phone",id:"primary_phone",level:3},{value:"name",id:"name",level:3},{value:"avatar",id:"avatar",level:3},{value:"profile",id:"profile",level:3},{value:"application_id",id:"application_id",level:3},{value:"last_signed_in_at",id:"last_signed_in_at",level:3},{value:"password_encrypted",id:"password_encrypted",level:3},{value:"password_encryption_method",id:"password_encryption_method",level:3},{value:"is_suspended",id:"is_suspended",level:3},{value:"Refer\xeancia de propriedades",id:"property-reference",level:2},{value:"Identidades sociais",id:"social-identities",level:2},{value:"Dados personalizados",id:"custom-data",level:2},{value:"Recursos relacionados",id:"related-resources",level:2}];function c(e){const s={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{CloudLink:o,Url:n}=s;return o||p("CloudLink",!0),n||p("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"estrutura-de-dados-do-usu\xe1rio",children:"Estrutura de dados do usu\xe1rio"})}),"\n",(0,r.jsxs)(s.p,{children:["Os usu\xe1rios s\xe3o as entidades centrais no servi\xe7o de identidade. No Logto, eles incluem dados b\xe1sicos de autentica\xe7\xe3o baseados no protocolo ",(0,r.jsx)(s.a,{href:"https://auth.wiki/openid-connect",children:"OpenID Connect"}),", juntamente com dados personalizados."]}),"\n",(0,r.jsx)(s.h2,{id:"user-profile",children:"Perfil do usu\xe1rio"}),"\n",(0,r.jsxs)(s.p,{children:["Cada usu\xe1rio tem um perfil contendo ",(0,r.jsx)(s.a,{href:"#property-reference",children:"todas as informa\xe7\xf5es do usu\xe1rio"}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Consiste nos seguintes tipos de dados:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#basic-data",children:"Dados b\xe1sicos"}),": s\xe3o as informa\xe7\xf5es b\xe1sicas do perfil do usu\xe1rio. Armazena todas as outras propriedades do ",(0,r.jsx)(s.em,{children:"usu\xe1rio"})," exceto por ",(0,r.jsx)(s.code,{children:"identities"})," sociais e ",(0,r.jsx)(s.code,{children:"custom_data"}),", como ID do usu\xe1rio, nome de usu\xe1rio, email, n\xfamero de telefone e quando o usu\xe1rio fez login pela \xfaltima vez."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#social-identities",children:"Identidades sociais"}),": armazena as informa\xe7\xf5es do usu\xe1rio recuperadas do login social (ou seja, login com um conector social), como Facebook, GitHub e WeChat."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.a,{href:"#custom-data",children:"Dados personalizados"}),": armazena informa\xe7\xf5es adicionais do usu\xe1rio n\xe3o listadas nas propriedades predefinidas do usu\xe1rio, como cor e idioma preferidos pelo usu\xe1rio."]}),"\n"]}),"\n",(0,r.jsx)(s.p,{children:"Aqui est\xe1 um exemplo dos dados de um usu\xe1rio que foram recuperados de um login no Facebook:"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "id": "iHXPuSb9eMzt",\n  "username": null,\n  "primaryEmail": null,\n  "primaryPhone": null,\n  "name": "John Doe",\n  "avatar": "https://example.com/avatar.png",\n  "customData": {\n    "preferences": {\n      "language": "en",\n      "color": "#f236c9"\n    }\n  },\n  "identities": {\n    "facebook": {\n      "userId": "106077000000000",\n      "details": {\n        "id": "106077000000000",\n        "name": "John Doe",\n        "email": "johndoe@logto.io",\n        "avatar": "https://example.com/avatar.png"\n      }\n    }\n  },\n  "lastSignInAt": 1655799453171,\n  "applicationId": "admin_console"\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea pode consultar o perfil do usu\xe1rio usando ",(0,r.jsx)(o,{to:"/users",children:"Logto Console"})," ou Logto Management API, como ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:(0,r.jsx)(s.code,{children:"GET /api/users/:userId"})}),"."]}),"\n",(0,r.jsx)(s.h2,{id:"basic-data",children:"Dados b\xe1sicos"}),"\n",(0,r.jsxs)(s.p,{children:["Vamos percorrer todas as propriedades dos ",(0,r.jsx)(s.em,{children:"dados b\xe1sicos"})," do usu\xe1rio."]}),"\n",(0,r.jsx)(s.h3,{id:"id",children:"id"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"id"})," \xe9 uma chave \xfanica gerada automaticamente para identificar o usu\xe1rio no Logto."]}),"\n",(0,r.jsx)(s.h3,{id:"username",children:"username"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"username"})," \xe9 usado para login com ",(0,r.jsx)(s.em,{children:"username"})," e senha."]}),"\n",(0,r.jsxs)(s.p,{children:["Seu valor \xe9 do nome de usu\xe1rio com o qual o usu\xe1rio se registrou pela primeira vez. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),". Seu valor n\xe3o nulo n\xe3o deve ter mais de 128 caracteres, conter apenas letras, n\xfameros e sublinhados (",(0,r.jsx)(s.code,{children:"_"}),"), e N\xc3O come\xe7ar com um n\xfamero. \xc9 sens\xedvel a mai\xfasculas e min\xfasculas."]}),"\n",(0,r.jsx)(s.h3,{id:"primary_email",children:"primary_email"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"primary_email"})," \xe9 o endere\xe7o de email do usu\xe1rio, usado para login com o email e senha / c\xf3digo de verifica\xe7\xe3o."]}),"\n",(0,r.jsxs)(s.p,{children:["Seu valor geralmente \xe9 do endere\xe7o de email com o qual o usu\xe1rio se registrou pela primeira vez. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),". Seu comprimento m\xe1ximo \xe9 128."]}),"\n",(0,r.jsx)(s.h3,{id:"primary_phone",children:"primary_phone"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"primary_phone"})," \xe9 o n\xfamero de telefone do usu\xe1rio, usado para login com o n\xfamero de telefone e senha / c\xf3digo de verifica\xe7\xe3o do SMS."]}),"\n",(0,r.jsxs)(s.p,{children:["Seu valor geralmente \xe9 do n\xfamero de telefone com o qual o usu\xe1rio se registrou pela primeira vez. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),". Seu valor n\xe3o nulo deve conter n\xfameros prefixados com o ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/List_of_country_calling_codes",children:"c\xf3digo de chamada do pa\xeds"})," (excluindo o sinal de mais ",(0,r.jsx)(s.code,{children:"+"}),")."]}),"\n",(0,r.jsx)(s.h3,{id:"name",children:"name"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"name"})," \xe9 o nome completo do usu\xe1rio. Seu comprimento m\xe1ximo \xe9 128."]}),"\n",(0,r.jsx)(s.h3,{id:"avatar",children:"avatar"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"avatar"})," \xe9 o URL apontando para a imagem do avatar do usu\xe1rio. Seu comprimento m\xe1ximo \xe9 2048."]}),"\n",(0,r.jsx)(s.p,{children:"Se o usu\xe1rio se registrar com um conector social como Google e Facebook, seu valor pode ser recuperado das informa\xe7\xf5es sociais do usu\xe1rio."}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:["Esta propriedade \xe9 mapeada para a reivindica\xe7\xe3o ",(0,r.jsx)(s.code,{children:"picture"})," no padr\xe3o ",(0,r.jsx)(s.a,{href:"https://openid.net/connect/",children:"OpenID Connect"}),"."]})}),"\n",(0,r.jsx)(s.h3,{id:"profile",children:"profile"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"profile"})," armazena reivindica\xe7\xf5es padr\xe3o adicionais do ",(0,r.jsx)(s.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"OpenID Connect"})," que n\xe3o est\xe3o inclu\xeddas nas propriedades do usu\xe1rio."]}),"\n",(0,r.jsxs)(s.p,{children:["Sua defini\xe7\xe3o de tipo pode ser encontrada neste ",(0,r.jsx)(s.a,{href:"https://github.com/logto-io/logto/blob/HEAD/packages/schemas/src/foundations/jsonb-types/users.ts#L6",children:"arquivo"}),". Aqui est\xe1 uma c\xf3pia da defini\xe7\xe3o de tipo:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-tsx",children:"type UserProfile = Partial<{\n  familyName: string;\n  givenName: string;\n  middleName: string;\n  nickname: string;\n  preferredUsername: string;\n  profile: string;\n  website: string;\n  gender: string;\n  birthdate: string;\n  zoneinfo: string;\n  locale: string;\n  address: Partial<{\n    formatted: string;\n    streetAddress: string;\n    locality: string;\n    region: string;\n    postalCode: string;\n    country: string;\n  }>;\n}>;\n"})}),"\n",(0,r.jsx)(s.admonition,{type:"note",children:(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.code,{children:"Partial"})," significa que todas as propriedades s\xe3o opcionais."]})}),"\n",(0,r.jsxs)(s.p,{children:["Uma diferen\xe7a em rela\xe7\xe3o \xe0s outras reivindica\xe7\xf5es padr\xe3o \xe9 que as propriedades em ",(0,r.jsx)(s.code,{children:"profile"})," s\xf3 ser\xe3o inclu\xeddas no ",(0,r.jsx)(s.a,{href:"https://auth.wiki/id-token",children:"Token de ID (ID token)"})," ou na resposta do endpoint userinfo quando seus valores n\xe3o estiverem vazios, enquanto outras reivindica\xe7\xf5es padr\xe3o retornar\xe3o ",(0,r.jsx)(s.code,{children:"null"})," se os valores estiverem vazios."]}),"\n",(0,r.jsx)(s.h3,{id:"application_id",children:"application_id"}),"\n",(0,r.jsxs)(s.p,{children:["O valor de ",(0,r.jsx)(s.em,{children:"application_id"})," \xe9 do aplicativo em que o usu\xe1rio fez login pela primeira vez. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n",(0,r.jsx)(s.h3,{id:"last_signed_in_at",children:"last_signed_in_at"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"last_signed_in_at"})," \xe9 o timestamp com o fuso hor\xe1rio quando o usu\xe1rio fez login pela \xfaltima vez."]}),"\n",(0,r.jsx)(s.h3,{id:"password_encrypted",children:"password_encrypted"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"password_encrypted"})," \xe9 usado para armazenar a senha criptografada do usu\xe1rio."]}),"\n",(0,r.jsxs)(s.p,{children:["Seu valor \xe9 da senha com a qual o usu\xe1rio se registrou pela primeira vez. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),". Se seu valor n\xe3o for nulo, seu conte\xfado original antes da criptografia deve ter pelo menos seis caracteres."]}),"\n",(0,r.jsx)(s.h3,{id:"password_encryption_method",children:"password_encryption_method"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"password_encryption_method"})," \xe9 usado para criptografar a senha do usu\xe1rio. Seu valor \xe9 inicializado quando o usu\xe1rio se registra com o nome de usu\xe1rio e senha. Pode ser ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Logto usa a implementa\xe7\xe3o do ",(0,r.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Argon2",children:"Argon2"})," ",(0,r.jsx)(s.a,{href:"https://github.com/ranisalt/node-argon2",children:"node-argon2"})," como m\xe9todo de criptografia por padr\xe3o; veja a refer\xeancia para detalhes se estiver interessado."]}),"\n",(0,r.jsxs)(s.p,{children:["Exemplo de ",(0,r.jsx)(s.em,{children:"password_encrypted"})," e ",(0,r.jsx)(s.em,{children:"password_encryption_method"})," de um usu\xe1rio cuja senha \xe9 ",(0,r.jsx)(s.code,{children:"123456"}),":"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "password_encryption_method": "Argon2i",\n  "password_encrypted": "$argon2i$v=19$m=4096,t=10,p=1$aZzrqpSX45DOo+9uEW6XVw$O4MdirF0mtuWWWz68eyNAt2u1FzzV3m3g00oIxmEr0U"\n}\n'})}),"\n",(0,r.jsx)(s.h3,{id:"is_suspended",children:"is_suspended"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"is_suspended"})," \xe9 um valor booleano que indica se um usu\xe1rio est\xe1 suspenso ou n\xe3o. O valor pode ser gerenciado chamando o ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-updateuserissuspended",children:"Logto Management API"})," ou usando Logto Console."]}),"\n",(0,r.jsx)(s.p,{children:"Uma vez que um usu\xe1rio \xe9 suspenso, os tokens de atualiza\xe7\xe3o pr\xe9-concedidos ser\xe3o revogados imediatamente e o usu\xe1rio n\xe3o poder\xe1 mais ser autenticado pelo Logto."}),"\n",(0,r.jsx)(s.h2,{id:"property-reference",children:"Refer\xeancia de propriedades"}),"\n",(0,r.jsxs)(s.p,{children:["As seguintes propriedades (exceto ",(0,r.jsx)(s.em,{children:"password_encrypted"})," e ",(0,r.jsx)(s.em,{children:"password_encryption_method"}),") s\xe3o vis\xedveis no perfil do usu\xe1rio, o que significa que voc\xea pode consult\xe1-las usando ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:"Management API"}),"."]}),"\n",(0,r.jsxs)(s.table,{children:[(0,r.jsx)(s.thead,{children:(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.th,{children:"Nome"}),(0,r.jsx)(s.th,{children:"Tipo"}),(0,r.jsx)(s.th,{children:"Descri\xe7\xe3o"}),(0,r.jsx)(s.th,{children:"\xdanico"}),(0,r.jsx)(s.th,{children:"Obrigat\xf3rio"})]})}),(0,r.jsxs)(s.tbody,{children:[(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#id",children:"id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Identificador \xfanico"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#username",children:"username"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Nome de usu\xe1rio para login"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#primary_email",children:"primary_email"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Email principal"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#primary_phone",children:"primary_phone"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"N\xfamero de telefone principal"}),(0,r.jsx)(s.td,{children:"\u2705"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#name",children:"name"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Nome completo"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#avatar",children:"avatar"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"URL apontando para a imagem do avatar do usu\xe1rio"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#social-identities",children:"identities"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"Informa\xe7\xf5es do usu\xe1rio recuperadas do login social"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#custom-data",children:"custom_data"})}),(0,r.jsx)(s.td,{children:"object"}),(0,r.jsx)(s.td,{children:"Informa\xe7\xf5es adicionais em propriedades personaliz\xe1veis"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#application_id",children:"application_id"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"ID do aplicativo em que o usu\xe1rio se registrou pela primeira vez"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#last_signed_in_at",children:"last_sign_in_at"})}),(0,r.jsx)(s.td,{children:"date time"}),(0,r.jsx)(s.td,{children:"Timestamp quando o usu\xe1rio fez login pela \xfaltima vez"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#password_encrypted",children:"password_encrypted"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"Senha criptografada"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#password_encryption_method",children:"password_encryption_method"})}),(0,r.jsx)(s.td,{children:"string"}),(0,r.jsx)(s.td,{children:"M\xe9todo de criptografia da senha"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u274c"})]}),(0,r.jsxs)(s.tr,{children:[(0,r.jsx)(s.td,{children:(0,r.jsx)(s.a,{href:"#is_suspended",children:"is_suspended"})}),(0,r.jsx)(s.td,{children:"bool"}),(0,r.jsx)(s.td,{children:"Marca de suspens\xe3o do usu\xe1rio"}),(0,r.jsx)(s.td,{children:"\u274c"}),(0,r.jsx)(s.td,{children:"\u2705"})]})]})]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"\xdanico"}),": Garante a ",(0,r.jsx)(s.a,{href:"https://www.postgresql.org/docs/current/ddl-constraints.html#DDL-CONSTRAINTS-UNIQUE-CONSTRAINTS",children:"unicidade"})," dos valores inseridos em uma propriedade de uma tabela de banco de dados."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Obrigat\xf3rio"}),": Garante que os valores inseridos em uma propriedade de uma tabela de banco de dados N\xc3O podem ser ",(0,r.jsx)(s.code,{children:"null"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"social-identities",children:"Identidades sociais"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"identities"})," cont\xe9m as informa\xe7\xf5es do usu\xe1rio recuperadas do ",(0,r.jsx)(s.a,{href:"/end-user-flows/sign-up-and-sign-in/social-sign-in",children:"login social"})," (ou seja, login com um ",(0,r.jsx)(s.a,{href:"/connectors/social-connectors",children:"conector social"}),"). Cada ",(0,r.jsx)(s.em,{children:"identities"})," de usu\xe1rio \xe9 armazenado em um objeto JSON individual."]}),"\n",(0,r.jsx)(s.p,{children:"As informa\xe7\xf5es do usu\xe1rio variam de acordo com o provedor de identidade social (ou seja, plataforma de rede social), e geralmente incluem o seguinte:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.em,{children:"target"}),' do provedor de identidade, como "facebook" ou "google"']}),"\n",(0,r.jsx)(s.li,{children:"Identificador \xfanico do usu\xe1rio para este provedor"}),"\n",(0,r.jsx)(s.li,{children:"Nome do usu\xe1rio"}),"\n",(0,r.jsx)(s.li,{children:"Email verificado do usu\xe1rio"}),"\n",(0,r.jsx)(s.li,{children:"Avatar do usu\xe1rio"}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["A conta do usu\xe1rio pode estar vinculada a v\xe1rios provedores de identidade social via login social; as informa\xe7\xf5es correspondentes do usu\xe1rio recuperadas desses provedores ser\xe3o armazenadas no objeto ",(0,r.jsx)(s.em,{children:"identities"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Exemplo de ",(0,r.jsx)(s.em,{children:"identities"})," de um usu\xe1rio que fez login com Google e Facebook:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "facebook": {\n    "userId": "5110888888888888",\n    "details": {\n      "id": "5110888888888888",\n      "name": "John Doe",\n      "email": "johndoe@logto.io",\n      "avatar": "https://example.com/avatar.png"\n    }\n  },\n  "google": {\n    "userId": "111000000000000000000",\n    "details": {\n      "id": "111000000000000000000",\n      "name": "John Doe",\n      "email": "johndoe@gmail.com",\n      "avatar": "https://example.com/avatar.png"\n    }\n  }\n}\n'})}),"\n",(0,r.jsx)(s.h2,{id:"custom-data",children:"Dados personalizados"}),"\n",(0,r.jsxs)(s.p,{children:[(0,r.jsx)(s.em,{children:"custom_data"})," armazena informa\xe7\xf5es adicionais do usu\xe1rio n\xe3o listadas nas propriedades predefinidas do usu\xe1rio."]}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea pode usar ",(0,r.jsx)(s.em,{children:"custom_data"})," para fazer as seguintes coisas:"]}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Registrar se a\xe7\xf5es espec\xedficas foram realizadas pelo usu\xe1rio, como ter visto a p\xe1gina de boas-vindas."}),"\n",(0,r.jsx)(s.li,{children:"Armazenar dados espec\xedficos do aplicativo no perfil do usu\xe1rio, como o idioma e a apar\xeancia preferidos pelo usu\xe1rio por aplicativo."}),"\n",(0,r.jsx)(s.li,{children:"Manter outros dados arbitr\xe1rios relacionados ao usu\xe1rio."}),"\n"]}),"\n",(0,r.jsxs)(s.p,{children:["Exemplo de ",(0,r.jsx)(s.em,{children:"custom_data"})," de um usu\xe1rio administrador no Logto:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "adminConsolePreferences": {\n    "language": "en",\n    "appearanceMode": "system",\n    "experienceNoticeConfirmed": true\n  },\n  "customDataFoo": {\n    "foo": "foo"\n  },\n  "customDataBar": {\n    "bar": "bar"\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["Cada ",(0,r.jsx)(s.em,{children:"custom_data"})," de usu\xe1rio \xe9 armazenado em um objeto JSON individual."]}),"\n",(0,r.jsxs)(s.p,{children:["Nota: N\xc3O coloque dados sens\xedveis em ",(0,r.jsx)(s.em,{children:"custom_data"}),"."]}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea pode buscar um perfil de usu\xe1rio contendo ",(0,r.jsx)(s.em,{children:"custom_data"})," usando ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-listusercustomdata",children:"Management API"})," e envi\xe1-lo para aplicativos frontend ou servi\xe7os backend externos. Portanto, colocar informa\xe7\xf5es sens\xedveis em ",(0,r.jsx)(s.em,{children:"custom_data"})," pode causar vazamento de dados."]}),"\n",(0,r.jsxs)(s.p,{children:["Se voc\xea ainda quiser colocar informa\xe7\xf5es sens\xedveis em ",(0,r.jsx)(s.em,{children:"custom_data"}),", recomendamos criptograf\xe1-las primeiro. Apenas criptografe / descriptografe em uma parte confi\xe1vel, como seus servi\xe7os backend, e evite faz\xea-lo em aplicativos frontend. Isso minimizar\xe1 a perda se o ",(0,r.jsx)(s.em,{children:"custom_data"})," dos seus usu\xe1rios for vazado por engano."]}),"\n",(0,r.jsxs)(s.p,{children:["Voc\xea pode atualizar o ",(0,r.jsx)(s.em,{children:"custom_data"})," do usu\xe1rio usando ",(0,r.jsx)(s.a,{href:"/user-management/manage-users/#view-and-update-the-user-profile",children:"Logto Console"})," ou ",(0,r.jsx)(s.a,{href:"/user-management/manage-users/#manage-via-logto-management-api",children:"Logto Management API"}),", como ",(0,r.jsx)(s.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:(0,r.jsx)(s.code,{children:"PATCH /api/users/:userId"})}),"."]}),"\n",(0,r.jsx)(s.p,{children:"Atualize com cuidado"}),"\n",(0,r.jsxs)(s.p,{children:["Atualizar o ",(0,r.jsx)(s.em,{children:"custom_data"})," de um usu\xe1rio substituir\xe1 completamente seu conte\xfado original no armazenamento."]}),"\n",(0,r.jsxs)(s.p,{children:["Por exemplo, se sua entrada ao chamar a API de atualiza\xe7\xe3o ",(0,r.jsx)(s.em,{children:"custom_data"})," for assim (suponha que o ",(0,r.jsx)(s.em,{children:"custom_data"})," original seja o exemplo de dados mostrado anteriormente):"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),"\n",(0,r.jsxs)(s.p,{children:["ent\xe3o o novo valor de ",(0,r.jsx)(s.em,{children:"custom_data"})," ap\xf3s a atualiza\xe7\xe3o deve ser:"]}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-json",children:'{\n  "customDataBaz": {\n    "baz": "baz"\n  }\n}\n'})}),"\n",(0,r.jsx)(s.p,{children:"Ou seja, o valor do campo atualizado n\xe3o tem rela\xe7\xe3o com o valor anterior."}),"\n",(0,r.jsx)(s.h2,{id:"related-resources",children:"Recursos relacionados"}),"\n",(0,r.jsx)(n,{href:"https://blog.logto.io/secure-hub-for-user-data/",children:(0,r.jsx)(s.p,{children:"Hub seguro para dados de usu\xe1rio em movimento"})})]})}function u(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}function p(e,s){throw new Error("Expected "+(s?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,s,o)=>{o.d(s,{R:()=>a,x:()=>d});var n=o(58101);const r={},i=n.createContext(r);function a(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function d(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);