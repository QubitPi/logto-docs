"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[9758],{80645:(e,a,o)=>{o.r(a),o.d(a,{assets:()=>g,contentTitle:()=>m,default:()=>j,frontMatter:()=>u,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"integrate-logto/interact-with-management-api/README","title":"Interaja com a Management API","description":"Utilize as Management APIs para acessar os servi\xe7os de backend do Logto, escalando seu sistema CIAM com gerenciamento de usu\xe1rios, configura\xe7\xf5es de conta, verifica\xe7\xe3o de identidade e arquitetura multi-inquilino.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.mdx","sourceDirName":"integrate-logto/interact-with-management-api","slug":"/integrate-logto/interact-with-management-api/","permalink":"/pt-BR/integrate-logto/interact-with-management-api/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/integrate-logto/interact-with-management-api/README.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"description":"Utilize as Management APIs para acessar os servi\xe7os de backend do Logto, escalando seu sistema CIAM com gerenciamento de usu\xe1rios, configura\xe7\xf5es de conta, verifica\xe7\xe3o de identidade e arquitetura multi-inquilino.","sidebar_position":5},"sidebar":"docsSidebar","previous":{"title":"Personaliza\xe7\xe3o da tela de consentimento","permalink":"/pt-BR/integrate-logto/third-party-applications/consent-screen-branding"},"next":{"title":"Estrutura de dados da aplica\xe7\xe3o","permalink":"/pt-BR/integrate-logto/application-data-structure"}}');var s=o(25105),t=o(79621),i=o(598),r=o(46189),c=o(3261),d=o(6099),l=o(41156),p=o(13774);const u={description:"Utilize as Management APIs para acessar os servi\xe7os de backend do Logto, escalando seu sistema CIAM com gerenciamento de usu\xe1rios, configura\xe7\xf5es de conta, verifica\xe7\xe3o de identidade e arquitetura multi-inquilino.",sidebar_position:5},m="Interaja com a Management API",g={},h=[{value:"O que \xe9 a Logto Management API?",id:"what-is-logto-management-api",level:2},{value:"Como acessar a Logto Management API",id:"how-to-access-logto-management-api",level:2},{value:"Criar um app M2M",id:"create-an-m2m-app",level:3},...p.RM,{value:"Buscar um token de acesso",id:"fetch-an-access-token",level:3},{value:"No\xe7\xf5es b\xe1sicas sobre solicita\xe7\xe3o de token de acesso",id:"basics-about-access-token-request",level:4},...c.RM,{value:"Buscar token de acesso para Logto Management API",id:"fetch-access-token-for-logto-management-api",level:4},...d.RM,{value:"Resposta do token de acesso",id:"access-token-response",level:4},...l.RM,{value:"Acessar a Logto Management API usando o token de acesso",id:"access-logto-management-api-using-access-token",level:3},...r.RM,...i.RM,{value:"Cen\xe1rios t\xedpicos para uso da Logto Management API",id:"typical-scenarios-for-using-logto-management-api",level:2},{value:"Implemente o perfil do usu\xe1rio por conta pr\xf3pria",id:"implement-user-profile-on-your-own",level:3},{value:"Pesquisa avan\xe7ada de usu\xe1rios",id:"advanced-user-search",level:3},{value:"Implemente o gerenciamento de organiza\xe7\xf5es por conta pr\xf3pria",id:"implement-organization-management-on-your-own",level:3},{value:"Dicas para usar a Logto Management API",id:"tips-for-using-logto-management-api",level:2},{value:"Gerenciando respostas paginadas da API",id:"managing-paginated-api-responses",level:3},{value:"Usando link headers",id:"using-link-headers",level:4},{value:"Usando o header total-number",id:"using-total-number-header",level:4},{value:"Alterando o n\xfamero da p\xe1gina e o tamanho da p\xe1gina",id:"changing-page-number-and-page-size",level:4},{value:"Limite de taxa",id:"rate-limit",level:3},{value:"Recursos relacionados",id:"related-resources",level:2}];function x(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components},{CloudLink:o,Url:n}=a;return o||f("CloudLink",!0),n||f("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(a.header,{children:(0,s.jsx)(a.h1,{id:"interaja-com-a-management-api",children:"Interaja com a Management API"})}),"\n",(0,s.jsx)(a.h2,{id:"what-is-logto-management-api",children:"O que \xe9 a Logto Management API?"}),"\n",(0,s.jsxs)(a.p,{children:["A Logto Management API \xe9 um conjunto abrangente de APIs que oferece aos desenvolvedores controle total sobre sua implementa\xe7\xe3o para atender \xe0s necessidades do produto e da stack tecnol\xf3gica. Ela \xe9 pr\xe9-constru\xedda, listada em ",(0,s.jsx)(o,{to:"/api-resources",children:"Console > Recursos de API (API resources) > Logto Management API"}),", e n\xe3o pode ser exclu\xedda ou modificada."]}),"\n",(0,s.jsxs)(a.p,{children:["Seu identificador segue o padr\xe3o ",(0,s.jsx)(a.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n",(0,s.jsxs)(a.admonition,{type:"note",children:[(0,s.jsxs)(a.p,{children:["O identificador da Logto Management API difere entre ",(0,s.jsx)(a.a,{href:"/logto-cloud",children:"Logto Cloud"})," e a vers\xe3o ",(0,s.jsx)(a.a,{href:"/logto-oss",children:"Logto Open Source"}),":"]}),(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:["Logto Cloud: ",(0,s.jsx)(a.code,{children:"https://[tenant-id].logto.app/api"})]}),"\n",(0,s.jsxs)(a.li,{children:["Logto OSS: ",(0,s.jsx)(a.code,{children:"https://default.logto.app/api"})]}),"\n"]}),(0,s.jsx)(a.p,{children:"Nos exemplos a seguir, usaremos o identificador da vers\xe3o Cloud."})]}),"\n",(0,s.jsx)("img",{alt:"Recurso Logto Management API",src:"/img/assets/logto-management-api-resource.webp"}),"\n",(0,s.jsx)("img",{alt:"Detalhes da Logto Management API",src:"/img/assets/logto-management-api-details.webp"}),"\n",(0,s.jsx)(a.p,{children:"Com a Logto Management API, voc\xea pode acessar os robustos servi\xe7os de backend do Logto, que s\xe3o altamente escal\xe1veis e podem ser utilizados em uma infinidade de cen\xe1rios. Ela vai al\xe9m do que \xe9 poss\xedvel com as capacidades low-code do Admin Console."}),"\n",(0,s.jsx)(a.p,{children:"Algumas APIs frequentemente utilizadas est\xe3o listadas abaixo:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-getuser",children:"Usu\xe1rio (User)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listapplications",children:"Aplicativo (Application)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listlogs",children:"Logs de auditoria (Audit logs)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listroles",children:"Pap\xe9is (Roles)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listresources",children:"Recursos (Resources)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listconnectors",children:"Conectores (Connectors)"})}),"\n",(0,s.jsx)(a.li,{children:(0,s.jsx)(a.a,{href:"https://openapi.logto.io/operation/operation-listorganizations",children:"Organiza\xe7\xf5es (Organizations)"})}),"\n"]}),"\n",(0,s.jsxs)(a.p,{children:["Para saber mais sobre as APIs dispon\xedveis, visite ",(0,s.jsx)(a.a,{href:"https://openapi.logto.io/",children:"https://openapi.logto.io/"}),"."]}),"\n",(0,s.jsx)(a.h2,{id:"how-to-access-logto-management-api",children:"Como acessar a Logto Management API"}),"\n",(0,s.jsx)(a.h3,{id:"create-an-m2m-app",children:"Criar um app M2M"}),"\n",(0,s.jsx)(a.admonition,{type:"note",children:(0,s.jsxs)(a.p,{children:["Se voc\xea n\xe3o est\xe1 familiarizado com o fluxo de autentica\xe7\xe3o M2M (M\xe1quina para M\xe1quina), recomendamos ler ",(0,s.jsx)(a.a,{href:"/integrate-logto/integrate-logto-into-your-application/understand-authentication-flow/#machine-to-machine-authentication-flow",children:"Entendendo o fluxo de autentica\xe7\xe3o"})," primeiro para compreender os conceitos b\xe1sicos."]})}),"\n",(0,s.jsxs)(a.p,{children:["Acesse ",(0,s.jsx)(o,{to:"/applications",children:"Console > Aplicativos (Applications)"}),', selecione o tipo de aplicativo "M\xe1quina para m\xe1quina" e inicie o processo de cria\xe7\xe3o.']}),"\n",(0,s.jsx)(p.Ay,{}),"\n",(0,s.jsx)(a.p,{children:"No m\xf3dulo de atribui\xe7\xe3o de pap\xe9is, voc\xea pode ver que todos os pap\xe9is M2M est\xe3o inclu\xeddos, e os pap\xe9is indicados por um \xedcone do Logto significam que esses pap\xe9is incluem permiss\xf5es da Logto Management API."}),"\n",(0,s.jsx)(a.p,{children:"Agora atribua pap\xe9is M2M que incluam permiss\xf5es da Logto Management API para seu app M2M."}),"\n",(0,s.jsx)(a.h3,{id:"fetch-an-access-token",children:"Buscar um token de acesso"}),"\n",(0,s.jsx)(a.h4,{id:"basics-about-access-token-request",children:"No\xe7\xf5es b\xe1sicas sobre solicita\xe7\xe3o de token de acesso"}),"\n",(0,s.jsx)(c.Ay,{}),"\n",(0,s.jsx)(a.h4,{id:"fetch-access-token-for-logto-management-api",children:"Buscar token de acesso para Logto Management API"}),"\n",(0,s.jsx)(d.Ay,{}),"\n",(0,s.jsx)(a.h4,{id:"access-token-response",children:"Resposta do token de acesso"}),"\n",(0,s.jsx)(a.p,{children:"Um corpo de resposta de acesso bem-sucedido seria assim:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{className:"language-json",children:'{\n  "access_token": "eyJhbG...2g", // Use este token para acessar a Logto Management API\n  "expires_in": 3600, // Expira\xe7\xe3o do token em segundos\n  "token_type": "Bearer", // Tipo de autentica\xe7\xe3o para sua requisi\xe7\xe3o ao usar o token de acesso\n  "scope": "all" // escopo `all` para Logto Management API\n}\n'})}),"\n",(0,s.jsx)(l.Ay,{}),"\n",(0,s.jsx)(a.h3,{id:"access-logto-management-api-using-access-token",children:"Acessar a Logto Management API usando o token de acesso"}),"\n",(0,s.jsx)(r.Ay,{}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsx)(a.h2,{id:"typical-scenarios-for-using-logto-management-api",children:"Cen\xe1rios t\xedpicos para uso da Logto Management API"}),"\n",(0,s.jsx)(a.p,{children:"Nossos desenvolvedores implementaram muitos recursos adicionais usando a Logto Management API. Acreditamos que nossa API \xe9 altamente escal\xe1vel e pode atender a uma ampla gama de necessidades. Aqui est\xe3o alguns exemplos de cen\xe1rios que n\xe3o s\xe3o poss\xedveis com o Logto Admin Console, mas podem ser alcan\xe7ados atrav\xe9s da Logto Management API."}),"\n",(0,s.jsx)(a.h3,{id:"implement-user-profile-on-your-own",children:"Implemente o perfil do usu\xe1rio por conta pr\xf3pria"}),"\n",(0,s.jsx)(a.p,{children:"O Logto atualmente n\xe3o fornece uma solu\xe7\xe3o de UI pr\xe9-constru\xedda para perfis de usu\xe1rio. Reconhecemos que perfis de usu\xe1rio est\xe3o intimamente ligados aos atributos de neg\xf3cio e produto. Enquanto trabalhamos para determinar a melhor abordagem, sugerimos usar nossas APIs para criar sua pr\xf3pria solu\xe7\xe3o. Por exemplo, voc\xea pode utilizar nossa interaction API, profile API e verification code API para desenvolver uma solu\xe7\xe3o personalizada que atenda \xe0s suas necessidades."}),"\n",(0,s.jsx)(a.h3,{id:"advanced-user-search",children:"Pesquisa avan\xe7ada de usu\xe1rios"}),"\n",(0,s.jsxs)(a.p,{children:["O Logto Admin Console suporta fun\xe7\xf5es b\xe1sicas de busca e filtragem. Para op\xe7\xf5es avan\xe7adas de busca como busca difusa, correspond\xeancia exata e sensibilidade a mai\xfasculas / min\xfasculas, confira nossos tutoriais e guias de ",(0,s.jsx)(a.a,{href:"/user-management/advanced-user-search",children:"Pesquisa Avan\xe7ada de Usu\xe1rios"}),"."]}),"\n",(0,s.jsx)(a.h3,{id:"implement-organization-management-on-your-own",children:"Implemente o gerenciamento de organiza\xe7\xf5es por conta pr\xf3pria"}),"\n",(0,s.jsxs)(a.p,{children:["Se voc\xea est\xe1 usando o recurso de ",(0,s.jsx)(a.a,{href:"/organizations",children:"organiza\xe7\xf5es"})," para construir seu app multi-inquilino, pode precisar da Logto Management API para tarefas como convites de organiza\xe7\xe3o e gerenciamento de membros. Para seu produto SaaS, onde voc\xea tem tanto administradores quanto membros no inquilino, a Logto Management API pode ajud\xe1-lo a criar um portal de administra\xe7\xe3o personalizado adaptado \xe0s necessidades do seu neg\xf3cio. Confira ",(0,s.jsx)(a.a,{href:"/end-user-flows/organization-experience/",children:"este"})," para mais detalhes."]}),"\n",(0,s.jsx)(a.h2,{id:"tips-for-using-logto-management-api",children:"Dicas para usar a Logto Management API"}),"\n",(0,s.jsx)(a.h3,{id:"managing-paginated-api-responses",children:"Gerenciando respostas paginadas da API"}),"\n",(0,s.jsx)(a.p,{children:"Algumas das respostas da API podem incluir muitos resultados, e os resultados ser\xe3o paginados. O Logto fornece 2 tipos de informa\xe7\xf5es de pagina\xe7\xe3o."}),"\n",(0,s.jsx)(a.h4,{id:"using-link-headers",children:"Usando link headers"}),"\n",(0,s.jsx)(a.p,{children:"Um header de resposta paginada ser\xe1 assim:"}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:'Link: <https://logto.dev/users?page=1&page_size=20>; rel="first"\n'})}),"\n",(0,s.jsx)(a.p,{children:"O header link fornece a URL para a p\xe1gina anterior, pr\xf3xima, primeira e \xfaltima dos resultados:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsx)(a.li,{children:'A URL para a p\xe1gina anterior \xe9 seguida por rel="prev".'}),"\n",(0,s.jsx)(a.li,{children:'A URL para a pr\xf3xima p\xe1gina \xe9 seguida por rel="next".'}),"\n",(0,s.jsx)(a.li,{children:'A URL para a \xfaltima p\xe1gina \xe9 seguida por rel="last".'}),"\n",(0,s.jsx)(a.li,{children:'A URL para a primeira p\xe1gina \xe9 seguida por rel="first".'}),"\n"]}),"\n",(0,s.jsx)(a.h4,{id:"using-total-number-header",children:"Usando o header total-number"}),"\n",(0,s.jsxs)(a.p,{children:["Al\xe9m dos headers link padr\xe3o, o Logto tamb\xe9m adicionar\xe1 um header ",(0,s.jsx)(a.code,{children:"Total-Number"}),":"]}),"\n",(0,s.jsx)(a.pre,{children:(0,s.jsx)(a.code,{children:"Total-Number: 216\n"})}),"\n",(0,s.jsx)(a.p,{children:"Isso \xe9 muito conveniente e \xfatil para exibir n\xfameros de p\xe1gina."}),"\n",(0,s.jsx)(a.h4,{id:"changing-page-number-and-page-size",children:"Alterando o n\xfamero da p\xe1gina e o tamanho da p\xe1gina"}),"\n",(0,s.jsx)(a.p,{children:"Existem 2 par\xe2metros de consulta opcionais:"}),"\n",(0,s.jsxs)(a.ul,{children:["\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"page"}),": indica o n\xfamero da p\xe1gina, come\xe7a em 1, o valor padr\xe3o \xe9 1."]}),"\n",(0,s.jsxs)(a.li,{children:[(0,s.jsx)(a.code,{children:"page_size"}),": indica o n\xfamero de itens por p\xe1gina, o valor padr\xe3o \xe9 20."]}),"\n"]}),"\n",(0,s.jsx)(a.h3,{id:"rate-limit",children:"Limite de taxa"}),"\n",(0,s.jsx)(a.admonition,{type:"note",children:(0,s.jsx)(a.p,{children:"Isso \xe9 apenas para Logto Cloud."})}),"\n",(0,s.jsx)(a.p,{children:"Para garantir a confiabilidade e seguran\xe7a de nossos servi\xe7os para todos os usu\xe1rios, empregamos um firewall geral que monitora e gerencia o tr\xe1fego para nosso site. Embora n\xe3o imponhamos um limite de taxa estrito, recomendamos que os usu\xe1rios limitem sua atividade a aproximadamente 200 requisi\xe7\xf5es a cada 10 segundos para evitar acionar nossas medidas de prote\xe7\xe3o."}),"\n",(0,s.jsx)(a.h2,{id:"related-resources",children:"Recursos relacionados"}),"\n",(0,s.jsx)(n,{href:"https://blog.logto.io/management-api",children:(0,s.jsx)(a.p,{children:"Use a Logto Management API: Um guia passo a passo"})}),"\n",(0,s.jsx)(n,{href:"https://blog.logto.io/use-postman-to-obtain-m2m-access-token",children:(0,s.jsx)(a.p,{children:"Obtenha tokens de acesso M2M em minutos com o Postman"})})]})}function j(e={}){const{wrapper:a}={...(0,t.R)(),...e.components};return a?(0,s.jsx)(a,{...e,children:(0,s.jsx)(x,{...e})}):x(e)}function f(e,a){throw new Error("Expected "+(a?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},598:(e,a,o)=>{o.d(a,{Ay:()=>d,RM:()=>r});var n=o(25105),s=o(79621),t=o(38552),i=o(22002);const r=[];function c(e){const a={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Usando o token de acesso solicitado com o recurso de API de gerenciamento Logto embutido ",(0,n.jsx)(a.code,{children:"https://[your-tenant-id].logto.app/api"})," para obter todos os aplicativos no Logto:"]}),"\n",(0,n.jsxs)(i.A,{children:[(0,n.jsx)(t.A,{value:"Node.js",label:"Node.js",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Substitua pelo seu endpoint Logto\nconst accessToken = 'eyJhb...2g'; // Token de acesso\n\nconst fetchLogtoApplications = async () => {\n  return await fetch(`${logtoEndpoint}/api/applications`, {\n    method: 'GET',\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n    },\n  });\n};\n"})})}),(0,n.jsxs)(t.A,{value:"cURL",label:"cURL",children:[(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl --location \\\n  --request GET 'https://your.logto.endpoint/api/applications' \\\n  --header 'Authorization: Bearer eyJhbG...2g'\n"})}),(0,n.jsxs)(a.p,{children:["Lembre-se de substituir os valores reais pelos seus pr\xf3prios. O valor ap\xf3s ",(0,n.jsx)(a.code,{children:"Bearer"})," deve ser o token de acesso (JWT) que voc\xea recebeu."]})]})]})]})}function d(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},46189:(e,a,o)=>{o.d(a,{Ay:()=>r,RM:()=>t});var n=o(25105),s=o(79621);const t=[];function i(e){const a={code:"code",p:"p",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Voc\xea pode notar que a resposta do token possui um campo ",(0,n.jsx)(a.code,{children:"token_type"}),", que \xe9 fixado como ",(0,n.jsx)(a.code,{children:"Bearer"}),"."]}),"\n",(0,n.jsxs)(a.p,{children:["Portanto, voc\xea deve colocar o token de acesso no campo ",(0,n.jsx)(a.code,{children:"Authorization"})," dos cabe\xe7alhos HTTP com o formato Bearer (",(0,n.jsx)(a.code,{children:"Bearer YOUR_TOKEN"}),") ao interagir com seu servidor de recurso de API."]})]})}function r(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},3261:(e,a,o)=>{o.d(a,{Ay:()=>r,RM:()=>t});var n=o(25105),s=o(79621);const t=[];function i(e){const a={a:"a",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["O aplicativo M2M faz uma solicita\xe7\xe3o ",(0,n.jsx)(a.code,{children:"POST"})," ao endpoint de token para obter um token de acesso, adicionando os seguintes par\xe2metros usando o formato ",(0,n.jsx)(a.code,{children:"application/x-www-form-urlencoded"})," no corpo da entidade da solicita\xe7\xe3o HTTP:"]}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"grant_type"}),": Deve ser definido como ",(0,n.jsx)(a.code,{children:"client_credentials"})]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"resource"}),": O recurso que voc\xea deseja acessar"]}),"\n",(0,n.jsxs)(a.li,{children:[(0,n.jsx)(a.strong,{children:"scope"}),": O escopo da solicita\xe7\xe3o de acesso"]}),"\n"]}),"\n",(0,n.jsx)(a.p,{children:"Voc\xea tamb\xe9m precisa incluir as credenciais do seu aplicativo M2M no cabe\xe7alho da solicita\xe7\xe3o para que o endpoint de token autentique seu aplicativo M2M."}),"\n",(0,n.jsxs)(a.p,{children:["Isso \xe9 alcan\xe7ado incluindo as credenciais do aplicativo na forma de ",(0,n.jsx)(a.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication",children:"autentica\xe7\xe3o b\xe1sica (Basic authentication)"})," no cabe\xe7alho de ",(0,n.jsx)(a.code,{children:"Authorization"})," da solicita\xe7\xe3o, onde o nome de usu\xe1rio \xe9 o App ID e a senha \xe9 o App Secret."]}),"\n",(0,n.jsx)(a.p,{children:"Voc\xea pode encontrar o App ID e o App Secret na p\xe1gina de detalhes do seu aplicativo M2M:"}),"\n",(0,n.jsx)("img",{alt:"App ID e App Secret",src:"/img/assets/app-id-secret.png",width:"600px"})]})}function r(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},6099:(e,a,o)=>{o.d(a,{Ay:()=>d,RM:()=>r});var n=o(25105),s=o(79621),t=o(38552),i=o(22002);const r=[];function c(e){const a={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:['Logto fornece um recurso embutido "Logto Management API", \xe9 um recurso somente leitura com a permiss\xe3o ',(0,n.jsx)(a.code,{children:"all"})," para acessar Logto Management API, voc\xea pode v\xea-lo na sua lista de recursos de API. O indicador de recurso de API est\xe1 no padr\xe3o ",(0,n.jsx)(a.code,{children:"https://{your-tenant-id}.logto.app/api"}),", e este ser\xe1 o valor do recurso usado no corpo da solicita\xe7\xe3o do token de acesso."]}),"\n",(0,n.jsx)("img",{alt:"Detalhes da Logto Management API",src:"/img/assets/logto-management-api.png",width:"600px"}),"\n",(0,n.jsxs)(a.p,{children:["Antes de acessar Logto Management API, certifique-se de que seu aplicativo M2M foi atribu\xeddo com pap\xe9is M2M que incluem a permiss\xe3o ",(0,n.jsx)(a.code,{children:"all"}),' deste recurso embutido "Logto Management API".']}),"\n",(0,n.jsx)(a.admonition,{type:"info",children:(0,n.jsx)(a.p,{children:'Logto tamb\xe9m fornece um papel M2M pr\xe9-configurado "Logto Management API access" para novos locat\xe1rios criados, ao qual a permiss\xe3o all do recurso Logto Management API j\xe1 foi atribu\xedda. Voc\xea pode us\xe1-lo diretamente sem configurar permiss\xf5es manualmente. Este papel pr\xe9-configurado tamb\xe9m pode ser editado e exclu\xeddo conforme necess\xe1rio.'})}),"\n",(0,n.jsx)(a.p,{children:"Agora, componha tudo o que temos e envie a solicita\xe7\xe3o:"}),"\n",(0,n.jsxs)(i.A,{children:[(0,n.jsx)(t.A,{value:"Node.js",label:"Node.js",children:(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-js",children:"const logtoEndpoint = 'https://your.logto.endpoint'; // Substitua pelo seu endpoint Logto\nconst tokenEndpoint = `${logtoEndpoint}/oidc/token`;\nconst applicationId = 'your-application-id';\nconst applicationSecret = 'your-application-secret';\nconst tenantId = 'your-tenant-id';\n\nconst fetchAccessToken = async () => {\n  return await fetch(tokenEndpoint, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/x-www-form-urlencoded',\n      Authorization: `Basic ${Buffer.from(`${applicationId}:${applicationSecret}`).toString(\n        'base64'\n      )}`,\n    },\n    body: new URLSearchParams({\n      grant_type: 'client_credentials',\n      resource: `https://${tenantId}.logto.app/api`,\n      scope: 'all',\n    }).toString(),\n  });\n};\n"})})}),(0,n.jsxs)(t.A,{value:"cURL",label:"cURL",children:[(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"curl --location \\\n  --request POST 'https://your.logto.endpoint' \\\n  --header 'Authorization: Basic ${your_auth_string}' \\\n  --header 'Content-Type: application/x-www-form-urlencoded' \\\n  --data-urlencode 'grant_type=client_credentials' \\\n  --data-urlencode 'resource=https://${tenantId}.logto.app/api' \\\n  --data-urlencode 'scope=all'\n"})}),(0,n.jsx)(a.p,{children:"Lembre-se de substituir os valores reais pelos seus pr\xf3prios."})]})]}),"\n",(0,n.jsx)(a.admonition,{type:"caution",children:(0,n.jsxs)(a.p,{children:["Para usu\xe1rios do Logto Cloud: quando voc\xea estiver interagindo com Logto Management API, n\xe3o pode usar dom\xednio personalizado, use o endpoint padr\xe3o do Logto ",(0,n.jsx)(a.code,{children:"https://{your_tenant_id}.logto.app/oidc/token"})," para conceder tokens de acesso."]})})]})}function d(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},41156:(e,a,o)=>{o.d(a,{Ay:()=>r,RM:()=>t});var n=o(25105),s=o(79621);const t=[];function i(e){const a={admonition:"admonition",code:"code",p:"p",...(0,s.R)(),...e.components};return(0,n.jsx)(a.admonition,{type:"note",children:(0,n.jsxs)(a.p,{children:["O Logto atualmente n\xe3o suporta o aplicativo M2M para representar um usu\xe1rio. O ",(0,n.jsx)(a.code,{children:"sub"})," no payload do token de acesso ser\xe1 o ID do aplicativo."]})})}function r(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},13774:(e,a,o)=>{o.d(a,{Ay:()=>r,RM:()=>t});var n=o(25105),s=o(79621);const t=[];function i(e){const a={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(a.p,{children:["Durante o processo de cria\xe7\xe3o de um aplicativo M2M, voc\xea ser\xe1 direcionado para uma p\xe1gina onde pode atribuir ",(0,n.jsx)(a.a,{href:"/authorization/role-based-access-control/#configure-global-roles",children:"pap\xe9is M2M (M2M roles)"})," aos seus aplicativos:"]}),"\n",(0,n.jsx)("img",{alt:"Modal de atribui\xe7\xe3o de pap\xe9is M2M",src:"/img/assets/assign-m2m-roles-modal.png",width:"600px"}),"\n",(0,n.jsx)(a.p,{children:"Ou voc\xea tamb\xe9m pode atribuir esses pap\xe9is na p\xe1gina de detalhes do aplicativo M2M quando j\xe1 tiver um aplicativo M2M criado:"}),"\n",(0,n.jsx)("img",{alt:"P\xe1gina de atribui\xe7\xe3o de pap\xe9is M2M",src:"/img/assets/assign-m2m-roles-page.png",width:"600px"})]})}function r(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(i,{...e})}):i(e)}},38552:(e,a,o)=>{o.d(a,{A:()=>i});o(58101);var n=o(13526);const s={tabItem:"tabItem_dgSZ"};var t=o(25105);function i(e){let{children:a,hidden:o,className:i}=e;return(0,t.jsx)("div",{role:"tabpanel",className:(0,n.A)(s.tabItem,i),hidden:o,children:a})}},22002:(e,a,o)=>{o.d(a,{A:()=>M});var n=o(58101),s=o(13526),t=o(60755),i=o(55234),r=o(6635),c=o(4100),d=o(35661),l=o(42752);function p(e){return n.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,n.isValidElement)(e)&&function(e){const{props:a}=e;return!!a&&"object"==typeof a&&"value"in a}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:a,children:o}=e;return(0,n.useMemo)((()=>{const e=a??function(e){return p(e).map((e=>{let{props:{value:a,label:o,attributes:n,default:s}}=e;return{value:a,label:o,attributes:n,default:s}}))}(o);return function(e){const a=(0,d.XI)(e,((e,a)=>e.value===a.value));if(a.length>0)throw new Error(`Docusaurus error: Duplicate values "${a.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[a,o])}function m(e){let{value:a,tabValues:o}=e;return o.some((e=>e.value===a))}function g(e){let{queryString:a=!1,groupId:o}=e;const s=(0,i.W6)(),t=function(e){let{queryString:a=!1,groupId:o}=e;if("string"==typeof a)return a;if(!1===a)return null;if(!0===a&&!o)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return o??null}({queryString:a,groupId:o});return[(0,c.aZ)(t),(0,n.useCallback)((e=>{if(!t)return;const a=new URLSearchParams(s.location.search);a.set(t,e),s.replace({...s.location,search:a.toString()})}),[t,s])]}function h(e){const{defaultValue:a,queryString:o=!1,groupId:s}=e,t=u(e),[i,c]=(0,n.useState)((()=>function(e){let{defaultValue:a,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(a){if(!m({value:a,tabValues:o}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${a}" but none of its children has the corresponding value. Available values are: ${o.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return a}const n=o.find((e=>e.default))??o[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:a,tabValues:t}))),[d,p]=g({queryString:o,groupId:s}),[h,x]=function(e){let{groupId:a}=e;const o=function(e){return e?`docusaurus.tab.${e}`:null}(a),[s,t]=(0,l.Dv)(o);return[s,(0,n.useCallback)((e=>{o&&t.set(e)}),[o,t])]}({groupId:s}),j=(()=>{const e=d??h;return m({value:e,tabValues:t})?e:null})();(0,r.A)((()=>{j&&c(j)}),[j]);return{selectedValue:i,selectValue:(0,n.useCallback)((e=>{if(!m({value:e,tabValues:t}))throw new Error(`Can't select invalid tab value=${e}`);c(e),p(e),x(e)}),[p,x,t]),tabValues:t}}var x=o(21929);const j={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=o(25105);function v(e){let{className:a,block:o,selectedValue:n,selectValue:i,tabValues:r}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,t.a_)(),l=e=>{const a=e.currentTarget,o=c.indexOf(a),s=r[o].value;s!==n&&(d(a),i(s))},p=e=>{let a=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const o=c.indexOf(e.currentTarget)+1;a=c[o]??c[0];break}case"ArrowLeft":{const o=c.indexOf(e.currentTarget)-1;a=c[o]??c[c.length-1];break}}a?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":o},a),children:r.map((e=>{let{value:a,label:o,attributes:t}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:n===a?0:-1,"aria-selected":n===a,ref:e=>{c.push(e)},onKeyDown:p,onClick:l,...t,className:(0,s.A)("tabs__item",j.tabItem,t?.className,{"tabs__item--active":n===a}),children:o??a},a)}))})}function b(e){let{lazy:a,children:o,selectedValue:t}=e;const i=(Array.isArray(o)?o:[o]).filter(Boolean);if(a){const e=i.find((e=>e.props.value===t));return e?(0,n.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:i.map(((e,a)=>(0,n.cloneElement)(e,{key:a,hidden:e.props.value!==t})))})}function A(e){const a=h(e);return(0,f.jsxs)("div",{className:(0,s.A)("tabs-container",j.tabList),children:[(0,f.jsx)(v,{...a,...e}),(0,f.jsx)(b,{...a,...e})]})}function M(e){const a=(0,x.A)();return(0,f.jsx)(A,{...e,children:p(e.children)},String(a))}},79621:(e,a,o)=>{o.d(a,{R:()=>i,x:()=>r});var n=o(58101);const s={},t=n.createContext(s);function i(e){const a=n.useContext(t);return n.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function r(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),n.createElement(t.Provider,{value:a},e.children)}}}]);