"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[5414],{62310:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Recomendamos ler ",(0,i.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Controle de Acesso Baseado em Papel (RBAC)"})," primeiro para entender os conceitos b\xe1sicos do RBAC do Logto e como configurar corretamente os recursos de API."]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},42097:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[{value:"Ponto de verifica\xe7\xe3o: Teste seu aplicativo",id:"checkpoint-test-your-application",level:3}];function t(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Ponto de verifica\xe7\xe3o: Teste seu aplicativo"}),"\n",(0,i.jsx)(n.p,{children:"Agora, voc\xea pode testar seu aplicativo:"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Execute seu aplicativo, voc\xea ver\xe1 o bot\xe3o de login."}),"\n",(0,i.jsx)(n.li,{children:"Clique no bot\xe3o de login, o SDK iniciar\xe1 o processo de login e redirecionar\xe1 voc\xea para a p\xe1gina de login do Logto."}),"\n",(0,i.jsx)(n.li,{children:"Ap\xf3s fazer login, voc\xea ser\xe1 redirecionado de volta para seu aplicativo e ver\xe1 o bot\xe3o de logout."}),"\n",(0,i.jsx)(n.li,{children:"Clique no bot\xe3o de logout para limpar o armazenamento de tokens e sair."}),"\n"]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},78766:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[{value:"Reivindica\xe7\xf5es que precisam de solicita\xe7\xf5es de rede",id:"claims-that-need-network-requests",level:3}];function t(e){const n={code:"code",h3:"h3",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[e.type?null:(()=>{throw new Error("props.type is required when importing _claims-need-network-request.mdx")})(),"\n",(0,i.jsx)(n.h3,{id:"claims-that-need-network-requests",children:"Reivindica\xe7\xf5es que precisam de solicita\xe7\xf5es de rede"}),"\n",(0,i.jsxs)(n.p,{children:["Para evitar o incha\xe7o do Token de ID (ID token), algumas reivindica\xe7\xf5es requerem solicita\xe7\xf5es de rede para serem buscadas. Por exemplo, a reivindica\xe7\xe3o ",(0,i.jsx)(n.code,{children:"custom_data"})," n\xe3o est\xe1 inclu\xedda no objeto do usu\xe1rio, mesmo que seja solicitada nos escopos. Para acessar essas reivindica\xe7\xf5es, ",(0,i.jsxs)("span",{children:["method"===e.type&&(0,i.jsxs)(i.Fragment,{children:["voc\xea pode usar o m\xe9todo ",(0,i.jsx)("code",{children:e.method})]}),"option"===e.type&&(0,i.jsxs)(i.Fragment,{children:["voc\xea pode configurar a op\xe7\xe3o ",(0,i.jsx)("code",{children:e.configOption})]})]}),":"]}),"\n",e.codeSnippet,"\n","method"===e.type&&(0,i.jsxs)(i.Fragment,{children:["Este m\xe9todo buscar\xe1 as informa\xe7\xf5es do usu\xe1rio solicitando ao"," ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),". Para saber mais sobre os escopos e reivindica\xe7\xf5es dispon\xedveis, veja a se\xe7\xe3o"," ",(0,i.jsx)("a",{href:"#scopes-and-claims",children:"Escopos e reivindica\xe7\xf5es"}),"."]}),"\n","option"===e.type&&(0,i.jsxs)(i.Fragment,{children:["Ao configurar ",(0,i.jsx)("code",{children:e.configOption}),", o SDK buscar\xe1 as informa\xe7\xf5es do usu\xe1rio solicitando ao"," ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"})," ","ap\xf3s o usu\xe1rio fazer login, e ",(0,i.jsx)("code",{children:e.value??"user.custom_data"})," estar\xe1 dispon\xedvel assim que a solicita\xe7\xe3o for conclu\xedda."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},40626:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Depois de configurar os recursos de API, voc\xea pode adicion\xe1-los ao configurar o Logto em seu aplicativo:"}),"\n",e.configResourcesCode,"\n",(0,i.jsx)(n.p,{children:"Cada recurso de API tem suas pr\xf3prias permiss\xf5es (escopos)."}),"\n",(0,i.jsxs)(n.p,{children:["Por exemplo, o recurso ",(0,i.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," tem as permiss\xf5es ",(0,i.jsx)(n.code,{children:"shopping:read"})," e ",(0,i.jsx)(n.code,{children:"shopping:write"}),", e o recurso ",(0,i.jsx)(n.code,{children:"https://store.your-app.com/api"})," tem as permiss\xf5es ",(0,i.jsx)(n.code,{children:"store:read"})," e ",(0,i.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Para solicitar essas permiss\xf5es, voc\xea pode adicion\xe1-las ao configurar o Logto em seu aplicativo:"}),"\n",e.configResourcesWithScopesCode,"\n",(0,i.jsxs)(n.p,{children:["Voc\xea pode notar que os escopos s\xe3o definidos separadamente dos recursos de API. Isso ocorre porque ",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Resource Indicators for OAuth 2.0"})," especifica que os escopos finais para a solicita\xe7\xe3o ser\xe3o o produto cartesiano de todos os escopos em todos os servi\xe7os de destino."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{children:["Assim, no caso acima, os escopos podem ser simplificados a partir da defini\xe7\xe3o no Logto, ambos os recursos de API podem ter escopos ",(0,i.jsx)("code",{children:"read"})," e ",(0,i.jsx)("code",{children:"write"})," sem o prefixo. Ent\xe3o, na configura\xe7\xe3o do Logto:"]}),e.configResourcesWithSharedScopesCode,(0,i.jsxs)("p",{children:["Para cada recurso de API, ele solicitar\xe1 os escopos ",(0,i.jsx)("code",{children:"read"})," e ",(0,i.jsx)("code",{children:"write"}),"."]})]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["N\xe3o h\xe1 problema em solicitar escopos que n\xe3o est\xe3o definidos nos recursos de API. Por exemplo, voc\xea pode solicitar o escopo ",(0,i.jsx)(n.code,{children:"email"})," mesmo que os recursos de API n\xe3o tenham o escopo ",(0,i.jsx)(n.code,{children:"email"})," dispon\xedvel. Escopos indispon\xedveis ser\xe3o ignorados com seguran\xe7a."]})}),"\n",(0,i.jsx)(n.p,{children:"Ap\xf3s o login bem-sucedido, o Logto emitir\xe1 os escopos apropriados para os recursos de API de acordo com os pap\xe9is do usu\xe1rio."})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},46443:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Vamos mudar para a p\xe1gina de detalhes do Aplicativo no Logto Console. Adicione um URI de redirecionamento ",(0,i.jsx)("code",{children:e.redirectUri}),' e clique em "Salvar altera\xe7\xf5es".']}),"\n",(0,i.jsx)("img",{alt:"URI de redirecionamento no Logto Console",src:e.figureSrc,width:"600px"})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},85153:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Para buscar o token de acesso para um recurso de API espec\xedfico, voc\xea pode usar o m\xe9todo ",(0,i.jsx)("code",{children:e.getAccessTokenApi}),":"]}),"\n",e.getAccessTokenCode,"\n",(0,i.jsx)(n.p,{children:"Este m\xe9todo retornar\xe1 um token de acesso JWT que pode ser usado para acessar o recurso de API quando o usu\xe1rio tiver as permiss\xf5es relacionadas. Se o token de acesso em cache atual tiver expirado, este m\xe9todo tentar\xe1 automaticamente usar um token de atualiza\xe7\xe3o para obter um novo token de acesso."})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},57973:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Se organiza\xe7\xe3o \xe9 um conceito novo para voc\xea, por favor, leia ",(0,i.jsx)(n.a,{href:"/organizations",children:"\ud83c\udfe2 Organiza\xe7\xf5es (Multi-tenancy)"})," para come\xe7ar."]}),"\n",(0,i.jsxs)(n.p,{children:["Voc\xea precisa adicionar o escopo ",(0,i.jsx)("code",{children:e.organizationScope})," ao configurar o cliente Logto:"]}),"\n",e.configOrganizationCode,"\n",(0,i.jsx)(n.p,{children:"Uma vez que o usu\xe1rio esteja autenticado, voc\xea pode buscar o token de organiza\xe7\xe3o para o usu\xe1rio:"}),"\n",e.getOrganizationAccessTokenCode]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},46680:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["Voc\xea pode perceber que algumas informa\xe7\xf5es do usu\xe1rio est\xe3o faltando no objeto retornado de ",(0,i.jsx)("code",{children:e.method}),". Isso ocorre porque OAuth 2.0 e OpenID Connect (OIDC) s\xe3o projetados para seguir o princ\xedpio do menor privil\xe9gio (PoLP), e o Logto \xe9 constru\xeddo com base nesses padr\xf5es."]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},20045:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const{Url:n}={...(0,r.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" Fluxos do usu\xe1rio final: fluxos de autentica\xe7\xe3o, fluxos de conta e fluxos de organiza\xe7\xe3o "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" Configurar conectores "}),"\n",(0,i.jsx)(n,{href:"/authorization",children:" Autoriza\xe7\xe3o (Authorization) "})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},81427:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[{value:"Sobre o login baseado em redirecionamento",id:"regarding-redirect-based-sign-in",level:3}];function t(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components},{Details:o,MainSiteUrl:s}=n;return o||d("Details",!0),s||d("MainSiteUrl",!0),(0,i.jsxs)(o,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Sobre o login baseado em redirecionamento"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Este processo de autentica\xe7\xe3o segue o protocolo ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"}),", e o Logto aplica medidas de seguran\xe7a rigorosas para proteger o login do usu\xe1rio."]}),"\n",(0,i.jsx)(n.li,{children:"Se voc\xea tiver v\xe1rios aplicativos, pode usar o mesmo provedor de identidade (Logto). Uma vez que o usu\xe1rio faz login em um aplicativo, o Logto completar\xe1 automaticamente o processo de login quando o usu\xe1rio acessar outro aplicativo."}),"\n"]}),(0,i.jsxs)(n.p,{children:["Para saber mais sobre a l\xf3gica e os benef\xedcios do login baseado em redirecionamento, veja ",(0,i.jsx)(s,{href:"/concepts/sign-in-experience",children:"Experi\xeancia de login do Logto explicada"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}function d(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},26461:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Aqui est\xe1 a lista de escopos suportados e as reivindica\xe7\xf5es correspondentes:"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"O identificador \xfanico do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"O nome completo do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"O nome de usu\xe1rio do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"URL da foto de perfil do Usu\xe1rio Final. Este URL DEVE referir-se a um arquivo de imagem (por exemplo, um arquivo de imagem PNG, JPEG ou GIF), em vez de uma p\xe1gina da Web contendo uma imagem. Note que este URL DEVE referir-se especificamente a uma foto de perfil do Usu\xe1rio Final adequada para exibi\xe7\xe3o ao descrever o Usu\xe1rio Final, em vez de uma foto arbitr\xe1ria tirada pelo Usu\xe1rio Final."}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Hora em que o Usu\xe1rio Final foi criado. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"Hora em que as informa\xe7\xf5es do Usu\xe1rio Final foram atualizadas pela \xfaltima vez. O tempo \xe9 representado como o n\xfamero de milissegundos desde a \xe9poca Unix (1970-01-01T00:00:00Z)."}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["Outras ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"reivindica\xe7\xf5es padr\xe3o"})," incluem ",(0,i.jsx)(n.code,{children:"family_name"}),", ",(0,i.jsx)(n.code,{children:"given_name"}),", ",(0,i.jsx)(n.code,{children:"middle_name"}),", ",(0,i.jsx)(n.code,{children:"nickname"}),", ",(0,i.jsx)(n.code,{children:"preferred_username"}),", ",(0,i.jsx)(n.code,{children:"profile"}),", ",(0,i.jsx)(n.code,{children:"website"}),", ",(0,i.jsx)(n.code,{children:"gender"}),", ",(0,i.jsx)(n.code,{children:"birthdate"}),", ",(0,i.jsx)(n.code,{children:"zoneinfo"})," e ",(0,i.jsx)(n.code,{children:"locale"})," tamb\xe9m ser\xe3o inclu\xeddas no escopo ",(0,i.jsx)(n.code,{children:"profile"})," sem a necessidade de solicitar o endpoint userinfo. Uma diferen\xe7a em rela\xe7\xe3o \xe0s reivindica\xe7\xf5es acima \xe9 que essas reivindica\xe7\xf5es s\xf3 ser\xe3o retornadas quando seus valores n\xe3o estiverem vazios, enquanto as reivindica\xe7\xf5es acima retornar\xe3o ",(0,i.jsx)(n.code,{children:"null"})," se os valores estiverem vazios."]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Ao contr\xe1rio das reivindica\xe7\xf5es padr\xe3o, as reivindica\xe7\xf5es ",(0,i.jsx)(n.code,{children:"created_at"})," e ",(0,i.jsx)(n.code,{children:"updated_at"})," est\xe3o usando milissegundos em vez de segundos."]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"O endere\xe7o de email do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Se o endere\xe7o de email foi verificado"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"O n\xfamero de telefone do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"Se o n\xfamero de telefone foi verificado"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["Por favor, consulte o ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," para os detalhes da reivindica\xe7\xe3o de endere\xe7o."]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"Os dados personalizados do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"Sim"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"As identidades vinculadas do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"Sim"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"As identidades SSO vinculadas do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"Sim"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Os pap\xe9is do usu\xe1rio"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"Os IDs das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,i.jsx)(n.td,{children:"N\xe3o"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"Os dados das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence"}),(0,i.jsx)(n.td,{children:"Sim"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Nome da reivindica\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Tipo"}),(0,i.jsx)(n.th,{children:"Descri\xe7\xe3o"}),(0,i.jsx)(n.th,{children:"Precisa de userinfo?"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["Os pap\xe9is das organiza\xe7\xf5es \xe0s quais o usu\xe1rio pertence com o formato ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"N\xe3o"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:['Considerando o desempenho e o tamanho dos dados, se "Precisa de userinfo?" for "Sim", isso significa que a reivindica\xe7\xe3o n\xe3o aparecer\xe1 no Token de ID, mas ser\xe1 retornada na resposta do ',(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},59832:(e,n,o)=>{o.d(n,{Ay:()=>d,RM:()=>t});var i=o(25105),r=o(79621),s=o(26461);const t=[...s.RM];function a(e){const n={a:"a",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Logto usa as ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"conven\xe7\xf5es de escopos e reivindica\xe7\xf5es"})," do OIDC para definir os escopos e reivindica\xe7\xf5es para recuperar informa\xe7\xf5es do usu\xe1rio do Token de ID e do ",(0,i.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"endpoint userinfo"}),' do OIDC. Tanto "escopo" quanto "reivindica\xe7\xe3o" s\xe3o termos das especifica\xe7\xf5es OAuth 2.0 e OpenID Connect (OIDC).']}),"\n","\n",e.configScopesCode&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{children:"Em resumo, quando voc\xea solicita um escopo, voc\xea obter\xe1 as reivindica\xe7\xf5es correspondentes nas informa\xe7\xf5es do usu\xe1rio. Por exemplo, se voc\xea solicitar o escopo `email`, voc\xea obter\xe1 os dados `email` e `email_verified` do usu\xe1rio."}),(0,i.jsx)("p",{children:"Por padr\xe3o, o Logto SDK sempre solicitar\xe1 tr\xeas escopos: `openid`, `profile` e `offline_access`, e n\xe3o h\xe1 como remover esses escopos padr\xe3o. Mas voc\xea pode adicionar mais escopos ao configurar o Logto:"}),e.configScopesCode]}),"\n",(0,i.jsx)(s.Ay,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},93961:(e,n,o)=>{o.d(n,{Ay:()=>a,RM:()=>s});var i=o(25105),r=o(79621);const s=[];function t(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Por padr\xe3o, reivindica\xe7\xf5es limitadas s\xe3o retornadas. Se voc\xea precisar de mais informa\xe7\xf5es, pode solicitar escopos adicionais para acessar mais reivindica\xe7\xf5es."}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:'Uma "reivindica\xe7\xe3o (Claim)" \xe9 uma afirma\xe7\xe3o feita sobre um sujeito; um "escopo (Scope)" \xe9 um grupo de reivindica\xe7\xf5es. No caso atual, uma reivindica\xe7\xe3o \xe9 uma informa\xe7\xe3o sobre o usu\xe1rio.'})}),"\n",(0,i.jsx)(n.p,{children:"Aqui est\xe1 um exemplo n\xe3o normativo da rela\xe7\xe3o escopo - reivindica\xe7\xe3o:"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:'A reivindica\xe7\xe3o "sub" significa "sujeito (Subject)", que \xe9 o identificador \xfanico do usu\xe1rio (ou seja, ID do usu\xe1rio).'})}),"\n",(0,i.jsxs)(n.p,{children:["O Logto SDK sempre solicitar\xe1 tr\xeas escopos: ",(0,i.jsx)(n.code,{children:"openid"}),", ",(0,i.jsx)(n.code,{children:"profile"})," e ",(0,i.jsx)(n.code,{children:"offline_access"}),"."]})]})}function a(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}},84057:(e,n,o)=>{o.d(n,{Ay:()=>d,RM:()=>t});var i=o(25105),r=o(79621),s=o(81427);const t=[...s.RM];function a(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"Antes de entrarmos nos detalhes, aqui est\xe1 uma vis\xe3o geral r\xe1pida da experi\xeancia do usu\xe1rio final. O processo de login pode ser simplificado da seguinte forma:"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(Seu app) --\x3e|1\\. Iniciar login| B(Logto)\n    B --\x3e|2\\. Finalizar login| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Seu app invoca o m\xe9todo de login."}),"\n",(0,i.jsx)(n.li,{children:"O usu\xe1rio \xe9 redirecionado para a p\xe1gina de login do Logto. Para aplicativos nativos, o navegador do sistema \xe9 aberto."}),"\n",(0,i.jsx)(n.li,{children:"O usu\xe1rio faz login e \xe9 redirecionado de volta para seu app (configurado como o URI de redirecionamento)."}),"\n"]}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},43229:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>te,contentTitle:()=>se,default:()=>ce,frontMatter:()=>re,metadata:()=>i,toc:()=>ae});const i=JSON.parse('{"id":"quick-starts/framework/flutter/README","title":"Adicionar autentica\xe7\xe3o ao seu aplicativo Flutter","description":"Este tutorial mostrar\xe1 como integrar o Logto ao seu aplicativo Flutter.","source":"@site/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","sourceDirName":"quick-starts/framework/flutter","slug":"/quick-starts/flutter","permalink":"/pt-BR/quick-starts/flutter","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/pt-BR/docusaurus-plugin-content-docs/current/quick-starts/framework/flutter/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/flutter","sidebar_label":"Flutter","sidebar_custom_props":{"description":"Flutter \xe9 um framework para construir aplicativos m\xf3veis h\xedbridos."},"language":"dart","official_link":"https://flutter.dev","app_type":"Native app","framework":"Flutter"},"sidebar":"quickStartSidebar","previous":{"title":"Express","permalink":"/pt-BR/quick-starts/express"},"next":{"title":"FlutterFlow","permalink":"/pt-BR/quick-starts/flutter-flow"}}');var r=o(25105),s=o(79621),t=o(20045),a=o(62310),d=o(40626),c=o(85153);function l(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"Future<AccessToken?> getAccessToken(String resource) async {\n  var token = await logtoClient.getAccessToken(resource: resource);\n\n  return token;\n}\n"})})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}function p(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // Add your API resources\n  // highlight-start\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // highlight-end\n);\n'})})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(p,{...e})}):p(e)}function m(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Add your API resources\' scopes\n  // highlight-start\n  scopes: ["shopping:read", "shopping:write", "store:read", "store:write"]\n  // highlight-end\n);\n'})})}function x(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(m,{...e})}):m(e)}function g(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  resources: ["https://shopping.your-app.com/api", "https://store.your-app.com/api"],\n  // Escopos compartilhados por todos os recursos\n  // highlight-start\n  scopes: ["read", "write"]\n  // highlight-end\n);\n'})})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(g,{...e})}):g(e)}const f=[...a.RM,{value:"Configurar cliente Logto",id:"configure-logto-client",level:3},...d.RM,{value:"Buscar token de acesso para o recurso de API",id:"fetch-access-token-for-the-api-resource",level:3},...c.RM];function v(e){const n={h3:"h3",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.Ay,{}),"\n",(0,r.jsx)(n.h3,{id:"configure-logto-client",children:"Configurar cliente Logto"}),"\n",(0,r.jsx)(d.Ay,{configResourcesCode:(0,r.jsx)(h,{}),configResourcesWithScopesCode:(0,r.jsx)(x,{}),configResourcesWithSharedScopesCode:(0,r.jsx)(j,{})}),"\n",(0,r.jsx)(n.h3,{id:"fetch-access-token-for-the-api-resource",children:"Buscar token de acesso para o recurso de API"}),"\n",(0,r.jsx)(c.Ay,{getAccessTokenApi:"getAccessToken",getAccessTokenCode:(0,r.jsx)(u,{})})]})}function b(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(v,{...e})}):v(e)}function A(e){const n={a:"a",blockquote:"blockquote",code:"code",h3:"h3",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"sdk-version-compatibility",children:"Compatibilidade de vers\xe3o do SDK"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Vers\xe3o do Logto SDK"}),(0,r.jsx)(n.th,{children:"Vers\xe3o do Dart SDK"}),(0,r.jsx)(n.th,{children:"Compat\xedvel com Dart 3.0"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"< 2.0.0"}),(0,r.jsx)(n.td,{children:">= 2.17.6 < 3.0.0"}),(0,r.jsx)(n.td,{children:"false"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">= 2.0.0 < 3.0.0"}),(0,r.jsx)(n.td,{children:">= 3.0.0"}),(0,r.jsx)(n.td,{children:"true"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:">= 3.0.0"}),(0,r.jsx)(n.td,{children:">= 3.6.0"}),(0,r.jsx)(n.td,{children:"true"})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"flutter_secure_storage-set-up",children:"Configura\xe7\xe3o do flutter_secure_storage"}),"\n",(0,r.jsxs)(n.p,{children:["Nos bastidores, este SDK usa ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage",children:"flutter_secure_storage"})," para implementar o armazenamento seguro de tokens persistentes em v\xe1rias plataformas."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Keychain \xe9 usado para iOS"}),"\n",(0,r.jsx)(n.li,{children:"Criptografia AES \xe9 usada para Android."}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"config-android-version",children:"Configurar vers\xe3o do Android"}),"\n",(0,r.jsxs)(n.p,{children:["Defina o android",":minSdkVersion"," para ",(0,r.jsx)(n.code,{children:">= 18"})," no arquivo ",(0,r.jsx)(n.code,{children:"android/app/build.gradle"})," do seu projeto."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-kotlin",metastring:'title="build.gradle"',children:"  android {\n      ...\n\n      defaultConfig {\n          ...\n          minSdkVersion 18\n          ...\n      }\n  }\n"})}),"\n",(0,r.jsx)(n.h4,{id:"disable-auto-backup-on-android",children:"Desativar backup autom\xe1tico no Android"}),"\n",(0,r.jsxs)(n.p,{children:["Por padr\xe3o, o Android faz backup de dados no Google Drive. Isso pode causar a exce\xe7\xe3o ",(0,r.jsx)(n.code,{children:"java.security.InvalidKeyException:Failed"})," ao desembrulhar a chave. Para evitar isso,"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Para desativar o backup autom\xe1tico, v\xe1 para o arquivo de manifesto do seu aplicativo e defina os atributos ",(0,r.jsx)(n.code,{children:"android:allowBackup"})," e ",(0,r.jsx)(n.code,{children:"android:fullBackupContent"})," como ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<manifest ... >\n    ...\n    <application\n      android:allowBackup="false"\n      android:fullBackupContent="false"\n      ...\n    >\n        ...\n    </application>\n</manifest>\n\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Exclua ",(0,r.jsx)(n.code,{children:"sharedprefs"})," do ",(0,r.jsx)(n.code,{children:"FlutterSecureStorage"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Se voc\xea precisar manter o ",(0,r.jsx)(n.code,{children:"android:fullBackupContent"})," para seu aplicativo em vez de desativ\xe1-lo, pode excluir o diret\xf3rio ",(0,r.jsx)(n.code,{children:"sharedprefs"})," do backup.\nVeja mais detalhes na ",(0,r.jsx)(n.a,{href:"https://developer.android.com/identity/data/autobackup#IncludingFiles",children:"documenta\xe7\xe3o do Android"}),"."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["No seu arquivo AndroidManifest.xml, adicione o atributo android",":fullBackupContent"," ao elemento ",(0,r.jsx)(n.code,{children:"<application>"}),", conforme mostrado no exemplo a seguir. Este atributo aponta para um arquivo XML que cont\xe9m regras de backup."]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'<application ...\n  android:fullBackupContent="@xml/backup_rules">\n</application>\n'})}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:["Crie um arquivo XML chamado ",(0,r.jsx)(n.code,{children:"@xml/backup_rules"})," no diret\xf3rio ",(0,r.jsx)(n.code,{children:"res/xml/"}),". Neste arquivo, adicione regras com os elementos ",(0,r.jsx)(n.code,{children:"<include>"})," e ",(0,r.jsx)(n.code,{children:"<exclude>"}),". O exemplo a seguir faz backup de todas as prefer\xeancias compartilhadas, exceto device.xml:"]}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="@xml/backup_rules"',children:'<?xml version="1.0" encoding="utf-8"?>\n<full-backup-content>\n  <exclude domain="sharedpref" path="FlutterSecureStorage"/>\n</full-backup-content>\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Por favor, verifique ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_secure_storage#configure-android-version",children:"flutter_secure_storage"})," para mais detalhes."]}),"\n",(0,r.jsx)(n.h3,{id:"flutter_web_auth_2-set-up",children:"Configura\xe7\xe3o do flutter_web_auth_2"}),"\n",(0,r.jsxs)(n.p,{children:["Nos bastidores, este SDK usa ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2",children:"flutter_web_auth_2"})," para autenticar usu\xe1rios com Logto. Este pacote fornece uma maneira simples de autenticar usu\xe1rios com Logto usando o webview do sistema ou navegador."]}),"\n",(0,r.jsxs)(n.p,{children:["Este plugin usa ",(0,r.jsx)(n.code,{children:"ASWebAuthenticationSession"})," no iOS 12+ e macOS 10.15+, ",(0,r.jsx)(n.code,{children:"SFAuthenticationSession"})," no iOS 11, ",(0,r.jsx)(n.code,{children:"Chrome Custom Tabs"})," no Android e abre uma nova janela na Web."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"iOS: Nenhuma configura\xe7\xe3o adicional necess\xe1ria"}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Android: Registre a URL de callback no Android"}),"\n",(0,r.jsxs)(n.p,{children:["Para capturar a URL de callback da p\xe1gina de login do Logto, voc\xea precisar\xe1 registrar seu redirectUri de login no arquivo ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="AndroidManifest.xml"',children:'  <manifest>\n    <application>\n        <activity\n          android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n          android:exported="true">\n          <intent-filter android:label="flutter_web_auth_2">\n          <action android:name="android.intent.action.VIEW" />\n          <category android:name="android.intent.category.DEFAULT" />\n          <category android:name="android.intent.category.BROWSABLE" />\n          <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n          </intent-filter>\n        </activity>\n    </application>\n  </manifest>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Navegador Web: Crie um endpoint para lidar com a URL de callback"}),"\n",(0,r.jsxs)(n.p,{children:["Se voc\xea estiver usando a plataforma web, precisar\xe1 criar um endpoint para lidar com a URL de callback e envi\xe1-la de volta para o aplicativo usando a API ",(0,r.jsx)(n.code,{children:"postMessage"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-html",metastring:'title="callback.html"',children:"<!doctype html>\n<title>Autentica\xe7\xe3o completa</title>\n<p>\n  A autentica\xe7\xe3o est\xe1 completa. Se isso n\xe3o acontecer automaticamente, por favor, feche a janela.\n</p>\n<script>\n  function postAuthenticationMessage() {\n    const message = {\n      'flutter-web-auth-2': window.location.href,\n    };\n\n    if (window.opener) {\n      window.opener.postMessage(message, window.location.origin);\n      window.close();\n    } else if (window.parent && window.parent !== window) {\n      window.parent.postMessage(message, window.location.origin);\n    } else {\n      localStorage.setItem('flutter-web-auth-2', window.location.href);\n      window.close();\n    }\n  }\n\n  postAuthenticationMessage();\n<\/script>\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Por favor, verifique o guia de configura\xe7\xe3o no pacote ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/flutter_web_auth_2#setup",children:"flutter_web_auth_2"})," para mais detalhes."]})]})}function y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(A,{...e})}):A(e)}var _=o(78766),S=o(46680),k=o(59832),C=o(93961);function R(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userClaims = await logtoClient.idTokenClaims;\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obter informa\xe7\xf5es do usu\xe1rio'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Meu Aplicativo de Demonstra\xe7\xe3o'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function w(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(R,{...e})}):R(e)}function I(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget getUserInfoButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        final userInfo = await logtoClient.getUserInfo();\n        print(userInfo);\n        // highlight-end\n      },\n      child: const Text('Obter informa\xe7\xf5es do usu\xe1rio'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('Meu Aplicativo de Demonstra\xe7\xe3o'),\n            isAuthenticated == true ? signOutButton : signInButton,\n            isAuthenticated == true ? getUserInfoButton : const SizedBox.shrink(),\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})})}function q(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(I,{...e})}):I(e)}function P(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: ["email", "phone"],\n  // highlight-end\n);\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Tamb\xe9m fornecemos um enum ",(0,r.jsx)(n.code,{children:"LogtoUserScope"})," embutido no pacote SDK para ajud\xe1-lo a usar os escopos (Scopes) predefinidos."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScope.email.value, LogtoUserScope.phone.value],\n  // highlight-end\n);\n'})})]})}function L(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(P,{...e})}):P(e)}const M=[{value:"Exibir informa\xe7\xf5es do usu\xe1rio",id:"display-user-information",level:3},{value:"Solicitar reivindica\xe7\xf5es adicionais",id:"request-additional-claims",level:3},...S.RM,...C.RM,..._.RM,{value:"Escopos e reivindica\xe7\xf5es",id:"scopes-and-claims",level:3},...k.RM];function O(e){const n={code:"code",h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"display-user-information",children:"Exibir informa\xe7\xf5es do usu\xe1rio"}),"\n",(0,r.jsxs)(n.p,{children:["Para exibir as informa\xe7\xf5es do usu\xe1rio, voc\xea pode usar o getter ",(0,r.jsx)(n.code,{children:"logtoClient.idTokenClaims"}),". Por exemplo, em um aplicativo Flutter:"]}),"\n",(0,r.jsx)(w,{}),"\n",(0,r.jsx)(n.h3,{id:"request-additional-claims",children:"Solicitar reivindica\xe7\xf5es adicionais"}),"\n",(0,r.jsx)(S.Ay,{method:"client.idTokenClaims"}),"\n",(0,r.jsx)(C.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Para solicitar escopos adicionais, voc\xea pode pass\xe1-los para o objeto ",(0,r.jsx)(n.code,{children:"LogtoConfig"}),". Por exemplo:"]}),"\n",(0,r.jsx)(L,{}),"\n",(0,r.jsx)(_.Ay,{type:"method",method:"logtoClient.getUserInfo()",codeSnippet:(0,r.jsx)(q,{})}),"\n",(0,r.jsx)(n.h3,{id:"scopes-and-claims",children:"Escopos e reivindica\xe7\xf5es"}),"\n",(0,r.jsx)(k.Ay,{})]})}function D(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(O,{...e})}):O(e)}var z=o(38552),N=o(22002);function T(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsxs)(N.A,{children:[(0,r.jsxs)(z.A,{value:"pub",label:"pub.dev",children:[(0,r.jsxs)(n.p,{children:["Voc\xea pode instalar o ",(0,r.jsx)(n.code,{children:"logto_dart_sdk package"})," diretamente usando o gerenciador de pacotes pub.\nExecute o seguinte comando no diret\xf3rio raiz do seu projeto:"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter pub add logto_dart_sdk\n"})}),(0,r.jsxs)(n.p,{children:["Ou adicione o seguinte ao seu arquivo ",(0,r.jsx)(n.code,{children:"pubspec.yaml"}),":"]}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),(0,r.jsx)(n.p,{children:"Em seguida, execute:"}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"flutter pub get\n"})})]}),(0,r.jsxs)(z.A,{value:"github",label:"GitHub",children:[(0,r.jsx)(n.p,{children:"Se voc\xea preferir criar sua pr\xf3pria vers\xe3o do SDK, pode clonar o reposit\xf3rio diretamente do GitHub."}),(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"git clone https://github.com/logto-io/dart\n"})})]})]})}function U(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(T,{...e})}):T(e)}var E=o(42097);function B(e){const n={a:"a",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:(0,r.jsxs)(n.p,{children:["Vamos mudar para a p\xe1gina de detalhes do Aplicativo no Logto Console. Adicione um URI de\nRedirecionamento P\xf3s-Logout ",(0,r.jsx)("code",{children:e.postSignOutRedirectUri}),' e clique em "Salvar\naltera\xe7\xf5es".']})}),"\n",(0,r.jsx)("img",{alt:"URI de Redirecionamento P\xf3s-Logout no Logto Console",src:e.figureSrc,width:"600px"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-rpinitiated-1_0.html#RPLogout",children:"URI de Redirecionamento P\xf3s-Logout"})," \xe9 um conceito do OAuth 2.0 que implica o local para onde deve redirecionar ap\xf3s o logout."]})]})}function F(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(B,{...e})}):B(e)}var W=o(46443),V=o(84057);const H=[{value:"Inicializar LogtoClient",id:"init-logtoclient",level:3},{value:"Implementar login",id:"implement-sign-in",level:3},...V.RM,...W.RM,{value:"Implementar logout",id:"implement-sign-out",level:3},{value:"Lidar com o status de autentica\xe7\xe3o",id:"handle-authentication-status",level:3},...E.RM];function K(e){const n={code:"code",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"init-logtoclient",children:"Inicializar LogtoClient"}),"\n",(0,r.jsxs)(n.p,{children:["Importe o pacote ",(0,r.jsx)(n.code,{children:"logto_dart_sdk"})," e inicialize a inst\xe2ncia ",(0,r.jsx)(n.code,{children:"LogtoClient"})," na raiz do seu aplicativo."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"import 'package:logto_dart_sdk/logto_dart_sdk.dart';\nimport 'package:http/http.dart' as http;\n\nvoid main() async {\n  WidgetsFlutterBinding.ensureInitialized();\n  runApp(const MyApp());\n}\n\nclass MyApp extends StatelessWidget {\n  const MyApp({Key? key}) : super(key: key);\n\n  @override\n  Widget build(BuildContext context) {\n    return const MaterialApp(\n      title: 'Flutter Demo',\n      home: MyHomePage(title: 'Logto Demo Home Page'),\n    );\n  }\n}\n\nclass MyHomePage extends StatefulWidget {\n  const MyHomePage({Key? key, required this.title}) : super(key: key);\n  final String title;\n\n  @override\n  State<MyHomePage> createState() => _MyHomePageState();\n}\n\nclass _MyHomePageState extends State<MyHomePage> {\n  late LogtoClient logtoClient;\n\n  void render() {\n    // mudan\xe7a de estado\n  }\n\n  // highlight-start\n  // LogtoConfig\n  final logtoConfig = const LogtoConfig(\n    endpoint: \"<your-logto-endpoint>\",\n    appId: \"<your-app-id>\"\n  );\n\n  void _init() {\n    logtoClient = LogtoClient(\n      config: logtoConfig,\n      httpClient: http.Client(), // Cliente HTTP opcional\n    );\n    render();\n  }\n  // highlight-end\n\n  @override\n  void initState() {\n    super.initState();\n    _init();\n  }\n\n  // ...\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"implement-sign-in",children:"Implementar login"}),"\n",(0,r.jsx)(V.Ay,{}),"\n",(0,r.jsx)(n.p,{children:"Antes de come\xe7ar, voc\xea precisa adicionar um URI de redirecionamento no Admin Console para o seu aplicativo."}),"\n",(0,r.jsx)(W.Ay,{figureSrc:"/img/assets/flutter-redirect-uri.png",redirectUri:"io.logto://callback"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Para iOS, o esquema de URI de redirecionamento n\xe3o importa realmente, pois a classe ",(0,r.jsx)(n.code,{children:"ASWebAuthenticationSession"})," ouvir\xe1 o URI de redirecionamento independentemente de estar registrado."]}),"\n",(0,r.jsxs)(n.li,{children:["Para Android, o esquema de URI de redirecionamento deve ser registrado no arquivo ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["Ap\xf3s configurar o URI de redirecionamento, adicionamos um bot\xe3o de login \xe0 sua p\xe1gina, que chamar\xe1 a API ",(0,r.jsx)(n.code,{children:"logtoClient.signIn"})," para invocar o fluxo de login do Logto:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  final redirectUri = 'io.logto://callback';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signInButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signIn(redirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign In'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"implement-sign-out",children:"Implementar logout"}),"\n",(0,r.jsx)(F,{figureSrc:"/img/assets/flutter-post-sign-out-redirect-uri.png",postSignOutRedirectUri:"io.logto://callback"}),"\n",(0,r.jsx)(n.p,{children:"Agora vamos adicionar um bot\xe3o de logout na p\xe1gina principal para que os usu\xe1rios possam sair do seu aplicativo."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n\n  final postSignOutRedirectUri = 'io.logto//home';\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    Widget signOutButton = TextButton(\n      onPressed: () async {\n        // highlight-start\n        await logtoClient.signOut(postSignOutRedirectUri);\n        render();\n        // highlight-end\n      },\n      child: const Text('Sign Out'),\n    );\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            signInButton,\n            signOutButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"handle-authentication-status",children:"Lidar com o status de autentica\xe7\xe3o"}),"\n",(0,r.jsxs)(n.p,{children:["O Logto SDK fornece um m\xe9todo ass\xedncrono para verificar o status de autentica\xe7\xe3o. O m\xe9todo \xe9 ",(0,r.jsx)(n.code,{children:"logtoClient.isAuthenticated"}),". O m\xe9todo retorna um valor booleano, ",(0,r.jsx)(n.code,{children:"true"})," se o usu\xe1rio estiver autenticado, caso contr\xe1rio, ",(0,r.jsx)(n.code,{children:"false"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["No exemplo, renderizamos condicionalmente os bot\xf5es de login e logout com base no status de autentica\xe7\xe3o. Agora vamos atualizar o m\xe9todo ",(0,r.jsx)(n.code,{children:"render"})," em nosso Widget para lidar com a mudan\xe7a de estado:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:"class _MyHomePageState extends State<MyHomePage> {\n  // ...\n  bool? isAuthenticated = false;\n\n  void render() {\n    setState(() async {\n      // highlight-start\n      isAuthenticated = await logtoClient.isAuthenticated;\n      // highlight-end\n    });\n  }\n\n  @override\n  Widget build(BuildContext context) {\n    // ...\n\n    return Scaffold(\n      appBar: AppBar(\n        title: Text(widget.title),\n      ),\n      body: Center(\n        child: Column(\n          mainAxisAlignment: MainAxisAlignment.center,\n          children: <Widget>[\n            SelectableText('My Demo App'),\n            isAuthenticated == true ? signOutButton : signInButton,\n          ],\n        ),\n      ),\n    );\n  }\n}\n"})}),"\n",(0,r.jsx)(E.Ay,{})]})}function G(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(K,{...e})}):K(e)}var $=o(57973);function Z(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"// IDs de organiza\xe7\xf5es v\xe1lidas para o usu\xe1rio podem ser encontradas na reivindica\xe7\xe3o do Token de ID `organizations`.\nFuture<AccessToken?> getOrganizationAccessToken(String organizationId) async {\n  var token = await logtoClient.getOrganizationToken(organizationId);\n\n  return token;\n}\n"})})}function J(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(Z,{...e})}):Z(e)}function X(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",metastring:'title="lib/main.dart"',children:'// LogtoConfig\nfinal logtoConfig = const LogtoConfig(\n  endpoint: "<your-logto-endpoint>",\n  appId: "<your-app-id>",\n  // highlight-start\n  scopes: [LogtoUserScopes.organizations.value]\n  // highlight-end\n);\n'})})}function Y(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(X,{...e})}):X(e)}const Q=[{value:"Buscar token de acesso para organiza\xe7\xf5es",id:"fetch-access-token-for-organizations",level:3},...$.RM];function ee(e){const n={h3:"h3",p:"p",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"fetch-access-token-for-organizations",children:"Buscar token de acesso para organiza\xe7\xf5es"}),"\n",(0,r.jsx)(n.p,{children:"Assim como os recursos de API, voc\xea tamb\xe9m pode solicitar um token de acesso para organiza\xe7\xf5es. Isso \xe9 \xfatil quando voc\xea precisa acessar recursos que s\xe3o definidos usando o escopo da organiza\xe7\xe3o em vez do escopo do recurso de API."}),"\n",(0,r.jsx)($.Ay,{organizationScope:"LogtoUserScope.Organizations",configOrganizationCode:(0,r.jsx)(Y,{}),getOrganizationAccessTokenCode:(0,r.jsx)(J,{})})]})}function ne(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(ee,{...e})}):ee(e)}function oe(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["O pacote SDK est\xe1 dispon\xedvel no ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk",children:"pub.dev"})," e no reposit\xf3rio do Logto no ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/dart",children:"GitHub"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:["O projeto de exemplo \xe9 constru\xeddo usando ",(0,r.jsx)(n.a,{href:"https://flutter.dev",children:"Flutter material"}),". Voc\xea pode encontr\xe1-lo no ",(0,r.jsx)(n.a,{href:"https://pub.dev/packages/logto_dart_sdk/example",children:"pub.dev"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Este SDK \xe9 compat\xedvel com aplicativos Flutter nas plataformas iOS, Android e Web. A compatibilidade com outras plataformas n\xe3o foi testada."}),"\n"]})})}function ie(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(oe,{...e})}):oe(e)}const re={slug:"/quick-starts/flutter",sidebar_label:"Flutter",sidebar_custom_props:{description:"Flutter \xe9 um framework para construir aplicativos m\xf3veis h\xedbridos."},language:"dart",official_link:"https://flutter.dev",app_type:"Native app",framework:"Flutter"},se="Adicionar autentica\xe7\xe3o ao seu aplicativo Flutter",te={},ae=[{value:"Pr\xe9-requisitos",id:"prerequisites",level:2},{value:"Instala\xe7\xe3o",id:"installation",level:2},{value:"Configura\xe7\xe3o",id:"set-up",level:2},{value:"Compatibilidade de vers\xe3o do SDK",id:"sdk-version-compatibility",level:3},{value:"Configura\xe7\xe3o do flutter_secure_storage",id:"flutter_secure_storage-set-up",level:3},{value:"Configurar vers\xe3o do Android",id:"config-android-version",level:4},{value:"Desativar backup autom\xe1tico no Android",id:"disable-auto-backup-on-android",level:4},{value:"Configura\xe7\xe3o do flutter_web_auth_2",id:"flutter_web_auth_2-set-up",level:3},{value:"Integra\xe7\xe3o",id:"integration",level:2},...H,{value:"Obter informa\xe7\xf5es do usu\xe1rio",id:"get-user-information",level:2},...M,{value:"Recursos de API e organiza\xe7\xf5es",id:"api-resources-and-organizations",level:2},...f,...Q,{value:"Guia de migra\xe7\xe3o",id:"migration-guide",level:2},{value:"Solu\xe7\xe3o de problemas",id:"troubleshooting",level:2},{value:"Solu\xe7\xe3o de problemas no Android",id:"troubleshooting-android",level:3},{value:"Leituras adicionais",id:"further-readings",level:2},...t.RM];function de(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"adicionar-autentica\xe7\xe3o-ao-seu-aplicativo-flutter",children:"Adicionar autentica\xe7\xe3o ao seu aplicativo Flutter"})}),"\n",(0,r.jsx)(n.p,{children:"Este tutorial mostrar\xe1 como integrar o Logto ao seu aplicativo Flutter."}),"\n",(0,r.jsx)(ie,{}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Pr\xe9-requisitos"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Uma conta no ",(0,r.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," ou um ",(0,r.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"Logto auto-hospedado"}),"."]}),"\n",(0,r.jsx)(n.li,{children:"Um aplicativo nativo Logto criado."}),"\n",(0,r.jsx)(n.li,{children:"Um ambiente de desenvolvimento Flutter ou Dart."}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Instala\xe7\xe3o"}),"\n",(0,r.jsx)(U,{}),"\n",(0,r.jsx)(n.h2,{id:"set-up",children:"Configura\xe7\xe3o"}),"\n",(0,r.jsx)(y,{}),"\n",(0,r.jsx)(n.h2,{id:"integration",children:"Integra\xe7\xe3o"}),"\n",(0,r.jsx)(G,{}),"\n",(0,r.jsx)(n.h2,{id:"get-user-information",children:"Obter informa\xe7\xf5es do usu\xe1rio"}),"\n",(0,r.jsx)(D,{}),"\n",(0,r.jsx)(n.h2,{id:"api-resources-and-organizations",children:"Recursos de API e organiza\xe7\xf5es"}),"\n",(0,r.jsx)(b,{}),"\n",(0,r.jsx)(ne,{}),"\n",(0,r.jsx)(n.h2,{id:"migration-guide",children:"Guia de migra\xe7\xe3o"}),"\n",(0,r.jsx)(n.p,{children:"Se voc\xea est\xe1 migrando de uma vers\xe3o anterior do Logto Dart SDK, vers\xe3o < 3.0.0:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Atualize seu arquivo ",(0,r.jsx)(n.code,{children:"pubspec.yaml"})," para usar a vers\xe3o mais recente do Logto Dart SDK."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yaml",metastring:'title="pubspec.yaml"',children:"dependencies:\n  logto_dart_sdk: ^3.0.0\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Atualize o arquivo de manifesto do Android, substitua a atividade de callback legada ",(0,r.jsx)(n.code,{children:"flutter_web_auth"})," pela nova ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"FlutterWebAuth"})," -> ",(0,r.jsx)(n.code,{children:"FlutterWebAuth2"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"flutter_web_auth"})," -> ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Passe o ",(0,r.jsx)(n.code,{children:"redirectUri"})," para o m\xe9todo ",(0,r.jsx)(n.code,{children:"signOut"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"redirectUri"})," agora \xe9 necess\xe1rio ao chamar o m\xe9todo ",(0,r.jsx)(n.code,{children:"signOut"}),". Para a plataforma iOS, este par\xe2metro \xe9 in\xfatil, mas para as plataformas Android e Web, que requerem uma solicita\xe7\xe3o adicional ",(0,r.jsx)(n.code,{children:"end_session"})," para limpar a sess\xe3o de login, este par\xe2metro ser\xe1 usado como o par\xe2metro ",(0,r.jsx)(n.code,{children:"post_logout_redirect_uri"})," na solicita\xe7\xe3o ",(0,r.jsx)(n.code,{children:"end_session"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-dart",children:"await logtoClient.signOut(redirectUri);\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Solu\xe7\xe3o de problemas"}),"\n",(0,r.jsx)(n.h3,{id:"troubleshooting-android",children:"Solu\xe7\xe3o de problemas no Android"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Voc\xea precisar\xe1 atualizar seu AndroidManifest.xml para incluir a atividade ",(0,r.jsx)(n.code,{children:"com.linusu.flutter_web_auth_2.CallbackActivity"}),", algo como:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'  <manifest>\n  <application>\n\n    \x3c!-- adicione a atividade com.linusu.flutter_web_auth_2.CallbackActivity --\x3e\n    <activity\n      android:name="com.linusu.flutter_web_auth_2.CallbackActivity"\n      android:exported="true">\n      <intent-filter android:label="flutter_web_auth_2">\n        <action android:name="android.intent.action.VIEW" />\n        <category android:name="android.intent.category.DEFAULT" />\n        <category android:name="android.intent.category.BROWSABLE" />\n        <data android:scheme="YOUR_CALLBACK_URL_SCHEME_HERE" />\n      </intent-filter>\n    </activity>\n\n  </application>\n</manifest>\n'})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Se voc\xea estiver direcionando S+ (vers\xe3o SDK 31 e acima), precisar\xe1 fornecer um valor expl\xedcito para ",(0,r.jsx)(n.code,{children:"android:exported"}),". Se voc\xea seguiu as instru\xe7\xf5es de instala\xe7\xe3o anteriores, isso n\xe3o foi inclu\xeddo. Certifique-se de adicionar ",(0,r.jsx)(n.code,{children:'android:exported="true"'})," \xe0 atividade ",(0,r.jsx)(n.code,{children:"com.linusu.flutter_web_auth.CallbackActivity"})," no seu arquivo ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Navegador n\xe3o fechado ap\xf3s login bem-sucedido:"}),"\n",(0,r.jsxs)(n.p,{children:["Para garantir que o ",(0,r.jsx)(n.code,{children:"flutter_web_auth_2"})," funcione corretamente, voc\xea precisa remover quaisquer entradas ",(0,r.jsx)(n.code,{children:"android:taskAffinity"})," do seu arquivo ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),". Defina ",(0,r.jsx)(n.code,{children:'android:launchMode="singleTop"'})," para a atividade principal no seu arquivo ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-xml",metastring:'title="android/app/src/main/AndroidManifest.xml"',children:'<activity\n  android:name=".MainActivity"\n  android:launchMode="singleTop"\n  android:theme="@style/LaunchTheme"\n  // ...\n/>\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"further-readings",children:"Leituras adicionais"}),"\n",(0,r.jsx)(t.Ay,{})]})}function ce(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(de,{...e})}):de(e)}},38552:(e,n,o)=>{o.d(n,{A:()=>t});o(58101);var i=o(13526);const r={tabItem:"tabItem_dgSZ"};var s=o(25105);function t(e){let{children:n,hidden:o,className:t}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(r.tabItem,t),hidden:o,children:n})}},22002:(e,n,o)=>{o.d(n,{A:()=>y});var i=o(58101),r=o(13526),s=o(60755),t=o(55234),a=o(6635),d=o(4100),c=o(35661),l=o(42752);function u(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:n,children:o}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:o,attributes:i,default:r}}=e;return{value:n,label:o,attributes:i,default:r}}))}(o);return function(e){const n=(0,c.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,o])}function h(e){let{value:n,tabValues:o}=e;return o.some((e=>e.value===n))}function m(e){let{queryString:n=!1,groupId:o}=e;const r=(0,t.W6)(),s=function(e){let{queryString:n=!1,groupId:o}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!o)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return o??null}({queryString:n,groupId:o});return[(0,d.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(r.location.search);n.set(s,e),r.replace({...r.location,search:n.toString()})}),[s,r])]}function x(e){const{defaultValue:n,queryString:o=!1,groupId:r}=e,s=p(e),[t,d]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:o}=e;if(0===o.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!h({value:n,tabValues:o}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${o.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=o.find((e=>e.default))??o[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[c,u]=m({queryString:o,groupId:r}),[x,g]=function(e){let{groupId:n}=e;const o=function(e){return e?`docusaurus.tab.${e}`:null}(n),[r,s]=(0,l.Dv)(o);return[r,(0,i.useCallback)((e=>{o&&s.set(e)}),[o,s])]}({groupId:r}),j=(()=>{const e=c??x;return h({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{j&&d(j)}),[j]);return{selectedValue:t,selectValue:(0,i.useCallback)((e=>{if(!h({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);d(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=o(21929);const j={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=o(25105);function v(e){let{className:n,block:o,selectedValue:i,selectValue:t,tabValues:a}=e;const d=[],{blockElementScrollPositionUntilNextRender:c}=(0,s.a_)(),l=e=>{const n=e.currentTarget,o=d.indexOf(n),r=a[o].value;r!==i&&(c(n),t(r))},u=e=>{let n=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const o=d.indexOf(e.currentTarget)+1;n=d[o]??d[0];break}case"ArrowLeft":{const o=d.indexOf(e.currentTarget)-1;n=d[o]??d[d.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,r.A)("tabs",{"tabs--block":o},n),children:a.map((e=>{let{value:n,label:o,attributes:s}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>{d.push(e)},onKeyDown:u,onClick:l,...s,className:(0,r.A)("tabs__item",j.tabItem,s?.className,{"tabs__item--active":i===n}),children:o??n},n)}))})}function b(e){let{lazy:n,children:o,selectedValue:s}=e;const t=(Array.isArray(o)?o:[o]).filter(Boolean);if(n){const e=t.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,r.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:t.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function A(e){const n=x(e);return(0,f.jsxs)("div",{className:(0,r.A)("tabs-container",j.tabList),children:[(0,f.jsx)(v,{...n,...e}),(0,f.jsx)(b,{...n,...e})]})}function y(e){const n=(0,g.A)();return(0,f.jsx)(A,{...e,children:u(e.children)},String(n))}},79621:(e,n,o)=>{o.d(n,{R:()=>t,x:()=>a});var i=o(58101);const r={},s=i.createContext(r);function t(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);