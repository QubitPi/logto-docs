"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[21591],{64590:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>s});var t=r(25105),i=r(79621);const s=[];function d(e){const n={p:"p",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:['Wechseln wir zur Seite "Anwendungsdetails" der Logto-Konsole. F\xfcge eine Redirect-URI ',(0,t.jsx)("code",{children:e.redirectUri}),' hinzu und klicke auf "\xc4nderungen speichern".']}),"\n",(0,t.jsx)("img",{alt:"Redirect-URI in Logto-Konsole",src:e.figureSrc,width:"600px"})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},2742:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>s});var t=r(25105),i=r(79621);const s=[];function d(e){const{Url:n}={...(0,i.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n,{href:"/end-user-flows",children:" Endbenutzerfl\xfcsse: Authentifizierungsfl\xfcsse, Kontofl\xfcsse und Organisationsfl\xfcsse "}),"\n",(0,t.jsx)(n,{href:"/connectors",children:" Connectors konfigurieren "}),"\n",(0,t.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:" Sch\xfctze deine API "})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},7106:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>d});var t=r(25105),i=r(79621);const s=r.p+"assets/images/app-secret-2b2c12ae8557fbcf3b283bf86f3ac6db.png",d=[];function o(e){const n={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,t.jsxs)(n.admonition,{type:"tip",children:[(0,t.jsx)("p",{children:(0,t.jsx)(n.p,{children:'Du kannst das "App Secret" auf der Anwendungsdetailseite in der Admin-Konsole finden und kopieren:'})}),(0,t.jsx)("img",{alt:"App Secret",src:s,width:"586px"})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},52950:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>s});var t=r(25105),i=r(79621);const s=[{value:"Bez\xfcglich der umleitungsbasierten Anmeldung",id:"regarding-redirect-based-sign-in",level:3}];function d(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,i.R)(),...e.components},{Details:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,t.jsxs)(r,{children:[(0,t.jsx)("summary",{children:(0,t.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Bez\xfcglich der umleitungsbasierten Anmeldung"})}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Dieser Authentifizierungsprozess folgt dem ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," Protokoll, und Logto erzwingt strenge Sicherheitsma\xdfnahmen, um die Benutzeranmeldung zu sch\xfctzen."]}),"\n",(0,t.jsx)(n.li,{children:"Wenn du mehrere Apps hast, kannst du denselben Identit\xe4tsanbieter (Logto) verwenden. Sobald sich der Benutzer bei einer App anmeldet, wird Logto den Anmeldeprozess automatisch abschlie\xdfen, wenn der Benutzer auf eine andere App zugreift."}),"\n"]}),(0,t.jsxs)(n.p,{children:["Um mehr \xfcber die Gr\xfcnde und Vorteile der umleitungsbasierten Anmeldung zu erfahren, siehe ",(0,t.jsx)(n.a,{href:"/concepts/sign-in-experience",children:"Logto-Anmeldeerfahrung erkl\xe4rt"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},51554:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>s});var t=r(25105),i=r(79621);const s=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Hier ist die Liste der unterst\xfctzten Berechtigungen (Scopes) und der entsprechenden Anspr\xfcche (Claims):"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"openid"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"sub"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Der eindeutige Identifikator des Benutzers"}),(0,t.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"profile"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"name"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Der vollst\xe4ndige Name des Benutzers"}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"username"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Der Benutzername des Benutzers"}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"picture"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"URL des Profilbildes des Endbenutzers. Diese URL MUSS auf eine Bilddatei (zum Beispiel eine PNG-, JPEG- oder GIF-Bilddatei) verweisen und nicht auf eine Webseite, die ein Bild enth\xe4lt. Beachte, dass diese URL speziell auf ein Profilfoto des Endbenutzers verweisen SOLLTE, das geeignet ist, den Endbenutzer zu beschreiben, und nicht auf ein beliebiges Foto, das vom Endbenutzer aufgenommen wurde."}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"created_at"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Zeitpunkt, zu dem der Endbenutzer erstellt wurde. Die Zeit wird als Anzahl der Millisekunden seit der Unix-Epoche (1970-01-01T00:00:00Z) dargestellt."}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"updated_at"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"number"})}),(0,t.jsx)(n.td,{children:"Zeitpunkt, zu dem die Informationen des Endbenutzers zuletzt aktualisiert wurden. Die Zeit wird als Anzahl der Millisekunden seit der Unix-Epoche (1970-01-01T00:00:00Z) dargestellt."}),(0,t.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,t.jsxs)(n.p,{children:["Andere ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"Standardanspr\xfcche"})," wie ",(0,t.jsx)(n.code,{children:"family_name"}),", ",(0,t.jsx)(n.code,{children:"given_name"}),", ",(0,t.jsx)(n.code,{children:"middle_name"}),", ",(0,t.jsx)(n.code,{children:"nickname"}),", ",(0,t.jsx)(n.code,{children:"preferred_username"}),", ",(0,t.jsx)(n.code,{children:"profile"}),", ",(0,t.jsx)(n.code,{children:"website"}),", ",(0,t.jsx)(n.code,{children:"gender"}),", ",(0,t.jsx)(n.code,{children:"birthdate"}),", ",(0,t.jsx)(n.code,{children:"zoneinfo"})," und ",(0,t.jsx)(n.code,{children:"locale"})," werden ebenfalls im ",(0,t.jsx)(n.code,{children:"profile"}),"-Scope enthalten sein, ohne dass der userinfo-Endpunkt angefordert werden muss. Ein Unterschied im Vergleich zu den oben genannten Anspr\xfcchen besteht darin, dass diese Anspr\xfcche nur zur\xfcckgegeben werden, wenn ihre Werte nicht leer sind, w\xe4hrend die oben genannten Anspr\xfcche ",(0,t.jsx)(n.code,{children:"null"})," zur\xfcckgeben, wenn die Werte leer sind."]}),"\n",(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["Im Gegensatz zu den Standardanspr\xfcchen verwenden die Anspr\xfcche ",(0,t.jsx)(n.code,{children:"created_at"})," und ",(0,t.jsx)(n.code,{children:"updated_at"})," Millisekunden anstelle von Sekunden."]})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"email"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"email"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Die E-Mail-Adresse des Benutzers"}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"email_verified"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Ob die E-Mail-Adresse verifiziert wurde"}),(0,t.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"phone"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"phone_number"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string"})}),(0,t.jsx)(n.td,{children:"Die Telefonnummer des Benutzers"}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"phone_number_verified"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"boolean"})}),(0,t.jsx)(n.td,{children:"Ob die Telefonnummer verifiziert wurde"}),(0,t.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"address"})})}),"\n",(0,t.jsxs)(n.p,{children:["Bitte siehe ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," f\xfcr die Details des Adressanspruchs."]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"custom_data"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object"})}),(0,t.jsx)(n.td,{children:"Die benutzerdefinierten Daten des Benutzers"}),(0,t.jsx)(n.td,{children:"Ja"})]})})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"identities"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"identities"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object"})}),(0,t.jsx)(n.td,{children:"Die verkn\xfcpften Identit\xe4ten des Benutzers"}),(0,t.jsx)(n.td,{children:"Ja"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"sso_identities"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"array"})}),(0,t.jsx)(n.td,{children:"Die verkn\xfcpften SSO-Identit\xe4ten des Benutzers"}),(0,t.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsxs)(n.tbody,{children:[(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organizations"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsx)(n.td,{children:"Die Organisations-IDs, denen der Benutzer angeh\xf6rt"}),(0,t.jsx)(n.td,{children:"Nein"})]}),(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organization_data"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"object[]"})}),(0,t.jsx)(n.td,{children:"Die Organisationsdaten, denen der Benutzer angeh\xf6rt"}),(0,t.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,t.jsxs)(n.table,{children:[(0,t.jsx)(n.thead,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.th,{children:"Anspruchsname"}),(0,t.jsx)(n.th,{children:"Typ"}),(0,t.jsx)(n.th,{children:"Beschreibung"}),(0,t.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,t.jsx)(n.tbody,{children:(0,t.jsxs)(n.tr,{children:[(0,t.jsx)(n.td,{children:"organization_roles"}),(0,t.jsx)(n.td,{children:(0,t.jsx)(n.code,{children:"string[]"})}),(0,t.jsxs)(n.td,{children:["Die Organisationsrollen, denen der Benutzer angeh\xf6rt, im Format ",(0,t.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,t.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsxs)(n.p,{children:['In Anbetracht der Leistung und der Datengr\xf6\xdfe bedeutet "Ben\xf6tigt userinfo?" "Ja", dass der Anspruch nicht im ID-Token angezeigt wird, sondern in der Antwort des ',(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo-Endpunkts"})," zur\xfcckgegeben wird."]})]})}function o(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},97091:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>d});var t=r(25105),i=r(79621),s=r(51554);const d=[...s.RM];function o(e){const n={a:"a",p:"p",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Logto verwendet OIDC ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"Berechtigungen und Anspr\xfcche Konventionen"}),", um die Berechtigungen und Anspr\xfcche f\xfcr das Abrufen von Benutzerinformationen aus dem ID-Token und dem OIDC ",(0,t.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"}),' zu definieren. Sowohl "Berechtigung (Scope)" als auch "Anspruch (Claim)" sind Begriffe aus den OAuth 2.0 und OpenID Connect (OIDC) Spezifikationen.']}),"\n","\n",e.configScopesCode&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{children:"Kurz gesagt, wenn du eine Berechtigung anforderst, erh\xe4ltst du die entsprechenden Anspr\xfcche in den Benutzerinformationen. Zum Beispiel, wenn du die `email` Berechtigung anforderst, erh\xe4ltst du die `email` und `email_verified` Daten des Benutzers."}),(0,t.jsx)("p",{children:"Standardm\xe4\xdfig fordert das Logto SDK immer drei Berechtigungen an: `openid`, `profile` und `offline_access`, und es gibt keine M\xf6glichkeit, diese Standardberechtigungen zu entfernen. Aber du kannst weitere Berechtigungen hinzuf\xfcgen, wenn du Logto konfigurierst:"}),e.configScopesCode]}),"\n",(0,t.jsx)(s.Ay,{})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},76102:(e,n,r)=>{r.d(n,{Ay:()=>c,Ip:()=>s,RM:()=>d});var t=r(25105),i=r(79621);const s="http://localhost:3000/",d=[];function o(e){const n={admonition:"admonition",p:"p",...(0,i.R)(),...e.components};return(0,t.jsx)(n.admonition,{type:"note",children:(0,t.jsxs)(n.p,{children:["In den folgenden Code-Snippets gehen wir davon aus, dass deine App unter ",(0,t.jsx)("code",{children:s})," l\xe4uft."]})})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},13876:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>d});var t=r(25105),i=r(79621),s=r(52950);const d=[...s.RM];function o(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Bevor wir in die Details eintauchen, hier ein kurzer \xdcberblick \xfcber die Endbenutzererfahrung. Der Anmeldeprozess kann wie folgt vereinfacht werden:"}),"\n",(0,t.jsx)(n.mermaid,{value:"graph LR\n    A(Deine App) --\x3e|1. Anmeldung aufrufen| B(Logto)\n    B --\x3e|2. Anmeldung abschlie\xdfen| A"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Deine App ruft die Anmeldemethode auf."}),"\n",(0,t.jsx)(n.li,{children:"Der Benutzer wird zur Logto-Anmeldeseite umgeleitet. Bei nativen Apps wird der Systembrowser ge\xf6ffnet."}),"\n",(0,t.jsx)(n.li,{children:"Der Benutzer meldet sich an und wird zur\xfcck zu deiner App umgeleitet (konfiguriert als die Redirect-URI)."}),"\n"]}),"\n",(0,t.jsx)(s.Ay,{}),"\n",(0,t.jsx)(n.hr,{})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},5435:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>R,contentTitle:()=>B,default:()=>N,frontMatter:()=>y,metadata:()=>t,toc:()=>D});const t=JSON.parse('{"id":"quick-starts/framework/next-auth/README","title":"Authentifizierung zu deiner Next Auth-Anwendung hinzuf\xfcgen","description":"Dieser Leitfaden zeigt dir, wie du Logto in deine Next.js-Anwendung mit Next Auth integrierst.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","sourceDirName":"quick-starts/framework/next-auth","slug":"/quick-starts/next-auth","permalink":"/de/quick-starts/next-auth","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/next-auth/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/next-auth","sidebar_label":"Next Auth","sidebar_custom_props":{"logoFilename":"next-auth.svg","description":"Authentifizierung f\xfcr Next.js."}},"sidebar":"quickStartSidebar","previous":{"title":"Next.js (App Router)","permalink":"/de/quick-starts/next-app-router"},"next":{"title":"Nuxt","permalink":"/de/quick-starts/nuxt"}}');var i=r(25105),s=r(79621),d=r(2742),o=r(3768),c=r(11043);const l=r.p+"assets/images/next-auth-redirect-uri-8aeb945fa0bdb8fab0929add43786b5c.png";var a=r(64590),u=r(7106),h=r(76102),x=r(13876);const p=[...x.RM,...h.RM,{value:"Anmelde-Redirect-URI konfigurieren",id:"configure-sign-in-redirect-uri",level:4},...a.RM,{value:"Next Auth-Anbieter einrichten",id:"set-up-next-auth-provider",level:4},...u.RM];function j(e){const n={code:"code",h4:"h4",li:"li",ol:"ol",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(x.Ay,{}),"\n",(0,i.jsx)(h.Ay,{}),"\n",(0,i.jsx)(n.h4,{id:"configure-sign-in-redirect-uri",children:"Anmelde-Redirect-URI konfigurieren"}),"\n",(0,i.jsx)(a.Ay,{figureSrc:l,redirectUri:"http://localhost:3000/api/auth/callback/logto"}),"\n",(0,i.jsx)(n.h4,{id:"set-up-next-auth-provider",children:"Next Auth-Anbieter einrichten"}),"\n",(0,i.jsx)(u.Ay,{}),"\n",(0,i.jsxs)(n.p,{children:["\xc4ndere deine API-Routen-Konfiguration von Next Auth. Wenn du den Pages Router verwendest, befindet sich die Datei in ",(0,i.jsx)(n.code,{children:"pages/api/auth/[...nextauth].js"}),", wenn du den App Router verwendest, befindet sich die Datei in ",(0,i.jsx)(n.code,{children:"app/api/auth/[...nextauth]/route.ts"}),"."]}),"\n",(0,i.jsx)(n.p,{children:"Das folgende ist ein Beispiel f\xfcr den App Router:"}),"\n",(0,i.jsxs)(c.A,{children:[(0,i.jsxs)(o.A,{value:"v5",label:"Next Auth v5",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nexport const {\n  handlers: { GET, POST },\n  signIn,\n  signOut,\n  auth,\n} = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oidc',\n      // Du kannst den Ausstellerwert von der Logto-Anwendungsdetailseite erhalten,\n      // im Feld \"Issuer endpoint\"\n      issuer: 'https://xxxx.logto.app/oidc',\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      authorization: {\n        params: { scope: 'openid offline_access profile email' },\n      },\n      profile(profile) {\n        // Du kannst hier die Zuordnung des Benutzerprofils anpassen\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Ersetze die ",(0,i.jsx)(n.code,{children:"issuer"}),' URL mit dem "Issuer endpoint" deiner Logto-Anwendung.']}),"\n",(0,i.jsxs)(n.li,{children:["Ersetze die ",(0,i.jsx)(n.code,{children:"clientId"})," und ",(0,i.jsx)(n.code,{children:"clientSecret"})," mit der ID und dem Geheimnis deiner Logto-Anwendung."]}),"\n",(0,i.jsxs)(n.li,{children:["Passe die ",(0,i.jsx)(n.code,{children:"profile"})," Funktion an, um das Benutzerprofil dem Next Auth-Benutzerobjekt zuzuordnen, die Standardzuordnung ist im Beispiel gezeigt."]}),"\n"]})]}),(0,i.jsxs)(o.A,{value:"v4",label:"Next Auth v4",children:[(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"import NextAuth from 'next-auth';\n\nconst handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      type: 'oauth',\n      // Du kannst die bekannte URL von der Logto-Anwendungsdetailseite erhalten,\n      // im Feld \"OpenID Provider configuration endpoint\"\n      wellKnown: 'https://xxxx.logto.app/oidc/.well-known/openid-configuration',\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      clientId: '<logto-app-id>',\n      clientSecret: '<logto-app-secret>',\n      client: {\n        id_token_signed_response_alg: 'ES384',\n      },\n      profile(profile) {\n        // Du kannst hier die Zuordnung des Benutzerprofils anpassen\n        return {\n          id: profile.sub,\n          name: profile.name ?? profile.username,\n          email: profile.email,\n          image: profile.picture,\n        };\n      },\n    },\n  ],\n});\n\nexport { handler as GET, handler as POST };\n"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Ersetze die ",(0,i.jsx)(n.code,{children:"wellKnown"}),' URL mit dem "OpenID Provider configuration endpoint" deiner Logto-Anwendung.']}),"\n",(0,i.jsxs)(n.li,{children:["Ersetze die ",(0,i.jsx)(n.code,{children:"clientId"})," und ",(0,i.jsx)(n.code,{children:"clientSecret"})," mit der ID und dem Geheimnis deiner Logto-Anwendung."]}),"\n",(0,i.jsxs)(n.li,{children:["Passe die ",(0,i.jsx)(n.code,{children:"profile"})," Funktion an, um das Benutzerprofil dem Next Auth-Benutzerobjekt zuzuordnen, die Standardzuordnung ist im Beispiel gezeigt."]}),"\n",(0,i.jsxs)(n.li,{children:["Denke daran, den ",(0,i.jsx)(n.code,{children:"id_token_signed_response_alg"})," auf ",(0,i.jsx)(n.code,{children:"ES384"})," zu setzen."]}),"\n"]})]})]})]})}function g(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(j,{...e})}):j(e)}function f(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In diesem Leitfaden gehen wir davon aus, dass du Next Auth in deinem Next.js-Projekt eingerichtet hast. Falls nicht, schaue dir die ",(0,i.jsx)(n.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"Next Auth Dokumentation"})," an, um loszulegen."]}),"\n"]})})}function m(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(f,{...e})}):f(e)}var b=r(97091);function A(e){const n={code:"code",pre:"pre",...(0,s.R)(),...e.components};return(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-ts",children:"const handler = NextAuth({\n  providers: [\n    {\n      id: 'logto',\n      name: 'Logto',\n      // ... other options\n      authorization: { params: { scope: 'openid offline_access profile email' } },\n      // ... other options\n    },\n  ],\n});\n"})})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(A,{...e})}):A(e)}const z=[...b.RM];function w(e){return(0,i.jsx)(b.Ay,{configScopesCode:(0,i.jsx)(v,{})})}function k(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(w,{...e})}):w()}const y={slug:"/quick-starts/next-auth",sidebar_label:"Next Auth",sidebar_custom_props:{logoFilename:"next-auth.svg",description:"Authentifizierung f\xfcr Next.js."}},B="Authentifizierung zu deiner Next Auth-Anwendung hinzuf\xfcgen",R={},D=[{value:"Voraussetzungen",id:"prerequisites",level:2},{value:"Integration",id:"integration",level:2},{value:"Next Auth-Anbieter konfigurieren",id:"config-next-auth-provider",level:3},...p,{value:"Kontrollpunkt",id:"checkpoint",level:3},{value:"Berechtigungen und Anspr\xfcche",id:"scopes-and-claims",level:2},...z,{value:"Weiterf\xfchrende Lekt\xfcre",id:"further-readings",level:2},...d.RM];function I(e){const n={a:"a",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",ul:"ul",...(0,s.R)(),...e.components},{Url:r}=n;return r||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"authentifizierung-zu-deiner-next-auth-anwendung-hinzuf\xfcgen",children:"Authentifizierung zu deiner Next Auth-Anwendung hinzuf\xfcgen"})}),"\n",(0,i.jsxs)(n.p,{children:["Dieser Leitfaden zeigt dir, wie du Logto in deine Next.js-Anwendung mit ",(0,i.jsx)(n.a,{href:"https://next-auth.js.org/",children:"Next Auth"})," integrierst."]}),"\n",(0,i.jsx)(m,{}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Voraussetzungen"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ein ",(0,i.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," Konto oder ein ",(0,i.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"selbst gehostetes Logto"}),"."]}),"\n",(0,i.jsx)(n.li,{children:"Eine Logto-Traditionelle Anwendung erstellt."}),"\n",(0,i.jsxs)(n.li,{children:["Ein Next.js-Projekt mit Next Auth, siehe die ",(0,i.jsx)(n.a,{href:"https://next-auth.js.org/getting-started/introduction",children:"Next Auth Dokumentation"}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,i.jsx)(n.h3,{id:"config-next-auth-provider",children:"Next Auth-Anbieter konfigurieren"}),"\n",(0,i.jsx)(g,{}),"\n",(0,i.jsx)(n.h3,{id:"checkpoint",children:"Kontrollpunkt"}),"\n",(0,i.jsx)(n.p,{children:"Jetzt kannst du deine Anwendung testen, um zu sehen, ob die Authentifizierung wie erwartet funktioniert."}),"\n",(0,i.jsx)(n.h2,{id:"scopes-and-claims",children:"Berechtigungen und Anspr\xfcche"}),"\n",(0,i.jsx)(k,{}),"\n",(0,i.jsx)(n.h2,{id:"further-readings",children:"Weiterf\xfchrende Lekt\xfcre"}),"\n",(0,i.jsx)(d.Ay,{}),"\n",(0,i.jsx)(r,{href:"https://blog.logto.io/next-auth-v5",children:(0,i.jsx)(n.p,{children:"Migration der Logto-Integration von NextAuth.js v4 zu v5"})})]})}function N(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(I,{...e})}):I(e)}},3768:(e,n,r)=>{r.d(n,{A:()=>d});r(58101);var t=r(13526);const i={tabItem:"tabItem_y6LR"};var s=r(25105);function d(e){let{children:n,hidden:r,className:d}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(i.tabItem,d),hidden:r,children:n})}},11043:(e,n,r)=>{r.d(n,{A:()=>z});var t=r(58101),i=r(13526),s=r(32571),d=r(55234),o=r(87394),c=r(87276),l=r(31637),a=r(16063);function u(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:n,children:r}=e;return(0,t.useMemo)((()=>{const e=n??function(e){return u(e).map((e=>{let{props:{value:n,label:r,attributes:t,default:i}}=e;return{value:n,label:r,attributes:t,default:i}}))}(r);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function x(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function p(e){let{queryString:n=!1,groupId:r}=e;const i=(0,d.W6)(),s=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,c.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(i.location.search);n.set(s,e),i.replace({...i.location,search:n.toString()})}),[s,i])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:i}=e,s=h(e),[d,c]=(0,t.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!x({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const t=r.find((e=>e.default))??r[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:s}))),[l,u]=p({queryString:r,groupId:i}),[j,g]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,s]=(0,a.Dv)(r);return[i,(0,t.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:i}),f=(()=>{const e=l??j;return x({value:e,tabValues:s})?e:null})();(0,o.A)((()=>{f&&c(f)}),[f]);return{selectedValue:d,selectValue:(0,t.useCallback)((e=>{if(!x({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),u(e),g(e)}),[u,g,s]),tabValues:s}}var g=r(27034);const f={tabList:"tabList_swUI",tabItem:"tabItem_BXZ5"};var m=r(25105);function b(e){let{className:n,block:r,selectedValue:t,selectValue:d,tabValues:o}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),a=e=>{const n=e.currentTarget,r=c.indexOf(n),i=o[r].value;i!==t&&(l(n),d(i))},u=e=>{let n=null;switch(e.key){case"Enter":a(e);break;case"ArrowRight":{const r=c.indexOf(e.currentTarget)+1;n=c[r]??c[0];break}case"ArrowLeft":{const r=c.indexOf(e.currentTarget)-1;n=c[r]??c[c.length-1];break}}n?.focus()};return(0,m.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":r},n),children:o.map((e=>{let{value:n,label:r,attributes:s}=e;return(0,m.jsx)("li",{role:"tab",tabIndex:t===n?0:-1,"aria-selected":t===n,ref:e=>c.push(e),onKeyDown:u,onClick:a,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":t===n}),children:r??n},n)}))})}function A(e){let{lazy:n,children:r,selectedValue:s}=e;const d=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=d.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,m.jsx)("div",{className:"margin-top--md",children:d.map(((e,n)=>(0,t.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=j(e);return(0,m.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,m.jsx)(b,{...n,...e}),(0,m.jsx)(A,{...n,...e})]})}function z(e){const n=(0,g.A)();return(0,m.jsx)(v,{...e,children:u(e.children)},String(n))}},79621:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>o});var t=r(58101);const i={},s=t.createContext(i);function d(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);