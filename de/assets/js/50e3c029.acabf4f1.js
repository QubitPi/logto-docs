"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[40209],{85978:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>u,default:()=>c,frontMatter:()=>d,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"developers/custom-token-claims/common-use-cases","title":"H\xe4ufige Anwendungsf\xe4lle","description":"In diesem Abschnitt werden wir einige Beispiele bereitstellen, um dir zu helfen, einige Szenarien zu verstehen, in denen benutzerdefinierte Token-Anspr\xfcche n\xfctzlich sein k\xf6nnen, und dir einige Referenzen bieten. Auf diese Weise kannst du, wenn du auf Schwierigkeiten im Zugangsmanagement st\xf6\xdft, beurteilen, ob benutzerdefinierte Token-Anspr\xfcche dir Bequemlichkeit bringen k\xf6nnen.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/developers/custom-token-claims/common-use-cases.mdx","sourceDirName":"developers/custom-token-claims","slug":"/developers/custom-token-claims/common-use-cases","permalink":"/de/developers/custom-token-claims/common-use-cases","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/developers/custom-token-claims/common-use-cases.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"common-use-cases","title":"H\xe4ufige Anwendungsf\xe4lle","sidebar_label":"H\xe4ufige Anwendungsf\xe4lle","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Benutzerdefinierte Token-Anspr\xfcche","permalink":"/de/developers/custom-token-claims/"},"next":{"title":"Erstelle ein benutzerdefiniertes Token-Claims-Skript","permalink":"/de/developers/custom-token-claims/create-script"}}');var s=t(25105),r=t(79621);const d={id:"common-use-cases",title:"H\xe4ufige Anwendungsf\xe4lle",sidebar_label:"H\xe4ufige Anwendungsf\xe4lle",sidebar_position:2},u="H\xe4ufige Anwendungsf\xe4lle",l={},a=[{value:"Attributbasierte Zugangskontrolle (ABAC) erm\xf6glichen",id:"make-attribute-based-access-control-abac-possible",level:2},{value:"Manuelles Blockieren der Token-Ausgabe",id:"manually-block-token-issuance",level:2}];function o(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"h\xe4ufige-anwendungsf\xe4lle",children:"H\xe4ufige Anwendungsf\xe4lle"})}),"\n",(0,s.jsxs)(n.p,{children:["In diesem Abschnitt werden wir einige Beispiele bereitstellen, um dir zu helfen, einige Szenarien zu verstehen, in denen ",(0,s.jsx)(n.a,{href:"/developers/custom-token-claims",children:"benutzerdefinierte Token-Anspr\xfcche"})," n\xfctzlich sein k\xf6nnen, und dir einige Referenzen bieten. Auf diese Weise kannst du, wenn du auf Schwierigkeiten im Zugangsmanagement st\xf6\xdft, beurteilen, ob benutzerdefinierte Token-Anspr\xfcche dir Bequemlichkeit bringen k\xf6nnen."]}),"\n",(0,s.jsx)(n.h2,{id:"make-attribute-based-access-control-abac-possible",children:"Attributbasierte Zugangskontrolle (ABAC) erm\xf6glichen"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://auth.wiki/abac",children:"Attributbasierte Zugangskontrolle (ABAC)"})," ist ein Zugangssteuerungsmodell, das Attribute (wie Benutzerrollen, Ressourceneigenschaften und Umweltbedingungen) verwendet, um Zugangsentscheidungen zu treffen. Es ist eine flexible und dynamische M\xf6glichkeit, den Zugang zu gesch\xfctzten Ressourcen zu verwalten."]}),"\n",(0,s.jsx)(n.p,{children:"Angenommen, du baust eine App, und die Ver\xf6ffentlichung der App ist in zwei Phasen unterteilt: \xf6ffentliche Beta und offizieller Start. Selbst nach dem offiziellen Start der App m\xf6chtest du, dass alte Benutzer, die an der \xf6ffentlichen Beta teilgenommen haben, weiterhin die kostenpflichtigen Funktionen nutzen k\xf6nnen."}),"\n",(0,s.jsxs)(n.p,{children:["Nach dem offiziellen Start der App verwendest du die ",(0,s.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"rollenbasierte Zugangskontrolle (RBAC)"})," von Logto, um den Zugang zu den kostenpflichtigen Funktionen zu steuern. Um einfach zu \xfcberpr\xfcfen, ob ein Benutzer die App bereits w\xe4hrend der \xf6ffentlichen Beta-Phase genutzt hat, kannst du die Methode ",(0,s.jsx)(n.code,{children:"getCustomJwtClaims()"})," verwenden, um einen Anspruch ",(0,s.jsx)(n.code,{children:"createdAt"})," im Token-Payload hinzuzuf\xfcgen."]}),"\n",(0,s.jsx)(n.p,{children:"Dann, bei der Zugangskontrolle in deinen gesch\xfctzten APIs, musst du Zugangstokens zulassen, die eine der folgenden Bedingungen erf\xfcllen:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Mit dem RBAC-Kontext die Berechtigung f\xfcr den Zugang zu kostenpflichtigen Ressourcen haben."}),"\n",(0,s.jsxs)(n.li,{children:["Das ",(0,s.jsx)(n.code,{children:"createdAt"})," ist fr\xfcher als das Enddatum der \xf6ffentlichen Beta-Phase."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Wenn es keine Funktion f\xfcr benutzerdefinierte Token-Anspr\xfcche g\xe4be, w\xe4re es bei der \xdcberpr\xfcfung von Berechtigungen f\xfcr ",(0,s.jsx)(n.a,{href:"/authorization/api-resources",children:"gesch\xfctzte API-Ressourcen"})," notwendig, die Logto Management API aufzurufen, um zu \xfcberpr\xfcfen, ob der Benutzer mit dem aktuellen Zugangstoken die Berechtigungen hat, die der Rolle entsprechen, die von einer bestimmten API-Ressource ben\xf6tigt wird."]}),"\n",(0,s.jsxs)(n.p,{children:["In einem \xe4hnlichen Szenario, angenommen, deine App zeigt Geburtstagsw\xfcnsche auf der Anmeldeseite an, wenn der Geburtstag des Benutzers bevorsteht. Du kannst benutzerdefinierte Token-Anspr\xfcche verwenden, um ein Geburtstagsfeld zum ",(0,s.jsx)(n.a,{href:"/user-management/personal-access-token#example-token-exchange",children:"Token-Payload"})," hinzuzuf\xfcgen, das verwendet werden kann, um zu bestimmen, ob eine bestimmte Nachricht angezeigt werden soll."]}),"\n",(0,s.jsx)(n.h2,{id:"manually-block-token-issuance",children:"Manuelles Blockieren der Token-Ausgabe"}),"\n",(0,s.jsxs)(n.p,{children:["Angenommen, Joe betreibt ein Online-Spiel und verwendet Logto als ",(0,s.jsx)(n.a,{href:"https://auth.wiki/iam",children:"Identity and Access Management (IAM)"}),"-System."]}),"\n",(0,s.jsx)(n.p,{children:"Angenommen, dieses Spiel erfordert Aufladungen, um Spielzeit zu kaufen. Joe zeichnet das Guthaben jedes Benutzers in seinem Spielservice auf und zieht kontinuierlich vom Guthaben ab, w\xe4hrend sich die Spielzeit ansammelt. Joe m\xf6chte, dass Spieler gezwungen werden, sich abzumelden, wenn ihr Kontostand ersch\xf6pft ist, um sie zum Aufladen zu ermutigen."}),"\n",(0,s.jsx)(n.p,{children:"Zu diesem Zeitpunkt kann Joe auch die von Logto bereitgestellte Funktion f\xfcr benutzerdefinierte Token-Anspr\xfcche verwenden, um dies zu erreichen:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Im Skript kann ein externer API-Aufruf ",(0,s.jsx)(n.a,{href:"/developers/custom-token-claims/create-script/#step-3-fetch-external-data",children:"externe Daten abrufen"})," verwendet werden, um das aktuelle Guthaben des Spielers von Joes Spielserver abzurufen."]}),"\n",(0,s.jsxs)(n.li,{children:["Wenn das Guthaben kleiner oder gleich 0 ist, kann die Methode ",(0,s.jsx)(n.a,{href:"/developers/custom-token-claims/create-script/#api",children:(0,s.jsx)(n.code,{children:"api.denyAccess()"})})," verwendet werden, um die Token-Ausgabe zu blockieren."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Zu diesem Zeitpunkt, da kein neues g\xfcltiges Zugangstoken erhalten werden kann, wird der Spieler gezwungen, sich aus dem Spiel abzumelden."})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(o,{...e})}):o(e)}},79621:(e,n,t)=>{t.d(n,{R:()=>d,x:()=>u});var i=t(58101);const s={},r=i.createContext(s);function d(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:d(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);