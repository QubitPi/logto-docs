"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[18916],{77120:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>d,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"logto-oss/develop-your-connector/step-by-step-guide","title":"Schritt-f\xfcr-Schritt-Anleitung zur Entwicklung eines sozialen Connectors","description":"Der schnellste Weg, um loszulegen, besteht darin, den Code eines bestehenden offiziellen Connectors zu kopieren und ihn an deine Bed\xfcrfnisse anzupassen. Nehmen wir den GitHub-Connector als Beispiel.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/step-by-step-guide.mdx","sourceDirName":"logto-oss/develop-your-connector","slug":"/logto-oss/develop-your-connector/step-by-step-guide","permalink":"/de/logto-oss/develop-your-connector/step-by-step-guide","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/logto-oss/develop-your-connector/step-by-step-guide.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"Connectors implementieren","permalink":"/de/logto-oss/develop-your-connector/implement-connectors"},"next":{"title":"Upgrade","permalink":"/de/logto-oss/upgrading-oss-version"}}');var o=t(25105),r=t(79621);const s={sidebar_position:3},d="Schritt-f\xfcr-Schritt-Anleitung zur Entwicklung eines sozialen Connectors",c={},l=[{value:"Schritt 1: Klone ein bestehendes Connector-Paket",id:"step-1-clone-an-existing-connector-package",level:2},{value:"Schritt 2: \xc4ndere die Haupteinstiegsdatei (index.ts)",id:"step-2-modify-the-main-entry-file-indexts",level:2},{value:"Schritt 3: Teste den Connector",id:"step-3-test-the-connector",level:2},{value:"Unit-Test",id:"unit-test",level:3},{value:"Lokaler Test",id:"local-test",level:3}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components},{CloudLink:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("CloudLink",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"schritt-f\xfcr-schritt-anleitung-zur-entwicklung-eines-sozialen-connectors",children:"Schritt-f\xfcr-Schritt-Anleitung zur Entwicklung eines sozialen Connectors"})}),"\n",(0,o.jsx)(n.p,{children:"Der schnellste Weg, um loszulegen, besteht darin, den Code eines bestehenden offiziellen Connectors zu kopieren und ihn an deine Bed\xfcrfnisse anzupassen. Nehmen wir den GitHub-Connector als Beispiel."}),"\n",(0,o.jsx)(n.h2,{id:"step-1-clone-an-existing-connector-package",children:"Schritt 1: Klone ein bestehendes Connector-Paket"}),"\n",(0,o.jsx)(n.p,{children:"In einem Connector-Quellordner findest du die folgenden Dateien:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"index.ts"}),": Die Haupteinstiegsdatei des Connectors."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"constant.ts"}),": Die im Connector verwendeten Konstanten."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"types.ts"}),": Die im Connector verwendeten TypeScript-Typen."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"index.test.ts"}),": Die Testf\xe4lle f\xfcr den Connector."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"mock.ts"}),": Die im Connector-Testfall verwendeten Mock-Daten."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["Neben diesen Dateien musst du auch eine ",(0,o.jsx)(n.code,{children:"README.md"}),"-Datei bereitstellen, um den Connector zu beschreiben, ein ",(0,o.jsx)(n.code,{children:"logo.svg"})," (optional ein ",(0,o.jsx)(n.code,{children:"logo-dark.svg"})," f\xfcr eine bessere Benutzererfahrung im Dunkelmodus) und eine ",(0,o.jsx)(n.code,{children:"package.json"}),"-Datei, um die npm-Paketinformationen zu definieren."]}),"\n",(0,o.jsx)(n.h2,{id:"step-2-modify-the-main-entry-file-indexts",children:"Schritt 2: \xc4ndere die Haupteinstiegsdatei (index.ts)"}),"\n",(0,o.jsxs)(n.p,{children:["In der ",(0,o.jsx)(n.code,{children:"index.ts"}),"-Datei findest du die meisten Logiken des Connectors. Es gibt typischerweise 4 Funktionen, die du implementieren musst:"]}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"getAuthorizationUri"}),": Generiere die Autorisierungs-URI f\xfcr die Drittanbieter-Social-Plattform. F\xfcr GitHub w\xe4re es: ",(0,o.jsx)(n.code,{children:"https://github.com/login/oauth/authorize?client_id={clientId}&redirect_uri={redirectUri}&state={state}"}),". Sieh dir die Entwicklerdokumentation deiner Ziel-Social-Plattform an, um die korrekte URI zu erhalten."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"authorizationCallbackHandler"}),": Sichere die zur\xfcckgegebenen Parameterwerte in der Autorisierungs-Callback-URI, extrahiere den Autorisierungs-",(0,o.jsx)(n.code,{children:"code"})," und behandle potenzielle Fehler."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"getAccessToken"}),": Tausche den Autorisierungs-",(0,o.jsx)(n.code,{children:"code"})," gegen ein Zugangstoken aus."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"getUserInfo"}),": Hole Benutzerinformationen von der Drittanbieter-Social-Plattform mit dem Zugangstoken."]}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"Die meisten anderen allgemeinen Logiken wurden im Logto-Connector-Kit ber\xfccksichtigt, was deine Arbeit erleichtern sollte."}),"\n",(0,o.jsx)(n.p,{children:"Schlie\xdflich musst du am Ende der Datei nur das Connector-Objekt exportieren, indem du die gleiche Code-Struktur wie der GitHub-Connector verwendest."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-tsx",children:"const createGithubConnector: CreateConnector<SocialConnector> = async ({ getConfig }) => {\n  return {\n    metadata: defaultMetadata,\n    type: ConnectorType.Social,\n    configGuard: githubConfigGuard,\n    getAuthorizationUri: getAuthorizationUri(getConfig),\n    getUserInfo: getUserInfo(getConfig),\n  };\n};\n"})}),"\n",(0,o.jsx)(n.h2,{id:"step-3-test-the-connector",children:"Schritt 3: Teste den Connector"}),"\n",(0,o.jsx)(n.h3,{id:"unit-test",children:"Unit-Test"}),"\n",(0,o.jsx)(n.p,{children:"Schreibe zun\xe4chst einige Unit-Testf\xe4lle und stelle sicher, dass die grundlegenden Funktionen wie erwartet funktionieren."}),"\n",(0,o.jsx)(n.h3,{id:"local-test",children:"Lokaler Test"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:["Richte Logto in deiner lokalen Umgebung ein: Logto bietet mehrere M\xf6glichkeiten, lokal zu laufen, du kannst entweder CLI, Docker oder sogar den Quellcode verwenden. Sieh dir die Dokumentationen f\xfcr ",(0,o.jsx)(n.a,{href:"/logto-oss/using-cli/install-logto/",children:"weitere Details"})," an."]}),"\n",(0,o.jsxs)(n.li,{children:["Verkn\xfcpfe deinen benutzerdefinierten Connector mit deiner Logto-Instanz: Verwende die CLI, um einen symbolischen Link deines Connectors zur Logto-Instanz zu erstellen. ",(0,o.jsx)(n.a,{href:"/logto-oss/using-cli/manage-connectors/#link-local-connectors",children:"Weitere Details"}),".","\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cd logto\nnpx @logto/cli connector link -p .\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["Nach dem Verkn\xfcpfen des Connectors solltest du ihn im ",(0,o.jsx)(n.code,{children:"<logto-root-path>/packages/core/connectors"}),"-Ordner sehen."]}),"\n",(0,o.jsx)(n.li,{children:"Starte deine Logto-Instanz neu, gehe zur Logto Admin-Konsole, du solltest ihn in der Liste der sozialen Connectors sehen."}),"\n",(0,o.jsxs)(n.li,{children:["Konfiguriere deinen Connector in ",(0,o.jsx)(t,{to:"/sign-in-experience/sign-up-and-sign-in",children:"Konsole > Anmeldeerfahrung > Anmeldung und Anmeldung"}),' > Soziale Anmeldung. Und probiere es in unserer Demo-App mit der "Live-Vorschau"-Funktion aus.']}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}},79621:(e,n,t)=>{t.d(n,{R:()=>s,x:()=>d});var i=t(58101);const o={},r=i.createContext(o);function s(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:s(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);