"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[1101],{99629:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>h,contentTitle:()=>c,default:()=>x,frontMatter:()=>a,metadata:()=>r,toc:()=>u});const r=JSON.parse('{"id":"authorization/role-based-access-control","title":"Rollenbasierte Zugangskontrolle (RBAC) (Role-based access control (RBAC))","description":"Rollenbasierte Zugangskontrolle (RBAC) (Role-based access control (RBAC)) ist ein bew\xe4hrtes Autorisierungsmodell, das reale Gesch\xe4ftsaktionen auf Rollen und Berechtigungen abbildet. Dieser Leitfaden behandelt, wie RBAC in Logto funktioniert, praktische Designmuster und Best Practices f\xfcr den Aufbau sicherer, skalierbarer SaaS-Anwendungen.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","sourceDirName":"authorization","slug":"/authorization/role-based-access-control","permalink":"/de/authorization/role-based-access-control","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/authorization/role-based-access-control.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Autorisierung (Authorization)","permalink":"/de/authorization/"},"next":{"title":"Organisationstemplate","permalink":"/de/authorization/organization-template"}}');var s=i(25105),l=i(79621),t=i(46643),d=i(1242),o=i(93855);const a={sidebar_position:1},c="Rollenbasierte Zugangskontrolle (RBAC) (Role-based access control (RBAC))",h={},u=[{value:"Was ist RBAC?",id:"what-is-rbac",level:2},{value:"API-Ressourcen",id:"api-resources",level:3},{value:"Verhalten der Standard-API-Ressource",id:"default-api-resource-behavior",level:4},{value:"RBAC in Logto",id:"rbac-in-logto",level:2},{value:"Modell 1: Globale API-Ressourcen",id:"model-1-global-api-resources",level:3},{value:"Modell 2: Organisations-(Nicht-API)-Berechtigungen",id:"model-2-organization-non-api-permissions",level:3},{value:"Modell 3: Organisationsspezifische API-Ressourcen",id:"model-3-organization-level-api-resources",level:3},{value:"Berechtigungsmodell entwerfen und implementieren",id:"design-and-implement-a-permission-model",level:2},{value:"API-Ressourcen mit Berechtigungen definieren",id:"define-api-resources-with-permissions",level:3},{value:"API-Ressourcen mit Berechtigungen in der Logto-Konsole registrieren",id:"register-api-resources-with-permissions-in-logto-console",level:4},{value:"Tipps",id:"tips",level:4},{value:"Organisationsberechtigungen definieren",id:"define-organization-permissions",level:3},{value:"Organisationsberechtigungen in der Logto-Konsole registrieren",id:"register-organization-permissions-in-logto-console",level:4},{value:"Tipps",id:"tips",level:4},{value:"Globale Rollen konfigurieren",id:"configure-global-roles",level:3},{value:"Globale Rollen in der Logto-Konsole erstellen",id:"create-global-roles-in-logto-console",level:4},{value:"Benutzer oder M2M-Apps globalen Rollen zuweisen",id:"assign-users-or-m2m-apps-to-global-roles",level:4},{value:"Standardm\xe4\xdfige globale Rollen",id:"default-global-roles",level:4},{value:"Organisationsrollen konfigurieren",id:"configure-organization-roles",level:3},{value:"Organisationsrollen in der Logto-Konsole erstellen",id:"create-organization-roles-in-logto-console",level:4},{value:"Benutzer oder M2M-Apps Organisationsrollen zuweisen",id:"assign-users-or-m2m-apps-to-organization-roles",level:4},{value:"Just-in-Time (JIT)-Bereitstellung",id:"just-in-time-jit-provisioning",level:4},{value:"Autorisierung im Backend oder API durchsetzen",id:"enforcing-authorization-in-your-backend-or-api",level:3},{value:"Logto RBAC in deine Anwendung integrieren",id:"integrate-logto-rbac-with-your-application",level:3},{value:"Erweiterte Szenarien",id:"advanced-scenarios",level:2},{value:"Best Practices &amp; h\xe4ufige Stolperfallen",id:"best-practices-common-pitfalls",level:2},{value:"FAQs",id:"faqs",level:2},{value:"Wie aktualisiere ich Rollen oder Berechtigungen in allen Organisationen?",id:"how-do-i-update-roles-or-permissions-across-all-organizations",level:3},{value:"Kann ich Rollen/Berechtigungen dynamisch \xe4ndern?",id:"can-i-change-roles-permissions-dynamically",level:3},{value:"Was passiert, wenn ich einer Rolle eine Berechtigung entziehe?",id:"what-happens-if-i-remove-a-permission-from-a-role",level:3},{value:"Wie kann ich pr\xfcfen, wer welche Rolle hat?",id:"how-can-i-audit-who-has-what-role",level:3},{value:"K\xf6nnen Rollen und Berechtigungen per API zugewiesen werden?",id:"can-roles-and-permissions-be-assigned-via-api",level:3},{value:"Weiterf\xfchrende Literatur",id:"further-reading",level:2}];function g(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...e.components},{CloudLink:i,Details:r,Url:a}=n;return i||j("CloudLink",!0),r||j("Details",!0),a||j("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"rollenbasierte-zugangskontrolle-rbac-role-based-access-control-rbac",children:"Rollenbasierte Zugangskontrolle (RBAC) (Role-based access control (RBAC))"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://auth.wiki/rbac",children:"Rollenbasierte Zugangskontrolle (RBAC) (Role-based access control (RBAC))"})," ist ein bew\xe4hrtes Autorisierungsmodell, das reale Gesch\xe4ftsaktionen auf Rollen und Berechtigungen abbildet. Dieser Leitfaden behandelt, wie RBAC in Logto funktioniert, praktische Designmuster und Best Practices f\xfcr den Aufbau sicherer, skalierbarer SaaS-Anwendungen."]}),"\n",(0,s.jsx)(n.h2,{id:"what-is-rbac",children:"Was ist RBAC?"}),"\n",(0,s.jsxs)(n.p,{children:["RBAC erm\xf6glicht es dir zu verwalten, ",(0,s.jsx)(n.strong,{children:"wer"})," in deiner Anwendung ",(0,s.jsx)(n.strong,{children:"was"})," tun darf, indem Berechtigungen zu Rollen gruppiert werden. Benutzern und Clients werden eine oder mehrere Rollen zugewiesen, die die erforderlichen Berechtigungen f\xfcr den Zugriff auf Funktionen, APIs oder Daten gew\xe4hren."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Kernkonzepte"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rolle (Role):"})," Eine benannte Menge von Berechtigungen (z. B. ",(0,s.jsx)(n.code,{children:"admin"}),", ",(0,s.jsx)(n.code,{children:"viewer"}),", ",(0,s.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Berechtigung (Permission):"})," Eine Aktion oder ein Recht (z. B. ",(0,s.jsx)(n.code,{children:"manage:members"}),", ",(0,s.jsx)(n.code,{children:"view:analytics"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Berechtigung (Scope):"})," Ein Synonym f\xfcr Berechtigung, h\xe4ufig im OAuth 2.0-Kontext verwendet."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API-Ressource (API resource):"})," Eine API, ein Endpunkt oder Dienst, auf den sich Berechtigungen beziehen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzer/Client (User/Client):"})," Die Entit\xe4t, der Rollen zugewiesen werden (Endbenutzer oder Maschine-zu-Maschine (M2M)-Apps)."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In Logto (und OAuth 2.1) ",(0,s.jsx)(n.strong,{children:"beziehen sich \u201eBerechtigungen\u201c und \u201eScopes\u201c auf dasselbe Konzept"})," und werden in dieser Dokumentation austauschbar verwendet."]})}),"\n",(0,s.jsx)(n.h3,{id:"api-resources",children:"API-Ressourcen"}),"\n",(0,s.jsxs)(n.p,{children:["Eine ",(0,s.jsx)(n.strong,{children:"API-Ressource"})," ist jeder gesch\xfctzte Endpunkt oder Dienst in deiner Anwendung \u2013 wie eine REST-API, ein GraphQL-Endpunkt oder ein anderer Backend-Dienst, der Autorisierung erfordert."]}),"\n",(0,s.jsxs)(n.p,{children:["Logto modelliert API-Ressourcen gem\xe4\xdf ",(0,s.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707",children:"RFC 8707: Resource Indicators for OAuth 2.0"}),".",(0,s.jsx)(n.br,{}),"\n","Jede API-Ressource wird eindeutig durch einen ",(0,s.jsx)(n.strong,{children:"Ressourcenindikator (resource indicator)"})," (eine URI) identifiziert, der verwendet wird, um Zugangstokens zu scopen und Zielgruppenbeschr\xe4nkungen durchzusetzen."]}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Property name"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Description"})}),(0,s.jsx)(n.th,{children:(0,s.jsx)(n.strong,{children:"Required"})})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"API Name"}),(0,s.jsx)(n.td,{children:"Ein benutzerfreundlicher Name zur Identifizierung der API-Ressource in der Konsole und in Protokollen."}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"API Identifier"}),(0,s.jsxs)(n.td,{children:["Die eindeutige ",(0,s.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Ressourcenindikator (resource indicator)"})," URI, die die API-Ressource darstellt."]}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Token expiration time"}),(0,s.jsxs)(n.td,{children:["Die Lebensdauer der ausgestellten Zugangstokens f\xfcr diese API (in Sekunden). Standard ist ",(0,s.jsx)(n.strong,{children:"3600"})," (1 Stunde)."]}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Default API"}),(0,s.jsxs)(n.td,{children:["Pro Logto-Mandant kann nur eine API-Ressource als Standard festgelegt werden. Wenn gesetzt, kann der ",(0,s.jsx)(n.code,{children:"resource"}),"-Parameter in Auth-Anfragen weggelassen werden."]}),(0,s.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Wenn eine Standard-API-Ressource festgelegt ist, verwendet Logto diese als Zielgruppe f\xfcr Tokens, wenn der ",(0,s.jsx)(n.code,{children:"resource"}),"-Parameter in Authentifizierungsanfragen weggelassen wird."]})}),"\n",(0,s.jsx)(n.h4,{id:"default-api-resource-behavior",children:"Verhalten der Standard-API-Ressource"}),"\n",(0,s.jsx)(n.p,{children:"In Logto muss jede benutzerdefinierte globale Berechtigung (Scope) mit einer API-Ressource verkn\xfcpft sein. Andernfalls wird die Berechtigung als OpenID Connect (OIDC) Scope behandelt."}),"\n",(0,s.jsxs)(n.p,{children:["Dies wirkt sich im Allgemeinen nicht auf die meisten Integrationen aus, aber wenn du mit Drittanbieter-Apps arbeitest, die ",(0,s.jsx)(n.strong,{children:"nicht"})," ",(0,s.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707"})," unterst\xfctzen, kann die anf\xe4ngliche Autorisierungsanfrage keinen ",(0,s.jsx)(n.code,{children:"resource"}),"-Parameter enthalten. In diesen F\xe4llen stellt Logto ",(0,s.jsx)(n.a,{href:"https://blog.logto.io/opaque-token-vs-jwt#use-cases-in-oidc",children:"opake Zugangstokens (opaque access tokens)"})," anstelle von JWTs aus, was die Zugangskontrolle erschweren kann."]}),"\n",(0,s.jsxs)(n.p,{children:["Um dies zu l\xf6sen, kannst du eine ",(0,s.jsx)(n.strong,{children:"Standard-API-Ressource"})," f\xfcr deinen Mandanten festlegen:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Wenn der ",(0,s.jsx)(n.code,{children:"resource"}),"-Parameter in der ",(0,s.jsx)(n.a,{href:"https://auth.wiki/authentication-request",children:"Authentifizierungsanfrage (Authentication request)"})," fehlt:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Verwendet Logto die Standard-API-Ressource als Zielgruppe f\xfcr Zugangstokens."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Wenn der ",(0,s.jsx)(n.code,{children:"openid"}),"-Scope enthalten ist:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Gibt Logto ein opakes Zugangstoken f\xfcr den ",(0,s.jsx)(n.a,{href:"https://auth.wiki/userinfo-endpoint",children:"Userinfo-Endpunkt (Userinfo endpoint)"})," aus, wenn kein ",(0,s.jsx)(n.code,{children:"resource"})," im Token-Request vorhanden ist."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsxs)(n.strong,{children:["Wenn der ",(0,s.jsx)(n.code,{children:"openid"}),"-Scope nicht enthalten ist:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Gibt Logto ein JWT-Zugangstoken f\xfcr die Standard-API-Ressource als Zielgruppe aus."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Das Festlegen einer Standard-API-Ressource sorgt f\xfcr eine reibungslosere Integration mit Apps, die RFC 8707 nicht unterst\xfctzen, w\xe4hrend sichere und standardbasierte Zugangskontrollen beibehalten werden."}),"\n",(0,s.jsx)(n.h2,{id:"rbac-in-logto",children:"RBAC in Logto"}),"\n",(0,s.jsxs)(n.p,{children:["Logto bietet flexible RBAC sowohl auf ",(0,s.jsx)(n.strong,{children:"globaler"})," als auch auf ",(0,s.jsx)(n.strong,{children:"Organisations-Ebene"}),", um Multi-Tenant-SaaS zu unterst\xfctzen:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Globale Rollen (Global roles):"})," \xdcber den gesamten Logto-Mandanten hinweg zugewiesen. Ideal f\xfcr produktweite Berechtigungen, Admins oder Superuser."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Organisationsrollen (Organization roles):"})," Innerhalb einer Organisation zugewiesen. Perfekt f\xfcr organisationsspezifischen Zugriff, wie Workspace-Admins, Projektmitglieder oder benutzerdefinierte Gruppen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API-Ressourcen (API resources):"})," Registrierte APIs und Funktionen, die Autorisierung erfordern."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Berechtigungen (Permissions / scopes):"})," Pro API-Ressource oder in der Organisationstemplate definiert.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"API-Ressourcenberechtigungen k\xf6nnen globalen oder Organisationsrollen zugewiesen werden."}),"\n",(0,s.jsx)(n.li,{children:"Organisationsberechtigungen k\xf6nnen nur Organisationsrollen zugewiesen werden."}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Je nach Bedarf deines Produkts kannst du diese RBAC-Modelle einzeln oder kombiniert verwenden."}),"\n",(0,s.jsx)(n.p,{children:"Nachfolgend drei anschauliche Beispiele mit Diagrammen:"}),"\n",(0,s.jsx)(n.h3,{id:"model-1-global-api-resources",children:"Modell 1: Globale API-Ressourcen"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Szenario"})}),"\n",(0,s.jsx)(n.p,{children:"Ein SaaS-Produkt mit APIs, die allen Benutzern unabh\xe4ngig von der Organisation gemeinsam zur Verf\xfcgung stehen.\nVerwende globale Rollen, um den Zugriff auf produktweite API-Ressourcen zu steuern."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Diagramm"})}),"\n",(0,s.jsx)("img",{src:t.A,alt:"Globale API-Ressourcen RBAC",style:{maxWidth:"100%"}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wichtige Punkte"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzer"})," und ",(0,s.jsx)(n.strong,{children:"M2M-Apps"})," erhalten globale Rollen (z. B. Store Manager, Service Agent)."]}),"\n",(0,s.jsxs)(n.li,{children:["Rollen gew\xe4hren Berechtigungen (Scopes), wie ",(0,s.jsx)(n.code,{children:"read:store"}),", ",(0,s.jsx)(n.code,{children:"order:book"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Berechtigungen sind direkt mit API-Ressourcen verkn\xfcpft (z. B. ",(0,s.jsx)(n.code,{children:"https://read.shop/stores"}),")."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wann verwenden"})}),"\n",(0,s.jsx)(n.p,{children:"Wenn der Zugriff nicht organisationsspezifisch ist oder Benutzer/Clients organisations\xfcbergreifend agieren."}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Logto unterst\xfctzt auf globaler Ebene keine Nicht-API-Berechtigungen, da dieser Bereich f\xfcr OpenID Connect (OIDC) Scopes reserviert ist."})}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["F\xfcr eine Schritt-f\xfcr-Schritt-Anleitung siehe ",(0,s.jsx)(n.a,{href:"/authorization/global-api-resources",children:"Globale API-Ressourcen sch\xfctzen"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"model-2-organization-non-api-permissions",children:"Modell 2: Organisations-(Nicht-API)-Berechtigungen"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Szenario"})}),"\n",(0,s.jsx)(n.p,{children:"Steuerung von In-App-Funktionen oder Workflows, die nicht auf API-Ebene durchgesetzt werden (wie das Sperren von UI-Features, Dashboards oder internen Tools) mithilfe von Organisationsrollen und -berechtigungen."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Diagramm"})}),"\n",(0,s.jsx)("img",{src:o.A,alt:"Organisationsberechtigungen RBAC",style:{maxWidth:"800px",width:"100%"}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wichtige Punkte"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Jede Organisation (A und B) hat eigene Zuweisungen, aber alle Organisationen teilen sich einen gemeinsamen Rollensatz, der in der ",(0,s.jsx)(n.a,{href:"/authorization/organization-template",children:"Organisationstemplate"})," definiert ist."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzer"})," und ",(0,s.jsx)(n.strong,{children:"M2M-Apps"})," k\xf6nnen in jeder Organisation unterschiedliche Rollen haben."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Organisationsrollen"})," (z. B. Admin, Mitglied) gew\xe4hren Organisationsberechtigungen wie ",(0,s.jsx)(n.code,{children:"invite:member"}),", ",(0,s.jsx)(n.code,{children:"manage:billing"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Berechtigungen werden in der UI oder Gesch\xe4ftslogik der App durchgesetzt, nicht durch das API-Gateway."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wann verwenden"})}),"\n",(0,s.jsx)(n.p,{children:"Wenn du steuern m\xf6chtest, wer innerhalb einer Organisation Funktionen sehen oder nutzen kann, ohne dass eine Durchsetzung auf API-Ebene erforderlich ist."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["F\xfcr eine Schritt-f\xfcr-Schritt-Anleitung siehe ",(0,s.jsx)(n.a,{href:"/authorization/organization-permissions",children:"Organisations-(Nicht-API)-Berechtigungen sch\xfctzen"}),"."]})}),"\n",(0,s.jsx)(n.h3,{id:"model-3-organization-level-api-resources",children:"Modell 3: Organisationsspezifische API-Ressourcen"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Szenario"})}),"\n",(0,s.jsxs)(n.p,{children:["Eine Multi-Tenant-SaaS-Plattform, bei der jede Organisation eigene Mitglieder, Daten und Rollen hat.\nVerwende ",(0,s.jsx)(n.strong,{children:"Organisationsrollen"}),", um API-Zugriff innerhalb jeder Organisation zu gew\xe4hren."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Diagramm"})}),"\n",(0,s.jsx)("img",{src:d.A,alt:"Organisationsspezifische API-Ressourcen RBAC",style:{maxWidth:"100%"}}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wichtige Punkte"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Jede Organisation (A und B) hat eigene Zuweisungen, aber alle Organisationen teilen sich einen gemeinsamen Rollensatz, der in der ",(0,s.jsx)(n.a,{href:"/authorization/organization-template",children:"Organisationstemplate"})," definiert ist."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzer"})," und ",(0,s.jsx)(n.strong,{children:"M2M-Apps"})," k\xf6nnen in jeder Organisation unterschiedliche Rollen haben."]}),"\n",(0,s.jsxs)(n.li,{children:["Berechtigungen (Scopes), wie ",(0,s.jsx)(n.code,{children:"invite:member"}),", ",(0,s.jsx)(n.code,{children:"manage:billing"}),", sind mit API-Ressourcen verkn\xfcpft."]}),"\n",(0,s.jsx)(n.li,{children:"Berechtigungen werden auf API-Ebene durchgesetzt, wenn das Zugangstoken einen Organisationskontext enth\xe4lt."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Wann verwenden"})}),"\n",(0,s.jsx)(n.p,{children:"Wenn du den API-Zugriff basierend auf dem Organisationskontext steuern musst, z. B. um Benutzern zu erlauben, die Daten ihrer eigenen Organisation zu verwalten."}),"\n",(0,s.jsx)(n.admonition,{type:"tip",children:(0,s.jsxs)(n.p,{children:["F\xfcr eine Schritt-f\xfcr-Schritt-Anleitung siehe ",(0,s.jsx)(n.a,{href:"/authorization/organization-level-api-resources",children:"Organisationsspezifische API-Ressourcen sch\xfctzen"}),"."]})}),"\n",(0,s.jsx)(n.h2,{id:"design-and-implement-a-permission-model",children:"Berechtigungsmodell entwerfen und implementieren"}),"\n",(0,s.jsx)(n.p,{children:"Je nach Architektur deines Produkts und den Bed\xfcrfnissen deiner Benutzer kannst du ein passendes RBAC-Modell aus den obigen Beispielen w\xe4hlen. Hier ist eine \xdcbersicht, die dir hilft, dein Berechtigungsmodell effektiv zu gestalten und umzusetzen:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Berechtigungsmodell"}),(0,s.jsx)(n.th,{children:"API-Ressourcen mit Berechtigungen definieren?"}),(0,s.jsx)(n.th,{children:"Organisationsberechtigungen definieren?"}),(0,s.jsx)(n.th,{children:"Globale Rollen verwenden?"}),(0,s.jsx)(n.th,{children:"Organisationsrollen verwenden?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Globale API-Ressourcen"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"n/a"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"n/a"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Organisations-(Nicht-API)-Berechtigungen"}),(0,s.jsx)(n.td,{children:"n/a"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"n/a"}),(0,s.jsx)(n.td,{children:"\u2705"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"Organisationsspezifische API-Ressourcen"}),(0,s.jsx)(n.td,{children:"\u2705"}),(0,s.jsx)(n.td,{children:"n/a"}),(0,s.jsx)(n.td,{children:"n/a"}),(0,s.jsx)(n.td,{children:"\u2705"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"define-api-resources-with-permissions",children:"API-Ressourcen mit Berechtigungen definieren"}),"\n",(0,s.jsxs)(n.p,{children:["Registriere deine APIs in der Logto-Konsole oder ",(0,s.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-resources",children:"\xfcber die Management API"}),", um die API-Ressourcen und deren Berechtigungen (Scopes) zu definieren."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"In OAuth 2.0 und OIDC wird eine \u201eAPI-Ressource\u201c technisch als Ressourcenindikator bezeichnet, eine eindeutige URI, die deine gesch\xfctzte API oder deinen Dienst identifiziert."})}),"\n",(0,s.jsx)(n.h4,{id:"register-api-resources-with-permissions-in-logto-console",children:"API-Ressourcen mit Berechtigungen in der Logto-Konsole registrieren"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/api-resources",children:"Konsole \u2192 API-Ressourcen"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"API-Ressource erstellen"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Gib an:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API-Name:"})," Menschlich lesbarer Name f\xfcr deine API."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"API-Identifier:"})," API-Ressourcenindikator (z. B. ",(0,s.jsx)(n.code,{children:"https://api.yourapp.com/org"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Im Tab ",(0,s.jsx)(n.strong,{children:"Berechtigungen"})," klicke auf ",(0,s.jsx)(n.strong,{children:"Berechtigung erstellen"}),", um Berechtigungen (Scopes) f\xfcr diese API-Ressource zu erstellen."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Im Tab ",(0,s.jsx)(n.strong,{children:"Allgemein"})," kannst du optional Folgendes festlegen:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Token-Ablaufzeit:"})," Lege fest, wie lange Zugangstokens f\xfcr diese API-Ressource g\xfcltig sind. Wir empfehlen aus Sicherheitsgr\xfcnden eine kurze Dauer (z. B. 1 Stunde)."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standard-API:"})," Lege diese API-Ressource als Standard f\xfcr Zielgruppenbeschr\xe4nkung und Token-Ausstellung fest, wenn kein ",(0,s.jsx)(n.code,{children:"resource"})," im OAuth-Request angegeben ist. Dies ist optional und kann f\xfcr Clients n\xfctzlich sein, die den ",(0,s.jsx)(n.code,{children:"resource"}),"-Parameter nicht unterst\xfctzen (z. B. einige Drittanbieter-Tools oder Plugins)."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"tips",children:"Tipps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Ordne API-Ressourcenindikatoren den tats\xe4chlichen API-Endpunkten zu, um intuitive Namen zu bieten.","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Zum Beispiel: ",(0,s.jsx)(n.code,{children:"https://api.example.com/v1/users"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Verwende klare, aktionsbasierte Namen (z. B. ",(0,s.jsx)(n.code,{children:"invite:member"}),", ",(0,s.jsx)(n.code,{children:"manage:billing"}),", ",(0,s.jsx)(n.code,{children:"view:analytics"}),").","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Alternativ bevorzugen manche ein Pr\xe4fix oder eine Gruppierung nach Funktion f\xfcr Klarheit (z. B. ",(0,s.jsx)(n.code,{children:"billing:read"}),", ",(0,s.jsx)(n.code,{children:"billing:manage"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.li,{children:"Halte Berechtigungen gesch\xe4ftsgetrieben, nicht nur technisch an Endpunkten orientiert."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"API-Ressourcenindikator"}),(0,s.jsx)(n.th,{children:"Berechtigung"}),(0,s.jsx)(n.th,{children:"Beschreibung"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://api.example.com/users"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"invite:user"})}),(0,s.jsx)(n.td,{children:"Neue Benutzer einladen"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://api.example.com/users"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"manage:user"})}),(0,s.jsx)(n.td,{children:"Benutzer aktualisieren oder l\xf6schen"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://api.example.com/billing"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"view:billing"})}),(0,s.jsx)(n.td,{children:"Rechnungsdetails anzeigen"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://api.example.com/billing"})}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"manage:billing"})}),(0,s.jsx)(n.td,{children:"Rechnungseinstellungen bearbeiten"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"define-organization-permissions",children:"Organisationsberechtigungen definieren"}),"\n",(0,s.jsxs)(n.p,{children:["Registriere Organisationsberechtigungen in der Logto-Konsole oder ",(0,s.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organization-scopes",children:"\xfcber die Management API"}),", um Berechtigungen zu definieren, die innerhalb jeder Organisation gelten. Organisationsberechtigungen werden in der ",(0,s.jsx)(n.a,{href:"/authorization/organization-template",children:"Organisationstemplate"})," definiert."]}),"\n",(0,s.jsx)(n.h4,{id:"register-organization-permissions-in-logto-console",children:"Organisationsberechtigungen in der Logto-Konsole registrieren"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/organization-template/organization-permissions",children:"Konsole \u2192 Organisationstemplate \u2192 Organisationsberechtigungen"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Organisationsberechtigung erstellen"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Gib an:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Berechtigungsname:"})," Ein klarer, aktionsbasierter Name f\xfcr die Berechtigung (z. B. ",(0,s.jsx)(n.code,{children:"invite:member"}),", ",(0,s.jsx)(n.code,{children:"manage:billing"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Beschreibung:"}),' Eine kurze Beschreibung, was die Berechtigung erlaubt (z. B. "Neue Mitglieder zur Organisation einladen").']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Berechtigung erstellen"}),", um zu speichern."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"tips",children:"Tipps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Verwende klare, aktionsbasierte Namen (z. B. ",(0,s.jsx)(n.code,{children:"invite:member"}),", ",(0,s.jsx)(n.code,{children:"manage:billing"}),")."]}),"\n",(0,s.jsx)(n.li,{children:"Halte Organisationsberechtigungen von API-Berechtigungen getrennt, um Verwirrung zu vermeiden."}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Beispiel"})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Organisationsberechtigung"}),(0,s.jsx)(n.th,{children:"Beschreibung"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"invite:member"})}),(0,s.jsx)(n.td,{children:"Neue Mitglieder zur Organisation einladen"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"manage:billing"})}),(0,s.jsx)(n.td,{children:"Rechnungseinstellungen f\xfcr die Organisation bearbeiten"})]})]})]}),"\n",(0,s.jsx)(n.h3,{id:"configure-global-roles",children:"Globale Rollen konfigurieren"}),"\n",(0,s.jsxs)(n.p,{children:["Erstelle und konfiguriere globale Rollen in der Logto-Konsole oder ",(0,s.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-roles",children:"\xfcber die Management API"}),", um Berechtigungen zu gruppieren, die f\xfcr den gesamten Logto-Mandanten gelten."]}),"\n",(0,s.jsx)(n.p,{children:"Eine globale Rolle kann eine der folgenden sein:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzerrolle:"})," Wird Endbenutzern zugewiesen und gew\xe4hrt Berechtigungen f\xfcr den Zugriff auf APIs und Funktionen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine (M2M)-Rolle:"})," Wird M2M-Apps zugewiesen und gew\xe4hrt Berechtigungen f\xfcr den Zugriff auf APIs und Funktionen, einschlie\xdflich Logto Management API."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Bitte beachte, dass diese beiden Rollentypen nach der Erstellung nicht gemischt oder aktualisiert werden k\xf6nnen. Weise Benutzer oder M2M-Apps der Rolle entsprechend ihrem Typ zu."})}),"\n",(0,s.jsx)(n.h4,{id:"create-global-roles-in-logto-console",children:"Globale Rollen in der Logto-Konsole erstellen"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/roles",children:"Konsole \u2192 Rollen"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Rolle erstellen"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Gib an:","\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollenname:"})," Ein klarer, beschreibender Name f\xfcr die Rolle (z. B. ",(0,s.jsx)(n.code,{children:"admin"}),", ",(0,s.jsx)(n.code,{children:"viewer"}),", ",(0,s.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollentyp:"})," W\xe4hle zwischen ",(0,s.jsx)(n.strong,{children:"Benutzer"})," oder ",(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine (M2M)"}),". ",(0,s.jsx)(n.strong,{children:"Nur Maschine-zu-Maschine (M2M)-Rollen k\xf6nnen mit der Logto Management API verkn\xfcpft werden."})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Beschreibung:"}),' Eine kurze Beschreibung des Zwecks der Rolle (z. B. "Admin-Rolle mit vollem Zugriff", "Viewer-Rolle f\xfcr Lesezugriff").']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Berechtigungen zuweisen:"})," W\xe4hle die Berechtigungen (Scopes) aus den verf\xfcgbaren API-Ressourcen aus, die diese Rolle haben soll. Du kannst Berechtigungen sp\xe4ter nach Bedarf aktualisieren."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Rolle erstellen"}),", um zu speichern."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"assign-users-or-m2m-apps-to-global-roles",children:"Benutzer oder M2M-Apps globalen Rollen zuweisen"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/roles",children:"Konsole \u2192 Rollen"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Klicke auf die Rolle, der du Benutzer oder M2M-Apps zuweisen m\xf6chtest."}),"\n",(0,s.jsxs)(n.li,{children:["F\xfcr ",(0,s.jsx)(n.strong,{children:"Benutzerrollen"})," klicke auf den Tab ",(0,s.jsx)(n.strong,{children:"Benutzer"}),"; f\xfcr ",(0,s.jsx)(n.strong,{children:"M2M-Rollen"})," auf den Tab ",(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine-Apps"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Benutzer zuweisen"})," oder ",(0,s.jsx)(n.strong,{children:"M2M-Apps zuweisen"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Suche nach den Benutzern oder M2M-Apps, die du dieser Rolle zuweisen m\xf6chtest."}),"\n",(0,s.jsxs)(n.li,{children:["W\xe4hle die Benutzer oder M2M-Apps aus und klicke auf ",(0,s.jsx)(n.strong,{children:"Zuweisen"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"default-global-roles",children:"Standardm\xe4\xdfige globale Rollen"}),"\n",(0,s.jsxs)(n.p,{children:["Du kannst eine oder mehrere globale Rollen als ",(0,s.jsx)(n.strong,{children:"Standardrollen"})," f\xfcr neue Benutzer festlegen. Standardrollen sind die automatisch zugewiesenen Rollen, wenn Benutzer erstellt werden, entweder durch Selbstregistrierung oder \xfcber die Management API. Du kannst diese Option im Tab \u201eAllgemein\u201c auf der Detailseite unter ",(0,s.jsx)(i,{to:"/roles",children:"Konsole > Rollen"})," aktivieren."]}),"\n",(0,s.jsx)(n.h3,{id:"configure-organization-roles",children:"Organisationsrollen konfigurieren"}),"\n",(0,s.jsxs)(n.p,{children:["Erstelle Organisationsrollen in der Logto-Konsole oder ",(0,s.jsx)(n.a,{href:"https://openapi.logto.io/group/endpoint-organization-roles",children:"\xfcber die Management API"}),", um Berechtigungen zu gruppieren, die innerhalb jeder Organisation gelten. Organisationsrollen werden in der ",(0,s.jsx)(n.a,{href:"/authorization/organization-template",children:"Organisationstemplate"})," definiert."]}),"\n",(0,s.jsx)(n.p,{children:"Eine Organisationsrolle kann eine der folgenden sein:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzerrolle:"})," Wird Endbenutzern innerhalb einer Organisation zugewiesen und gew\xe4hrt Berechtigungen f\xfcr den Zugriff auf APIs und Funktionen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine (M2M)-Rolle:"})," Wird M2M-Apps innerhalb einer Organisation zugewiesen und gew\xe4hrt Berechtigungen f\xfcr den Zugriff auf APIs und Funktionen. Diese Rolle ",(0,s.jsx)(n.strong,{children:"kann nicht"})," mit der Logto Management API verkn\xfcpft werden, da sie organisationsspezifisch ist."]}),"\n"]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsx)(n.p,{children:"Bitte beachte, dass diese beiden Rollentypen nach der Erstellung nicht gemischt oder aktualisiert werden k\xf6nnen. Weise Benutzer oder M2M-Apps der Rolle entsprechend ihrem Typ zu."})}),"\n",(0,s.jsx)(n.h4,{id:"create-organization-roles-in-logto-console",children:"Organisationsrollen in der Logto-Konsole erstellen"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/organization-template/organization-roles",children:"Konsole \u2192 Organisationstemplate \u2192 Organisationsrollen"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Organisationsrolle erstellen"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Gib an:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollenname:"})," Ein klarer, beschreibender Name f\xfcr die Rolle (z. B. ",(0,s.jsx)(n.code,{children:"admin"}),", ",(0,s.jsx)(n.code,{children:"member"}),", ",(0,s.jsx)(n.code,{children:"billing-manager"}),")."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollentyp:"})," W\xe4hle zwischen ",(0,s.jsx)(n.strong,{children:"Benutzer"})," oder ",(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine (M2M)"}),". ",(0,s.jsx)(n.strong,{children:"Nur Maschine-zu-Maschine (M2M)-Rollen k\xf6nnen mit der Logto Management API verkn\xfcpft werden."})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Beschreibung:"}),' Eine kurze Beschreibung des Zwecks der Rolle (z. B. "Admin-Rolle mit vollem Zugriff", "Mitgliedsrolle f\xfcr Basiszugriff").']}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Klicke auf ",(0,s.jsx)(n.strong,{children:"Rolle erstellen"}),", um zu speichern."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Im Modal ",(0,s.jsx)(n.strong,{children:"Berechtigungen zuweisen"})," w\xe4hle die Organisationsberechtigungen und/oder API-Ressourcenberechtigungen aus, die diese Rolle haben soll. Du kannst Berechtigungen sp\xe4ter nach Bedarf aktualisieren."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"assign-users-or-m2m-apps-to-organization-roles",children:"Benutzer oder M2M-Apps Organisationsrollen zuweisen"}),"\n",(0,s.jsx)(n.p,{children:"Da Organisationsrollen organisationsspezifisch sind, musst du Benutzer oder M2M-Apps innerhalb eines Organisationskontexts Organisationsrollen zuweisen."}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Gehe zu ",(0,s.jsx)(i,{to:"/organizations",children:"Konsole \u2192 Organisationen"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"W\xe4hle die Organisation aus, die du verwalten m\xf6chtest."}),"\n",(0,s.jsxs)(n.li,{children:["F\xfcr ",(0,s.jsx)(n.strong,{children:"Benutzerrollen"})," klicke auf den Tab ",(0,s.jsx)(n.strong,{children:"Benutzer"}),"; f\xfcr ",(0,s.jsx)(n.strong,{children:"M2M-Rollen"})," auf den Tab ",(0,s.jsx)(n.strong,{children:"Maschine-zu-Maschine-Apps"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:["Wenn der Benutzer oder die M2M-App noch kein Mitglied der Organisation ist, klicke auf ",(0,s.jsx)(n.strong,{children:"Mitglied hinzuf\xfcgen"})," oder ",(0,s.jsx)(n.strong,{children:"M2M-App hinzuf\xfcgen"}),", um sie der Organisation hinzuzuf\xfcgen. W\xe4hrend dieses Vorgangs kannst du ihnen eine oder mehrere Organisationsrollen zuweisen."]}),"\n",(0,s.jsxs)(n.li,{children:["Wenn der Benutzer oder die M2M-App bereits Mitglied ist, klicke auf das Drei-Punkte-Men\xfc neben ihrem Namen und w\xe4hle ",(0,s.jsx)(n.strong,{children:"Organisationsrollen bearbeiten"}),"."]}),"\n",(0,s.jsx)(n.li,{children:"Im ge\xf6ffneten Modal w\xe4hle und speichere die Organisationsrollen, die du dem Benutzer oder der M2M-App zuweisen m\xf6chtest."}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"just-in-time-jit-provisioning",children:"Just-in-Time (JIT)-Bereitstellung"}),"\n",(0,s.jsxs)(n.p,{children:["Du kannst Organisationsrollen auch Benutzern oder M2M-Apps zuweisen, wenn sie einer Organisation beitreten. Siehe dazu ",(0,s.jsx)(n.a,{href:"/organizations/just-in-time-provisioning",children:"Just-in-Time (JIT)-Bereitstellung"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"enforcing-authorization-in-your-backend-or-api",children:"Autorisierung im Backend oder API durchsetzen"}),"\n",(0,s.jsxs)(n.p,{children:["Logto stellt ",(0,s.jsx)(n.a,{href:"https://auth.wiki/jwt",children:"JSON Web Tokens (JWTs)"})," aus, die die notwendigen Anspr\xfcche (Claims) enthalten, um die Autorisierung in deiner Anwendung oder API durchzusetzen."]}),"\n",(0,s.jsx)(n.p,{children:"Um die Autorisierung durchzusetzen, sollte dein Backend oder deine API:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Vom Client verlangen, ein g\xfcltiges Zugangstoken im Request-Header im Format ",(0,s.jsx)(n.code,{children:"Authorization: Bearer <token>"})," zu \xfcbergeben."]}),"\n",(0,s.jsx)(n.li,{children:"Das Zugangstoken validieren, um sicherzustellen, dass es von Logto ausgestellt wurde, nicht abgelaufen ist und die erforderlichen Berechtigungen (Scopes) f\xfcr die angeforderte Aktion enth\xe4lt."}),"\n",(0,s.jsx)(n.li,{children:"Mit einem Fehler antworten (z. B. HTTP 401 Unauthorized oder HTTP 403 Forbidden), wenn das Token fehlt, ung\xfcltig ist oder nicht die erforderlichen Berechtigungen hat."}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["F\xfcr Schritt-f\xfcr-Schritt- und sprachspezifische Anleitungen siehe ",(0,s.jsx)(n.a,{href:"/authorization/validate-access-tokens",children:"Wie Zugangstokens validieren"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"integrate-logto-rbac-with-your-application",children:"Logto RBAC in deine Anwendung integrieren"}),"\n",(0,s.jsx)(n.p,{children:"Du kannst Logto RBAC auf zwei Arten in deine Anwendung integrieren:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Logto SDKs:"})," Verwende ein ",(0,s.jsx)(n.a,{href:"/quick-starts",children:"Logto SDK"})," f\xfcr integrierte Authentifizierungs- und Autorisierungsabl\xe4ufe."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Standard OAuth 2.0/OIDC-Bibliotheken:"})," Verwende deine bevorzugte OAuth 2.0- oder OpenID Connect-Bibliothek, um die erforderlichen Abl\xe4ufe zu implementieren."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["Nach der Integration fordere Zugangstokens mit den richtigen Parametern f\xfcr dein gew\xe4hltes RBAC-Modell an. F\xfcge das Zugangstoken dem ",(0,s.jsx)(n.code,{children:"Authorization"}),"-Header deiner API-Anfragen hinzu, um Berechtigungen durchzusetzen."]}),"\n",(0,s.jsx)(n.p,{children:"Siehe die Implementierungsanleitungen in den Modellabschnitten oben f\xfcr Schritt-f\xfcr-Schritt-Beispiele."}),"\n",(0,s.jsx)(n.h2,{id:"advanced-scenarios",children:"Erweiterte Szenarien"}),"\n",(0,s.jsx)(n.p,{children:"Erkunde weiterf\xfchrende RBAC-Anwendungsf\xe4lle in Logto:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Kombinieren von globalen und Organisationsrollen:"})," Weise Benutzern/Clients bei Bedarf beide zu; Logto l\xf6st dies basierend auf dem angeforderten Token-Kontext auf."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Mehrere Apps:"})," Verwende gemeinsame Ressourcen und Scopes f\xfcr organisations\xfcbergreifendes RBAC."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Dynamische Berechtigungen:"})," Kombiniere RBAC bei Bedarf mit Laufzeitpr\xfcfungen (z. B. Besitz, Attribute) f\xfcr fortgeschrittene Szenarien."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Benutzerdefinierte Token-Anspr\xfcche:"})," Verwende ",(0,s.jsx)(n.a,{href:"/developers/custom-token-claims",children:"benutzerdefinierte Anspr\xfcche"}),", um Tokens nach Bedarf anzureichern."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"best-practices-common-pitfalls",children:"Best Practices & h\xe4ufige Stolperfallen"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Prinzip der minimalen Rechtevergabe:"})," Gew\xe4hre jeder Rolle nur die Berechtigungen, die sie ben\xf6tigt."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Vermeide Berechtigungswildwuchs:"})," Halte dein Berechtigungsmodell einfach und wartbar."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Rollen/Berechtigungen regelm\xe4\xdfig \xfcberpr\xfcfen und aktualisieren:"})," \xdcberpr\xfcfe dein RBAC-Modell regelm\xe4\xdfig, w\xe4hrend sich dein Produkt weiterentwickelt."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Trennung von Aufgaben:"})," Erstelle separate Rollen f\xfcr sensible/Admin-Aktionen."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"RBAC im Staging testen:"})," \xdcberpr\xfcfe Berechtigungsgrenzen und Eskalationen."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"faqs",children:"FAQs"}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"how-do-i-update-roles-or-permissions-across-all-organizations",children:"Wie aktualisiere ich Rollen oder Berechtigungen in allen Organisationen?"})}),(0,s.jsxs)(n.p,{children:["Aktualisiere die ",(0,s.jsx)(n.a,{href:"/authorization/organization-template",children:"Organisationstemplate"})," f\xfcr globale \xc4nderungen; bestehende Organisationen k\xf6nnen Aktualisierungen \xfcbernehmen."]})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"can-i-change-roles-permissions-dynamically",children:"Kann ich Rollen/Berechtigungen dynamisch \xe4ndern?"})}),(0,s.jsx)(n.p,{children:"Ja, Rollen und deren Berechtigungen k\xf6nnen jederzeit aktualisiert werden."})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"what-happens-if-i-remove-a-permission-from-a-role",children:"Was passiert, wenn ich einer Rolle eine Berechtigung entziehe?"})}),(0,s.jsx)(n.p,{children:"Benutzer/Clients mit dieser Rolle verlieren die Berechtigung sofort f\xfcr neue Tokens."})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"how-can-i-audit-who-has-what-role",children:"Wie kann ich pr\xfcfen, wer welche Rolle hat?"})}),(0,s.jsx)(n.p,{children:"Verwende die Logto-Konsole oder API, um Rollenzuweisungen aufzulisten."})]}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"can-roles-and-permissions-be-assigned-via-api",children:"K\xf6nnen Rollen und Berechtigungen per API zugewiesen werden?"})}),(0,s.jsx)(n.p,{children:"Ja, sowohl die Konsole als auch die Management API unterst\xfctzen die programmatische Verwaltung von Rollen und Zuweisungen."})]}),"\n",(0,s.jsx)(n.h2,{id:"further-reading",children:"Weiterf\xfchrende Literatur"}),"\n",(0,s.jsx)(a,{href:"/authorization/organization-template",children:"Organisationstemplate"}),"\n",(0,s.jsx)(a,{href:"/developers/custom-token-claims",children:"Token-Anspr\xfcche anpassen"}),"\n",(0,s.jsx)(a,{href:"/authorization/validate-access-tokens",children:"Wie Zugangstokens validieren"}),"\n",(0,s.jsx)(a,{href:"/authorization/global-api-resources",children:"Globale API-Ressourcen sch\xfctzen"}),"\n",(0,s.jsx)(a,{href:"/authorization/organization-permissions",children:(0,s.jsx)(n.p,{children:"Organisations-(Nicht-API)-Berechtigungen sch\xfctzen"})}),"\n",(0,s.jsx)(a,{href:"/authorization/organization-level-api-resources",children:(0,s.jsx)(n.p,{children:"Organisationsspezifische API-Ressourcen sch\xfctzen"})})]})}function x(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}function j(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},46643:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/rbac-global-api-resources-33fafc263308d3f769c62cbcdb8d7829.png"},1242:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/rbac-organization-level-api-resources-9533c281f3ee1cf52aefe821717e1fef.png"},93855:(e,n,i)=>{i.d(n,{A:()=>r});const r=i.p+"assets/images/rbac-organization-permissions-3302be06221b4399f73ddceac8ca17e3.png"},79621:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>d});var r=i(58101);const s={},l=r.createContext(s);function t(e){const n=r.useContext(l);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),r.createElement(l.Provider,{value:n},e.children)}}}]);