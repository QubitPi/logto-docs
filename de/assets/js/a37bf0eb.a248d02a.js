"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[8303],{67725:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>i});var s=r(25105),t=r(79621);const i=[{value:"Checkpoint: Teste deine Anwendung",id:"checkpoint-test-your-application",level:3}];function d(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Checkpoint: Teste deine Anwendung"}),"\n",(0,s.jsx)(n.p,{children:"Jetzt kannst du deine Anwendung testen:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Starte deine Anwendung, du wirst den Anmeldebutton sehen."}),"\n",(0,s.jsx)(n.li,{children:"Klicke auf den Anmeldebutton, das SDK wird den Anmeldeprozess initiieren und dich zur Logto-Anmeldeseite weiterleiten."}),"\n",(0,s.jsx)(n.li,{children:"Nachdem du dich angemeldet hast, wirst du zur\xfcck zu deiner Anwendung geleitet und siehst den Abmeldebutton."}),"\n",(0,s.jsx)(n.li,{children:"Klicke auf den Abmeldebutton, um den Token-Speicher zu leeren und dich abzumelden."}),"\n"]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},99409:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>i});var s=r(25105),t=r(79621);const i=[];function d(e){const{Url:n}={...(0,t.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n,{href:"/end-user-flows",children:" Endbenutzerfl\xfcsse: Authentifizierungsfl\xfcsse, Kontofl\xfcsse und Organisationsfl\xfcsse "}),"\n",(0,s.jsx)(n,{href:"/connectors",children:" Connectors konfigurieren "}),"\n",(0,s.jsx)(n,{href:"/authorization",children:" Autorisierung (Authorization) "})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},42865:(e,n,r)=>{r.d(n,{Ay:()=>o,RM:()=>c});var s=r(25105),t=r(79621),i=r(38552),d=r(22002);const c=[];function l(e){const n={p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[e.packageName?null:(()=>{throw new Error("props.packageName is required when importing _npm_like_installation.mdx")})(),"\n",(0,s.jsx)(n.p,{children:"Installiere das Logto SDK \xfcber deinen bevorzugten Paketmanager:"}),"\n",(0,s.jsxs)(d.A,{children:[(0,s.jsx)(i.A,{value:"npm",label:"npm",children:(0,s.jsx)("pre",{children:(0,s.jsxs)("code",{className:"language-bash",children:["npm i ",e.packageName]})})}),(0,s.jsx)(i.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)("pre",{children:(0,s.jsxs)("code",{className:"language-bash",children:["pnpm add ",e.packageName]})})}),(0,s.jsx)(i.A,{value:"yarn",label:"yarn",children:(0,s.jsx)("pre",{children:(0,s.jsxs)("code",{className:"language-bash",children:["yarn add ",e.packageName]})})})]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},88423:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>i});var s=r(25105),t=r(79621);const i=[{value:"Bez\xfcglich der umleitungsbasierten Anmeldung",id:"regarding-redirect-based-sign-in",level:3}];function d(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...e.components},{Details:r,MainSiteUrl:i}=n;return r||l("Details",!0),i||l("MainSiteUrl",!0),(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:(0,s.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Bez\xfcglich der umleitungsbasierten Anmeldung"})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["Dieser Authentifizierungsprozess folgt dem ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," Protokoll, und Logto erzwingt strenge Sicherheitsma\xdfnahmen, um die Benutzeranmeldung zu sch\xfctzen."]}),"\n",(0,s.jsx)(n.li,{children:"Wenn du mehrere Apps hast, kannst du denselben Identit\xe4tsanbieter (Logto) verwenden. Sobald sich der Benutzer bei einer App anmeldet, wird Logto den Anmeldeprozess automatisch abschlie\xdfen, wenn der Benutzer auf eine andere App zugreift."}),"\n"]}),(0,s.jsxs)(n.p,{children:["Um mehr \xfcber die Gr\xfcnde und Vorteile der umleitungsbasierten Anmeldung zu erfahren, siehe ",(0,s.jsx)(i,{href:"/concepts/sign-in-experience",children:"Logto-Anmeldeerfahrung erkl\xe4rt"}),"."]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}function l(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},49993:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>i});var s=r(25105),t=r(79621);const i=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Hier ist die Liste der unterst\xfctzten Berechtigungen (Scopes) und der entsprechenden Anspr\xfcche (Claims):"}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"openid"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sub"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Der eindeutige Identifikator des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"profile"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"name"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Der vollst\xe4ndige Name des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"username"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Der Benutzername des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"picture"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"URL des Profilbildes des Endbenutzers. Diese URL MUSS auf eine Bilddatei (zum Beispiel eine PNG-, JPEG- oder GIF-Bilddatei) verweisen, anstatt auf eine Webseite, die ein Bild enth\xe4lt. Beachte, dass diese URL speziell auf ein Profilfoto des Endbenutzers verweisen SOLLTE, das geeignet ist, den Endbenutzer zu beschreiben, anstatt auf ein beliebiges vom Endbenutzer aufgenommenes Foto."}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"created_at"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"Zeitpunkt, zu dem der Endbenutzer erstellt wurde. Die Zeit wird als Anzahl der Millisekunden seit dem Unix-Epoch (1970-01-01T00:00:00Z) dargestellt."}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"updated_at"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"number"})}),(0,s.jsx)(n.td,{children:"Zeitpunkt, zu dem die Informationen des Endbenutzers zuletzt aktualisiert wurden. Die Zeit wird als Anzahl der Millisekunden seit dem Unix-Epoch (1970-01-01T00:00:00Z) dargestellt."}),(0,s.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Andere ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"Standardanspr\xfcche"})," wie ",(0,s.jsx)(n.code,{children:"family_name"}),", ",(0,s.jsx)(n.code,{children:"given_name"}),", ",(0,s.jsx)(n.code,{children:"middle_name"}),", ",(0,s.jsx)(n.code,{children:"nickname"}),", ",(0,s.jsx)(n.code,{children:"preferred_username"}),", ",(0,s.jsx)(n.code,{children:"profile"}),", ",(0,s.jsx)(n.code,{children:"website"}),", ",(0,s.jsx)(n.code,{children:"gender"}),", ",(0,s.jsx)(n.code,{children:"birthdate"}),", ",(0,s.jsx)(n.code,{children:"zoneinfo"})," und ",(0,s.jsx)(n.code,{children:"locale"})," werden ebenfalls im ",(0,s.jsx)(n.code,{children:"profile"}),"-Scope enthalten sein, ohne dass der userinfo-Endpunkt angefordert werden muss. Ein Unterschied im Vergleich zu den obigen Anspr\xfcchen besteht darin, dass diese Anspr\xfcche nur zur\xfcckgegeben werden, wenn ihre Werte nicht leer sind, w\xe4hrend die obigen Anspr\xfcche ",(0,s.jsx)(n.code,{children:"null"})," zur\xfcckgeben, wenn die Werte leer sind."]}),"\n",(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["Im Gegensatz zu den Standardanspr\xfcchen verwenden die Anspr\xfcche ",(0,s.jsx)(n.code,{children:"created_at"})," und ",(0,s.jsx)(n.code,{children:"updated_at"})," Millisekunden anstelle von Sekunden."]})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"email"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"email"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Die E-Mail-Adresse des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"email_verified"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"Ob die E-Mail-Adresse verifiziert wurde"}),(0,s.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"phone"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"phone_number"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string"})}),(0,s.jsx)(n.td,{children:"Die Telefonnummer des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"phone_number_verified"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"boolean"})}),(0,s.jsx)(n.td,{children:"Ob die Telefonnummer verifiziert wurde"}),(0,s.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"address"})})}),"\n",(0,s.jsxs)(n.p,{children:["Bitte siehe ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," f\xfcr die Details des Adressanspruchs."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"custom_data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"object"})}),(0,s.jsx)(n.td,{children:"Die benutzerdefinierten Daten des Benutzers"}),(0,s.jsx)(n.td,{children:"Ja"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"identities"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"identities"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"object"})}),(0,s.jsx)(n.td,{children:"Die verkn\xfcpften Identit\xe4ten des Benutzers"}),(0,s.jsx)(n.td,{children:"Ja"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"sso_identities"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"array"})}),(0,s.jsx)(n.td,{children:"Die verkn\xfcpften SSO-Identit\xe4ten des Benutzers"}),(0,s.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"roles"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"roles"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string[]"})}),(0,s.jsx)(n.td,{children:"Die Rollen des Benutzers"}),(0,s.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"organizations"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string[]"})}),(0,s.jsx)(n.td,{children:"Die Organisations-IDs, denen der Benutzer angeh\xf6rt"}),(0,s.jsx)(n.td,{children:"Nein"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"organization_data"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"object[]"})}),(0,s.jsx)(n.td,{children:"Die Organisationsdaten, denen der Benutzer angeh\xf6rt"}),(0,s.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:(0,s.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Anspruchsname"}),(0,s.jsx)(n.th,{children:"Typ"}),(0,s.jsx)(n.th,{children:"Beschreibung"}),(0,s.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,s.jsx)(n.tbody,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:"organization_roles"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"string[]"})}),(0,s.jsxs)(n.td,{children:["Die Organisationsrollen, denen der Benutzer angeh\xf6rt, im Format ",(0,s.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,s.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsxs)(n.p,{children:['In Anbetracht der Leistung und der Datengr\xf6\xdfe bedeutet "Ben\xf6tigt userinfo?" "Ja", dass der Anspruch nicht im ID-Token angezeigt wird, sondern in der Antwort des ',(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo-Endpunkts"})," zur\xfcckgegeben wird."]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},68612:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>d});var s=r(25105),t=r(79621),i=r(49993);const d=[...i.RM];function c(e){const n={a:"a",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(n.p,{children:["Logto verwendet OIDC ",(0,s.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"Berechtigungen und Anspr\xfcche Konventionen"}),", um die Berechtigungen und Anspr\xfcche f\xfcr das Abrufen von Benutzerinformationen aus dem ID-Token und dem OIDC ",(0,s.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"}),' zu definieren. Sowohl "Berechtigung (Scope)" als auch "Anspruch (Claim)" sind Begriffe aus den OAuth 2.0 und OpenID Connect (OIDC) Spezifikationen.']}),"\n","\n",e.configScopesCode&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{children:"Kurz gesagt, wenn du eine Berechtigung anforderst, erh\xe4ltst du die entsprechenden Anspr\xfcche in den Benutzerinformationen. Zum Beispiel, wenn du die `email` Berechtigung anforderst, erh\xe4ltst du die `email` und `email_verified` Daten des Benutzers."}),(0,s.jsx)("p",{children:"Standardm\xe4\xdfig fordert das Logto SDK immer drei Berechtigungen an: `openid`, `profile` und `offline_access`, und es gibt keine M\xf6glichkeit, diese Standardberechtigungen zu entfernen. Aber du kannst weitere Berechtigungen hinzuf\xfcgen, wenn du Logto konfigurierst:"}),e.configScopesCode]}),"\n",(0,s.jsx)(i.Ay,{})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},95343:(e,n,r)=>{r.d(n,{Ay:()=>l,Ip:()=>i,RM:()=>d});var s=r(25105),t=r(79621);const i="http://localhost:3000/",d=[];function c(e){const n={admonition:"admonition",p:"p",...(0,t.R)(),...e.components};return(0,s.jsx)(n.admonition,{type:"note",children:(0,s.jsxs)(n.p,{children:["In den folgenden Code-Snippets gehen wir davon aus, dass deine App unter ",(0,s.jsx)("code",{children:i})," l\xe4uft."]})})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},61221:(e,n,r)=>{r.d(n,{Ay:()=>o,Ip:()=>i,RM:()=>c,YF:()=>d});var s=r(25105),t=r(79621);const i="http://localhost:3000/",d=`${i}callback`,c=[{value:"Redirect-URIs konfigurieren",id:"configure-redirect-uris",level:4}];function l(e){const n={h4:"h4",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:["\n","\n",(0,s.jsx)(n.h4,{id:"configure-redirect-uris",children:"Redirect-URIs konfigurieren"}),"\n",(0,s.jsxs)(n.p,{children:["Wechsle zur Anwendungsdetailseite der Logto-Konsole. F\xfcge eine Redirect-URI ",(0,s.jsx)("code",{children:e.redirectUri??"http://localhost:3000/callback"})," hinzu."]}),"\n",(0,s.jsx)("img",{alt:"Redirect-URI in der Logto-Konsole",src:"/img/assets/web-redirect-uri.png",width:"600px"}),"\n",(0,s.jsxs)(n.p,{children:["Genau wie beim Anmelden sollten Benutzer zu Logto weitergeleitet werden, um sich von der gemeinsamen Sitzung abzumelden. Sobald dies abgeschlossen ist, w\xe4re es ideal, den Benutzer zur\xfcck zu deiner Website zu leiten. F\xfcge zum Beispiel ",(0,s.jsx)("code",{children:i})," als Redirect-URI nach dem Abmelden hinzu."]}),"\n",(0,s.jsx)(n.p,{children:'Klicke dann auf "Speichern", um die \xc4nderungen zu speichern.'})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},71725:(e,n,r)=>{r.d(n,{Ay:()=>l,RM:()=>d});var s=r(25105),t=r(79621),i=r(88423);const d=[...i.RM];function c(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Bevor wir in die Details eintauchen, hier ein kurzer \xdcberblick \xfcber die Endbenutzererfahrung. Der Anmeldeprozess kann wie folgt vereinfacht werden:"}),"\n",(0,s.jsx)(n.mermaid,{value:"graph LR\n    A(Deine App) --\x3e|1. Anmeldung aufrufen| B(Logto)\n    B --\x3e|2. Anmeldung abschlie\xdfen| A"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Deine App ruft die Anmeldemethode auf."}),"\n",(0,s.jsx)(n.li,{children:"Der Benutzer wird zur Logto-Anmeldeseite umgeleitet. Bei nativen Apps wird der Systembrowser ge\xf6ffnet."}),"\n",(0,s.jsx)(n.li,{children:"Der Benutzer meldet sich an und wird zur\xfcck zu deiner App umgeleitet (konfiguriert als die Redirect-URI)."}),"\n"]}),"\n",(0,s.jsx)(i.Ay,{}),"\n",(0,s.jsx)(n.hr,{})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},78203:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>B,contentTitle:()=>I,default:()=>_,frontMatter:()=>R,metadata:()=>s,toc:()=>D});const s=JSON.parse('{"id":"quick-starts/framework/passport/README","title":"Authentifizierung zu deiner Passport.js-Anwendung hinzuf\xfcgen","description":"Dieser Leitfaden zeigt dir, wie du Logto in deine Anwendung mit Passport.js und OIDC-Strategie integrierst.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/passport/README.mdx","sourceDirName":"quick-starts/framework/passport","slug":"/quick-starts/passport","permalink":"/de/quick-starts/passport","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/passport/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/passport","sidebar_label":"Passport.js","sidebar_custom_props":{"logoFilename":"passport.svg","darkLogoFilename":"passport-dark.svg","description":"Passport ist Authentifizierungs-Middleware f\xfcr Node.js."}},"sidebar":"quickStartSidebar","previous":{"title":"Nuxt","permalink":"/de/quick-starts/nuxt"},"next":{"title":"PHP","permalink":"/de/quick-starts/php"}}');var t=r(25105),i=r(79621),d=r(99409);function c(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["In diesem Leitfaden gehen wir davon aus, dass du Express mit Session in deinem Projekt eingerichtet hast. Falls nicht, schaue dir die ",(0,t.jsx)(n.a,{href:"https://expressjs.com/",children:"Express.js-Website"})," an, um loszulegen."]}),"\n"]})})}function l(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}var o=r(42865);const a=[...o.RM];function h(e){return(0,t.jsx)(o.Ay,{packageName:"passport passport-openidconnect"})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(h,{...e})}):h()}var p=r(67725),x=r(95343),j=r(61221),g=r(71725);const m=[{value:"Passport.js mit OIDC-Strategie initialisieren",id:"initialize-passportjs-with-oidc-strategy",level:3},{value:"Redirect-URIs konfigurieren",id:"configure-redirect-uris",level:3},...g.RM,...x.RM,...j.RM,{value:"Anmeldung und Abmeldung implementieren",id:"implement-sign-in-and-sign-out",level:3},...p.RM];function f(e){const n={code:"code",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h3,{id:"initialize-passportjs-with-oidc-strategy",children:"Passport.js mit OIDC-Strategie initialisieren"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="passport.ts"',children:"import passport from 'passport';\nimport OpenIDConnectStrategy, { type Profile, type VerifyCallback } from 'passport-openidconnect';\n\nconst endpoint = '<your-logto-endpoint>';\nconst appId = '<your-application-id>';\nconst appSecret = '<your-application-secret>';\n\nexport default function initPassport() {\n  passport.use(\n    new OpenIDConnectStrategy(\n      {\n        issuer: `${endpoint}/oidc`,\n        authorizationURL: `${endpoint}/oidc/auth`,\n        tokenURL: `${endpoint}/oidc/token`,\n        userInfoURL: `${endpoint}/oidc/me`,\n        clientID: appId,\n        clientSecret: appSecret,\n        callbackURL: '/callback',\n        scope: ['profile', 'offline_access'],\n      },\n      (issuer: string, profile: Profile, callback: VerifyCallback) => {\n        callback(null, profile);\n      }\n    )\n  );\n\n  passport.serializeUser((user, callback) => {\n    callback(null, user);\n  });\n\n  passport.deserializeUser(function (user, callback) {\n    callback(null, user as Express.User);\n  });\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Dieser Code initialisiert Passport mit der ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"OpenIDConnectStrategy"})}),". Die Methoden serialize und deserialize sind zu Demonstrationszwecken gesetzt."]}),"\n",(0,t.jsx)(n.p,{children:"Stelle sicher, dass du das Passport-Middleware in deiner Anwendung initialisierst und anh\xe4ngst:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"import initPassport from './passport';\n\n// ... anderer Code\ninitPassport();\n// ... anderer Code\napp.use(passport.authenticate('session'));\n// ... anderer Code\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configure-redirect-uris",children:"Redirect-URIs konfigurieren"}),"\n",(0,t.jsx)(g.Ay,{}),"\n",(0,t.jsx)(x.Ay,{}),"\n",(0,t.jsx)(j.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"implement-sign-in-and-sign-out",children:"Anmeldung und Abmeldung implementieren"}),"\n",(0,t.jsx)(n.p,{children:"Wir werden nun spezifische Routen f\xfcr Authentifizierungsprozesse erstellen:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"app.get('/sign-in', passport.authenticate('openidconnect'));\napp.get(\n  '/callback',\n  passport.authenticate('openidconnect', {\n    successReturnToOrRedirect: '/',\n  })\n);\napp.get('/sign-out', (request, response, next) => {\n  request.logout((error) => {\n    if (error) {\n      next(error);\n      return;\n    }\n    response.redirect(`${endpoint}/oidc/session/end?client_id=${appId}`);\n  });\n});\n"})}),"\n",(0,t.jsx)(n.p,{children:"Dann zur Startseite hinzuf\xfcgen"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-tsx",metastring:'title="your-app-entry.ts"',children:"app.get('/', (request: Request, response) => {\n  const { user } = request;\n  response.setHeader('content-type', 'text/html');\n\n  if (user) {\n    response.end(\n      `<h1>Hello Logto</h1><p>Angemeldet als ${JSON.stringify(\n        user\n      )}, <a href=\"/sign-out\">Abmelden</a></p>`\n    );\n  } else {\n    response.end(`<h1>Hello Logto</h1><p><a href=\"/sign-in\">Anmelden</a></p>`);\n  }\n});\n"})}),"\n",(0,t.jsx)(p.Ay,{})]})}function b(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(f,{...e})}):f(e)}var z=r(68612);function A(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",children:"export default function initPassport() {\n  passport.use(\n    new OpenIDConnectStrategy(\n      {\n        // ... other options\n        clientID: appId,\n        clientSecret: appSecret,\n        callbackURL: '/callback',\n        // highlight-start\n        scope: ['openid', 'offline_access', 'profile', 'email'],\n        // highlight-end\n      }\n      // ... other options\n    )\n  );\n  // ... other options\n}\n"})})}function w(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(A,{...e})}):A(e)}const k=[...z.RM];function v(e){return(0,t.jsx)(z.Ay,{configScopesCode:(0,t.jsx)(w,{})})}function y(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(v,{...e})}):v()}const R={slug:"/quick-starts/passport",sidebar_label:"Passport.js",sidebar_custom_props:{logoFilename:"passport.svg",darkLogoFilename:"passport-dark.svg",description:"Passport ist Authentifizierungs-Middleware f\xfcr Node.js."}},I="Authentifizierung zu deiner Passport.js-Anwendung hinzuf\xfcgen",B={},D=[{value:"Voraussetzungen",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},...a,{value:"Integration",id:"integration",level:2},...m,{value:"Berechtigungen und Anspr\xfcche",id:"scopes-and-claims",level:2},...k,{value:"Weiterf\xfchrende Lekt\xfcre",id:"further-readings",level:2},...d.RM];function S(e){const n={a:"a",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"authentifizierung-zu-deiner-passportjs-anwendung-hinzuf\xfcgen",children:"Authentifizierung zu deiner Passport.js-Anwendung hinzuf\xfcgen"})}),"\n",(0,t.jsxs)(n.p,{children:["Dieser Leitfaden zeigt dir, wie du Logto in deine Anwendung mit ",(0,t.jsx)(n.a,{href:"https://www.passportjs.org/",children:"Passport.js"})," und OIDC-Strategie integrierst."]}),"\n",(0,t.jsx)(l,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Voraussetzungen"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ein ",(0,t.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," Konto oder ein ",(0,t.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"selbst gehostetes Logto"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Eine Logto-Traditionelle Anwendung erstellt."}),"\n",(0,t.jsxs)(n.li,{children:["Ein Express-Projekt mit konfigurierter Sitzung. Sieh dir die ",(0,t.jsx)(n.a,{href:"https://expressjs.com/",children:"Express.js-Website"})," an."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(u,{}),"\n",(0,t.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,t.jsx)(b,{}),"\n",(0,t.jsx)(n.h2,{id:"scopes-and-claims",children:"Berechtigungen und Anspr\xfcche"}),"\n",(0,t.jsx)(y,{}),"\n",(0,t.jsx)(n.h2,{id:"further-readings",children:"Weiterf\xfchrende Lekt\xfcre"}),"\n",(0,t.jsx)(d.Ay,{})]})}function _(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(S,{...e})}):S(e)}},38552:(e,n,r)=>{r.d(n,{A:()=>d});r(58101);var s=r(13526);const t={tabItem:"tabItem_dgSZ"};var i=r(25105);function d(e){let{children:n,hidden:r,className:d}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,s.A)(t.tabItem,d),hidden:r,children:n})}},22002:(e,n,r)=>{r.d(n,{A:()=>w});var s=r(58101),t=r(13526),i=r(60755),d=r(55234),c=r(6635),l=r(4100),o=r(35661),a=r(42752);function h(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:s,default:t}}=e;return{value:n,label:r,attributes:s,default:t}}))}(r);return function(e){const n=(0,o.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function x(e){let{queryString:n=!1,groupId:r}=e;const t=(0,d.W6)(),i=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,l.aZ)(i),(0,s.useCallback)((e=>{if(!i)return;const n=new URLSearchParams(t.location.search);n.set(i,e),t.replace({...t.location,search:n.toString()})}),[i,t])]}function j(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,i=u(e),[d,l]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=r.find((e=>e.default))??r[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:i}))),[o,h]=x({queryString:r,groupId:t}),[j,g]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,i]=(0,a.Dv)(r);return[t,(0,s.useCallback)((e=>{r&&i.set(e)}),[r,i])]}({groupId:t}),m=(()=>{const e=o??j;return p({value:e,tabValues:i})?e:null})();(0,c.A)((()=>{m&&l(m)}),[m]);return{selectedValue:d,selectValue:(0,s.useCallback)((e=>{if(!p({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),h(e),g(e)}),[h,g,i]),tabValues:i}}var g=r(21929);const m={tabList:"tabList_osvQ",tabItem:"tabItem_dc4O"};var f=r(25105);function b(e){let{className:n,block:r,selectedValue:s,selectValue:d,tabValues:c}=e;const l=[],{blockElementScrollPositionUntilNextRender:o}=(0,i.a_)(),a=e=>{const n=e.currentTarget,r=l.indexOf(n),t=c[r].value;t!==s&&(o(n),d(t))},h=e=>{let n=null;switch(e.key){case"Enter":a(e);break;case"ArrowRight":{const r=l.indexOf(e.currentTarget)+1;n=l[r]??l[0];break}case"ArrowLeft":{const r=l.indexOf(e.currentTarget)-1;n=l[r]??l[l.length-1];break}}n?.focus()};return(0,f.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},n),children:c.map((e=>{let{value:n,label:r,attributes:i}=e;return(0,f.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>{l.push(e)},onKeyDown:h,onClick:a,...i,className:(0,t.A)("tabs__item",m.tabItem,i?.className,{"tabs__item--active":s===n}),children:r??n},n)}))})}function z(e){let{lazy:n,children:r,selectedValue:i}=e;const d=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=d.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,f.jsx)("div",{className:"margin-top--md",children:d.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function A(e){const n=j(e);return(0,f.jsxs)("div",{className:(0,t.A)("tabs-container",m.tabList),children:[(0,f.jsx)(b,{...n,...e}),(0,f.jsx)(z,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,f.jsx)(A,{...e,children:h(e.children)},String(n))}},79621:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>c});var s=r(58101);const t={},i=s.createContext(t);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);