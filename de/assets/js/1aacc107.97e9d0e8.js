"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[51710],{62783:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={a:"a",p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(n.p,{children:["Wir empfehlen, zuerst ",(0,r.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"\ud83d\udd10 Rollenbasierte Zugangskontrolle (RBAC)"})," zu lesen, um die grundlegenden Konzepte von Logto RBAC zu verstehen und wie man API-Ressourcen richtig einrichtet."]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},33350:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[{value:"Checkpoint: Teste deine Anwendung",id:"checkpoint-test-your-application",level:3}];function d(e){const n={h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"checkpoint-test-your-application",children:"Checkpoint: Teste deine Anwendung"}),"\n",(0,r.jsx)(n.p,{children:"Jetzt kannst du deine Anwendung testen:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Starte deine Anwendung, du wirst den Anmeldebutton sehen."}),"\n",(0,r.jsx)(n.li,{children:"Klicke auf den Anmeldebutton, das SDK wird den Anmeldeprozess initiieren und dich zur Logto-Anmeldeseite weiterleiten."}),"\n",(0,r.jsx)(n.li,{children:"Nachdem du dich angemeldet hast, wirst du zur\xfcck zu deiner Anwendung geleitet und siehst den Abmeldebutton."}),"\n",(0,r.jsx)(n.li,{children:"Klicke auf den Abmeldebutton, um den lokalen Speicher zu leeren und dich abzumelden."}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},41619:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Sobald du die API-Ressourcen eingerichtet hast, kannst du sie bei der Konfiguration von Logto in deiner App hinzuf\xfcgen:"}),"\n",e.configResourcesCode,"\n",(0,r.jsx)(n.p,{children:"Jede API-Ressource hat ihre eigenen Berechtigungen (Berechtigungen)."}),"\n",(0,r.jsxs)(n.p,{children:["Zum Beispiel hat die Ressource ",(0,r.jsx)(n.code,{children:"https://shopping.your-app.com/api"})," die Berechtigungen ",(0,r.jsx)(n.code,{children:"shopping:read"})," und ",(0,r.jsx)(n.code,{children:"shopping:write"}),", und die Ressource ",(0,r.jsx)(n.code,{children:"https://store.your-app.com/api"})," hat die Berechtigungen ",(0,r.jsx)(n.code,{children:"store:read"})," und ",(0,r.jsx)(n.code,{children:"store:write"}),"."]}),"\n",(0,r.jsx)(n.p,{children:"Um diese Berechtigungen anzufordern, kannst du sie bei der Konfiguration von Logto in deiner App hinzuf\xfcgen:"}),"\n",e.configResourcesWithScopesCode,"\n",(0,r.jsxs)(n.p,{children:["Du wirst bemerken, dass Berechtigungen separat von API-Ressourcen definiert sind. Dies liegt daran, dass ",(0,r.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Resource Indicators for OAuth 2.0"})," spezifiziert, dass die endg\xfcltigen Berechtigungen f\xfcr die Anfrage das kartesische Produkt aller Berechtigungen bei allen Zielservices sein werden."]}),"\n",e.configResourcesWithSharedScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("p",{children:["Somit k\xf6nnen im obigen Fall die Berechtigungen aus der Definition in Logto vereinfacht werden, beide API-Ressourcen k\xf6nnen ",(0,r.jsx)("code",{children:"read"})," und ",(0,r.jsx)("code",{children:"write"})," Berechtigungen ohne Pr\xe4fix haben. Dann, in der Logto-Konfiguration:"]}),e.configResourcesWithSharedScopesCode,(0,r.jsxs)("p",{children:["F\xfcr jede API-Ressource wird sowohl ",(0,r.jsx)("code",{children:"read"})," als auch ",(0,r.jsx)("code",{children:"write"})," Berechtigungen angefordert."]})]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Es ist in Ordnung, Berechtigungen anzufordern, die in den API-Ressourcen nicht definiert sind. Zum Beispiel kannst du die Berechtigung ",(0,r.jsx)(n.code,{children:"email"})," anfordern, auch wenn die API-Ressourcen die Berechtigung ",(0,r.jsx)(n.code,{children:"email"})," nicht verf\xfcgbar haben. Nicht verf\xfcgbare Berechtigungen werden sicher ignoriert."]})}),"\n",(0,r.jsx)(n.p,{children:"Nach der erfolgreichen Anmeldung wird Logto die entsprechenden Berechtigungen an API-Ressourcen gem\xe4\xdf den Rollen des Benutzers ausstellen."})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},95585:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(n.p,{children:["M\xf6glicherweise fehlen einige Benutzerinformationen im zur\xfcckgegebenen Objekt von ",(0,r.jsx)("code",{children:e.method}),". Dies liegt daran, dass OAuth 2.0 und OpenID Connect (OIDC) so konzipiert sind, dass sie dem Prinzip der minimalen Rechte (PoLP) folgen, und Logto auf diesen Standards basiert."]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},2742:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const{Url:n}={...(0,t.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n,{href:"/end-user-flows",children:" Endbenutzerfl\xfcsse: Authentifizierungsfl\xfcsse, Kontofl\xfcsse und Organisationsfl\xfcsse "}),"\n",(0,r.jsx)(n,{href:"/connectors",children:" Connectors konfigurieren "}),"\n",(0,r.jsx)(n,{href:"/authorization/api-resources/protect-your-api",children:" Sch\xfctze deine API "})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},52950:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[{value:"Bez\xfcglich der umleitungsbasierten Anmeldung",id:"regarding-redirect-based-sign-in",level:3}];function d(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...e.components},{Details:i}=n;return i||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(i,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"Bez\xfcglich der umleitungsbasierten Anmeldung"})}),(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Dieser Authentifizierungsprozess folgt dem ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," Protokoll, und Logto erzwingt strenge Sicherheitsma\xdfnahmen, um die Benutzeranmeldung zu sch\xfctzen."]}),"\n",(0,r.jsx)(n.li,{children:"Wenn du mehrere Apps hast, kannst du denselben Identit\xe4tsanbieter (Logto) verwenden. Sobald sich der Benutzer bei einer App anmeldet, wird Logto den Anmeldeprozess automatisch abschlie\xdfen, wenn der Benutzer auf eine andere App zugreift."}),"\n"]}),(0,r.jsxs)(n.p,{children:["Um mehr \xfcber die Gr\xfcnde und Vorteile der umleitungsbasierten Anmeldung zu erfahren, siehe ",(0,r.jsx)(n.a,{href:"/concepts/sign-in-experience",children:"Logto-Anmeldeerfahrung erkl\xe4rt"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},51554:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Hier ist die Liste der unterst\xfctzten Berechtigungen (Scopes) und der entsprechenden Anspr\xfcche (Claims):"}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"openid"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sub"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Der eindeutige Identifikator des Benutzers"}),(0,r.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"profile"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"name"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Der vollst\xe4ndige Name des Benutzers"}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"username"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Der Benutzername des Benutzers"}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"picture"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"URL des Profilbildes des Endbenutzers. Diese URL MUSS auf eine Bilddatei (zum Beispiel eine PNG-, JPEG- oder GIF-Bilddatei) verweisen und nicht auf eine Webseite, die ein Bild enth\xe4lt. Beachte, dass diese URL speziell auf ein Profilfoto des Endbenutzers verweisen SOLLTE, das geeignet ist, den Endbenutzer zu beschreiben, und nicht auf ein beliebiges Foto, das vom Endbenutzer aufgenommen wurde."}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"created_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Zeitpunkt, zu dem der Endbenutzer erstellt wurde. Die Zeit wird als Anzahl der Millisekunden seit der Unix-Epoche (1970-01-01T00:00:00Z) dargestellt."}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"updated_at"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"number"})}),(0,r.jsx)(n.td,{children:"Zeitpunkt, zu dem die Informationen des Endbenutzers zuletzt aktualisiert wurden. Die Zeit wird als Anzahl der Millisekunden seit der Unix-Epoche (1970-01-01T00:00:00Z) dargestellt."}),(0,r.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:["Andere ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"Standardanspr\xfcche"})," wie ",(0,r.jsx)(n.code,{children:"family_name"}),", ",(0,r.jsx)(n.code,{children:"given_name"}),", ",(0,r.jsx)(n.code,{children:"middle_name"}),", ",(0,r.jsx)(n.code,{children:"nickname"}),", ",(0,r.jsx)(n.code,{children:"preferred_username"}),", ",(0,r.jsx)(n.code,{children:"profile"}),", ",(0,r.jsx)(n.code,{children:"website"}),", ",(0,r.jsx)(n.code,{children:"gender"}),", ",(0,r.jsx)(n.code,{children:"birthdate"}),", ",(0,r.jsx)(n.code,{children:"zoneinfo"})," und ",(0,r.jsx)(n.code,{children:"locale"})," werden ebenfalls im ",(0,r.jsx)(n.code,{children:"profile"}),"-Scope enthalten sein, ohne dass der userinfo-Endpunkt angefordert werden muss. Ein Unterschied im Vergleich zu den oben genannten Anspr\xfcchen besteht darin, dass diese Anspr\xfcche nur zur\xfcckgegeben werden, wenn ihre Werte nicht leer sind, w\xe4hrend die oben genannten Anspr\xfcche ",(0,r.jsx)(n.code,{children:"null"})," zur\xfcckgeben, wenn die Werte leer sind."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["Im Gegensatz zu den Standardanspr\xfcchen verwenden die Anspr\xfcche ",(0,r.jsx)(n.code,{children:"created_at"})," und ",(0,r.jsx)(n.code,{children:"updated_at"})," Millisekunden anstelle von Sekunden."]})}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"email"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Die E-Mail-Adresse des Benutzers"}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"email_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Ob die E-Mail-Adresse verifiziert wurde"}),(0,r.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"phone"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string"})}),(0,r.jsx)(n.td,{children:"Die Telefonnummer des Benutzers"}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"phone_number_verified"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"boolean"})}),(0,r.jsx)(n.td,{children:"Ob die Telefonnummer verifiziert wurde"}),(0,r.jsx)(n.td,{children:"Nein"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"address"})})}),"\n",(0,r.jsxs)(n.p,{children:["Bitte siehe ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," f\xfcr die Details des Adressanspruchs."]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"custom_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"Die benutzerdefinierten Daten des Benutzers"}),(0,r.jsx)(n.td,{children:"Ja"})]})})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"identities"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object"})}),(0,r.jsx)(n.td,{children:"Die verkn\xfcpften Identit\xe4ten des Benutzers"}),(0,r.jsx)(n.td,{children:"Ja"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"sso_identities"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"array"})}),(0,r.jsx)(n.td,{children:"Die verkn\xfcpften SSO-Identit\xe4ten des Benutzers"}),(0,r.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organizations"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsx)(n.td,{children:"Die Organisations-IDs, denen der Benutzer angeh\xf6rt"}),(0,r.jsx)(n.td,{children:"Nein"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_data"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"object[]"})}),(0,r.jsx)(n.td,{children:"Die Organisationsdaten, denen der Benutzer angeh\xf6rt"}),(0,r.jsx)(n.td,{children:"Ja"})]})]})]}),"\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:(0,r.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Anspruchsname"}),(0,r.jsx)(n.th,{children:"Typ"}),(0,r.jsx)(n.th,{children:"Beschreibung"}),(0,r.jsx)(n.th,{children:"Ben\xf6tigt userinfo?"})]})}),(0,r.jsx)(n.tbody,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"organization_roles"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"string[]"})}),(0,r.jsxs)(n.td,{children:["Die Organisationsrollen, denen der Benutzer angeh\xf6rt, im Format ",(0,r.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,r.jsx)(n.td,{children:"Nein"})]})})]}),"\n",(0,r.jsx)(n.hr,{}),"\n",(0,r.jsxs)(n.p,{children:['In Anbetracht der Leistung und der Datengr\xf6\xdfe bedeutet "Ben\xf6tigt userinfo?" "Ja", dass der Anspruch nicht im ID-Token angezeigt wird, sondern in der Antwort des ',(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo-Endpunkts"})," zur\xfcckgegeben wird."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},97091:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>d});var r=i(25105),t=i(79621),s=i(51554);const d=[...s.RM];function o(e){const n={a:"a",p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Logto verwendet OIDC ",(0,r.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"Berechtigungen und Anspr\xfcche Konventionen"}),", um die Berechtigungen und Anspr\xfcche f\xfcr das Abrufen von Benutzerinformationen aus dem ID-Token und dem OIDC ",(0,r.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"}),' zu definieren. Sowohl "Berechtigung (Scope)" als auch "Anspruch (Claim)" sind Begriffe aus den OAuth 2.0 und OpenID Connect (OIDC) Spezifikationen.']}),"\n","\n",e.configScopesCode&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("p",{children:"Kurz gesagt, wenn du eine Berechtigung anforderst, erh\xe4ltst du die entsprechenden Anspr\xfcche in den Benutzerinformationen. Zum Beispiel, wenn du die `email` Berechtigung anforderst, erh\xe4ltst du die `email` und `email_verified` Daten des Benutzers."}),(0,r.jsx)("p",{children:"Standardm\xe4\xdfig fordert das Logto SDK immer drei Berechtigungen an: `openid`, `profile` und `offline_access`, und es gibt keine M\xf6glichkeit, diese Standardberechtigungen zu entfernen. Aber du kannst weitere Berechtigungen hinzuf\xfcgen, wenn du Logto konfigurierst:"}),e.configScopesCode]}),"\n",(0,r.jsx)(s.Ay,{})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},8870:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Standardm\xe4\xdfig werden begrenzte Anspr\xfcche zur\xfcckgegeben. Wenn du mehr Informationen ben\xf6tigst, kannst du zus\xe4tzliche Berechtigungen anfordern, um auf mehr Anspr\xfcche zuzugreifen."}),"\n",(0,r.jsx)(n.admonition,{type:"info",children:(0,r.jsx)(n.p,{children:'Ein "Anspruch (Claim)" ist eine Behauptung \xfcber ein Subjekt; eine "Berechtigung (Scope)" ist eine Gruppe von Anspr\xfcchen. Im aktuellen Fall ist ein Anspruch ein Informationsst\xfcck \xfcber den Benutzer.'})}),"\n",(0,r.jsx)(n.p,{children:"Hier ist ein nicht-normatives Beispiel f\xfcr die Beziehung zwischen Berechtigung und Anspruch:"}),"\n",(0,r.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsx)(n.p,{children:'Der "sub"-Anspruch bedeutet "Subjekt", was der eindeutige Identifikator des Benutzers ist (d. h. Benutzer-ID).'})}),"\n",(0,r.jsxs)(n.p,{children:["Das Logto SDK wird immer drei Berechtigungen anfordern: ",(0,r.jsx)(n.code,{children:"openid"}),", ",(0,r.jsx)(n.code,{children:"profile"})," und ",(0,r.jsx)(n.code,{children:"offline_access"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},76102:(e,n,i)=>{i.d(n,{Ay:()=>c,Ip:()=>s,RM:()=>d});var r=i(25105),t=i(79621);const s="http://localhost:3000/",d=[];function o(e){const n={admonition:"admonition",p:"p",...(0,t.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsxs)(n.p,{children:["In den folgenden Code-Snippets gehen wir davon aus, dass deine App unter ",(0,r.jsx)("code",{children:s})," l\xe4uft."]})})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},83459:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>C,contentTitle:()=>B,default:()=>I,frontMatter:()=>R,metadata:()=>r,toc:()=>S});const r=JSON.parse('{"id":"quick-starts/framework/dotnet-blazor-server/README","title":"Authentifizierung zu deiner .NET Core (Blazor Server)-Anwendung hinzuf\xfcgen","description":"Voraussetzungen \\\\","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/dotnet-blazor-server/README.mdx","sourceDirName":"quick-starts/framework/dotnet-blazor-server","slug":"/quick-starts/dotnet-core/blazor-server","permalink":"/de/quick-starts/dotnet-core/blazor-server","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/quick-starts/framework/dotnet-blazor-server/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/dotnet-core/blazor-server","sidebar_label":".NET Core (Blazor Server)","sidebar_custom_props":{"logoFilename":"dotnet-blazor.svg","description":"Logto in deine .NET Core Blazor Server-App integrieren."}},"sidebar":"quickStartSidebar","previous":{"title":"Chrome extension","permalink":"/de/quick-starts/chrome-extension"},"next":{"title":".NET Core (Blazor WASM)","permalink":"/de/quick-starts/dotnet-core/blazor-wasm"}}');var t=i(25105),s=i(79621),d=i(62783),o=i(33350),c=i(2742),l=i(72495),a=i(74124),h=i(90044),u=i(6578),p=i(65125),g=i(1941),x=i(97057),j=i(45010);function m(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Da Blazor Server SignalR verwendet, um zwischen dem Server und dem Client zu kommunizieren, bedeutet dies, dass Methoden, die den HTTP-Kontext direkt manipulieren (wie das Ausl\xf6sen von Herausforderungen oder Weiterleitungen), nicht wie erwartet funktionieren, wenn sie von einer Blazor-Komponente aufgerufen werden."}),"\n",(0,t.jsx)(n.p,{children:"Um dies richtig zu machen, m\xfcssen wir explizit zwei Endpunkte f\xfcr Anmelde- und Abmelde-Weiterleitungen hinzuf\xfcgen:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'app.MapGet("/SignIn", async context =>\n{\n    if (!(context.User?.Identity?.IsAuthenticated ?? false))\n    {\n        await context.ChallengeAsync(new AuthenticationProperties { RedirectUri = "/" });\n    } else {\n        context.Response.Redirect("/");\n    }\n});\n\napp.MapGet("/SignOut", async context =>\n{\n    if (context.User?.Identity?.IsAuthenticated ?? false)\n    {\n        await context.SignOutAsync(new AuthenticationProperties { RedirectUri = "/" });\n    } else {\n        context.Response.Redirect("/");\n    }\n});\n'})}),"\n",(0,t.jsx)(n.p,{children:"Jetzt k\xf6nnen wir zu diesen Endpunkten weiterleiten, um Anmelde- und Abmeldevorg\xe4nge auszul\xf6sen."})]})}function f(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(m,{...e})}):m(e)}function z(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Alternativ kannst du das ",(0,t.jsx)(n.code,{children:"AuthorizeView"}),"-Komponente verwenden, um Inhalte basierend auf dem Authentifizierungsstatus des Benutzers bedingt anzuzeigen. Diese Komponente ist n\xfctzlich, wenn du unterschiedlichen Inhalt f\xfcr authentifizierte und nicht authentifizierte Benutzer anzeigen m\xf6chtest."]}),"\n",(0,t.jsx)(n.p,{children:"F\xfcge in deiner Razor-Komponente den folgenden Code hinzu:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cshtml",metastring:'title="Components/Pages/Index.razor"',children:"@using Microsoft.AspNetCore.Components.Authorization\n\n@* ... *@\n\n<AuthorizeView>\n    <Authorized>\n        <p>Name: @User?.Identity?.Name</p>\n        @* Inhalt f\xfcr authentifizierte Benutzer *@\n    </Authorized>\n    <NotAuthorized>\n        @* Inhalt f\xfcr nicht authentifizierte Benutzer *@\n    </NotAuthorized>\n</AuthorizeView>\n\n@* ... *@\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Die ",(0,t.jsx)(n.code,{children:"AuthorizeView"}),"-Komponente erfordert einen kaskadierenden Parameter vom Typ ",(0,t.jsx)(n.code,{children:"Task<AuthenticationState>"}),". Eine direkte M\xf6glichkeit, diesen Parameter zu erhalten, besteht darin, die ",(0,t.jsx)(n.code,{children:"<CascadingAuthenticationState>"}),"-Komponente hinzuzuf\xfcgen. Aufgrund der Natur von Blazor Server k\xf6nnen wir die Komponente jedoch nicht einfach zum Layout oder zur Root-Komponente hinzuf\xfcgen (es k\xf6nnte nicht wie erwartet funktionieren). Stattdessen k\xf6nnen wir den folgenden Code zum Builder (",(0,t.jsx)(n.code,{children:"Program.cs"})," oder ",(0,t.jsx)(n.code,{children:"Startup.cs"}),") hinzuf\xfcgen, um den kaskadierenden Parameter bereitzustellen:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:"builder.Services.AddCascadingAuthenticationState();\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Dann kannst du die ",(0,t.jsx)(n.code,{children:"AuthorizeView"}),"-Komponente in jeder Komponente verwenden, die sie ben\xf6tigt."]})]})}function A(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(z,{...e})}):z(e)}function b(e){const n={code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Da wir in Razor-Komponenten nicht direkt auf ",(0,t.jsx)(n.code,{children:"HttpContext"})," zugreifen k\xf6nnen, m\xfcssen wir den ",(0,t.jsx)(n.code,{children:"HttpContextAccessor"})," in die Komponente injizieren und ihn verwenden, um die Tokens abzurufen. Der folgende Code zeigt, wie man das Zugangstoken f\xfcr die API-Ressource in einer Razor-Komponente abruft:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cshtml",metastring:'title="Components/Pages/Index.razor"',children:'@using Microsoft.AspNetCore.Components.Authorization\n@using System.Security.Claims\n@using Logto.AspNetCore.Authentication\n@using Microsoft.AspNetCore.Authentication\n@inject AuthenticationStateProvider AuthenticationStateProvider\n@inject IHttpContextAccessor HttpContextAccessor\n\n@* ... *@\n\n<p><b>Ressource:</b> @(Resource ?? "(null)")</p>\n<p><b>Zugangstoken:</b> @(AccessToken ?? "(null)")</p>\n\n@* ... *@\n\n@code {\n    private ClaimsPrincipal? User { get; set; }\n    private string? AccessToken { get; set; }\n    private string? Resource { get; set; }\n\n    protected override async Task OnInitializedAsync()\n    {\n        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();\n        User = authState.User;\n\n        if (User?.Identity?.IsAuthenticated == true)\n        {\n            await FetchTokenAsync();\n        }\n    }\n\n    private async Task FetchTokenAsync()\n    {\n        var httpContext = HttpContextAccessor.HttpContext;\n        if (httpContext == null)\n        {\n            return;\n        }\n\n        var logtoOptions = httpContext.GetLogtoOptions();\n        Resource = logtoOptions?.Resource;\n        // Ersetze durch andere Token-Typen, falls erforderlich\n        AccessToken = await httpContext.GetTokenAsync(LogtoParameters.Tokens.AccessTokenForResource);\n    }\n}\n'})})]})}function k(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(b,{...e})}):b(e)}function w(e){const n={code:"code",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Im Razor-Komponent f\xfcgen Sie den folgenden Code hinzu:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-cshtml",metastring:'title="Components/Pages/Index.razor"',children:'@using Microsoft.AspNetCore.Components.Authorization\n@using System.Security.Claims\n@inject AuthenticationStateProvider AuthenticationStateProvider\n@inject NavigationManager NavigationManager\n\n@* ... *@\n\n<p>Ist authentifiziert: @User.Identity?.IsAuthenticated</p>\n@if (User.Identity?.IsAuthenticated == true)\n{\n    <button @onclick="SignOut">Abmelden</button>\n}\nelse\n{\n    <button @onclick="SignIn">Anmelden</button>\n}\n\n@* ... *@\n\n@code {\n    private ClaimsPrincipal? User { get; set; }\n\n    protected override async Task OnInitializedAsync()\n    {\n        var authState = await AuthenticationStateProvider.GetAuthenticationStateAsync();\n        User = authState.User;\n    }\n\n    private void SignIn()\n    {\n        NavigationManager.NavigateTo("/SignIn", forceLoad: true);\n    }\n\n    private void SignOut()\n    {\n        NavigationManager.NavigateTo("/SignOut", forceLoad: true);\n    }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Erkl\xe4rung"}),":"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Der injizierte ",(0,t.jsx)(n.code,{children:"AuthenticationStateProvider"})," wird verwendet, um den Authentifizierungsstatus des aktuellen Benutzers abzurufen und die ",(0,t.jsx)(n.code,{children:"User"}),"-Eigenschaft zu f\xfcllen."]}),"\n",(0,t.jsxs)(n.li,{children:["Die Methoden ",(0,t.jsx)(n.code,{children:"SignIn"})," und ",(0,t.jsx)(n.code,{children:"SignOut"})," werden verwendet, um den Benutzer zu den Anmelde- bzw. Abmeldeendpunkten weiterzuleiten. Aufgrund der Natur von Blazor Server m\xfcssen wir ",(0,t.jsx)(n.code,{children:"NavigationManager"})," mit force load verwenden, um die Weiterleitung auszul\xf6sen."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:'Die Seite zeigt die Schaltfl\xe4che "Anmelden" an, wenn der Benutzer nicht authentifiziert ist, und die Schaltfl\xe4che "Abmelden", wenn der Benutzer authentifiziert ist.'})]})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(w,{...e})}):w(e)}const R={slug:"/quick-starts/dotnet-core/blazor-server",sidebar_label:".NET Core (Blazor Server)",sidebar_custom_props:{logoFilename:"dotnet-blazor.svg",description:"Logto in deine .NET Core Blazor Server-App integrieren."}},B="Authentifizierung zu deiner .NET Core (Blazor Server)-Anwendung hinzuf\xfcgen",C={},S=[...p.RM,{value:"Voraussetzungen",id:"prerequisites",level:2},{value:"Installation",id:"installation",level:2},...g.RM,{value:"Integration",id:"integration",level:2},{value:"Logto-Authentifizierung hinzuf\xfcgen",id:"add-logto-authentication",level:3},...l.RM,{value:"Anmelde- und Abmeldefl\xfcsse",id:"sign-in-and-sign-out-flows",level:3},...x.RM,{value:"Redirect-URIs konfigurieren",id:"configure-redirect-uris",level:3},...a.RM,{value:"Routen hinzuf\xfcgen",id:"add-routes",level:3},{value:"Anmelde- und Abmeldebuttons implementieren",id:"implement-sign-in-and-sign-out-buttons",level:3},{value:"Die <code>&lt;AuthorizeView /&gt;</code>-Komponente",id:"the-authorizeview--component",level:3},...o.RM,{value:"Benutzerinformationen abrufen",id:"get-user-information",level:2},...u.RM,{value:"API-Ressourcen",id:"api-resources",level:2},...d.RM,{value:"API-Ressource in deiner App konfigurieren",id:"configure-api-resource-in-your-app",level:3},...j.RM,{value:"Tokens abrufen",id:"fetch-tokens",level:2},{value:"Token \xfcber <code>HttpContext</code> abrufen",id:"fetch-token-via-httpcontext",level:3},...h.RM,{value:"Token in Razor-Komponenten abrufen",id:"fetch-token-in-razor-components",level:3},{value:"Weiterf\xfchrende Lekt\xfcre",id:"further-readings",level:2},...c.RM];function y(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"authentifizierung-zu-deiner-net-core-blazor-server-anwendung-hinzuf\xfcgen",children:"Authentifizierung zu deiner .NET Core (Blazor Server)-Anwendung hinzuf\xfcgen"})}),"\n",(0,t.jsx)(p.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"Voraussetzungen"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Ein ",(0,t.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"}),"-Konto oder ein ",(0,t.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"selbst gehostetes Logto"}),"."]}),"\n",(0,t.jsx)(n.li,{children:"Eine Logto traditionelle Webanwendung erstellt."}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(g.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"integration",children:"Integration"}),"\n",(0,t.jsx)(n.h3,{id:"add-logto-authentication",children:"Logto-Authentifizierung hinzuf\xfcgen"}),"\n",(0,t.jsx)(l.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"sign-in-and-sign-out-flows",children:"Anmelde- und Abmeldefl\xfcsse"}),"\n",(0,t.jsx)(x.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"configure-redirect-uris",children:"Redirect-URIs konfigurieren"}),"\n",(0,t.jsx)(a.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"add-routes",children:"Routen hinzuf\xfcgen"}),"\n",(0,t.jsx)(f,{}),"\n",(0,t.jsx)(n.h3,{id:"implement-sign-in-and-sign-out-buttons",children:"Anmelde- und Abmeldebuttons implementieren"}),"\n",(0,t.jsx)(v,{}),"\n",(0,t.jsxs)(n.h3,{id:"the-authorizeview--component",children:["Die ",(0,t.jsx)(n.code,{children:"<AuthorizeView />"}),"-Komponente"]}),"\n",(0,t.jsx)(A,{}),"\n",(0,t.jsx)(o.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"get-user-information",children:"Benutzerinformationen abrufen"}),"\n",(0,t.jsx)(u.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"api-resources",children:"API-Ressourcen"}),"\n",(0,t.jsx)(d.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"configure-api-resource-in-your-app",children:"API-Ressource in deiner App konfigurieren"}),"\n",(0,t.jsx)(j.Ay,{}),"\n",(0,t.jsx)(n.h2,{id:"fetch-tokens",children:"Tokens abrufen"}),"\n",(0,t.jsxs)(n.h3,{id:"fetch-token-via-httpcontext",children:["Token \xfcber ",(0,t.jsx)(n.code,{children:"HttpContext"})," abrufen"]}),"\n",(0,t.jsx)(h.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"fetch-token-in-razor-components",children:"Token in Razor-Komponenten abrufen"}),"\n",(0,t.jsx)(k,{}),"\n",(0,t.jsx)(n.h2,{id:"further-readings",children:"Weiterf\xfchrende Lekt\xfcre"}),"\n",(0,t.jsx)(c.Ay,{})]})}function I(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(y,{...e})}):y(e)}},72495:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["\xd6ffne ",(0,r.jsx)(n.code,{children:"Startup.cs"})," (oder ",(0,r.jsx)(n.code,{children:"Program.cs"}),") und f\xfcge den folgenden Code hinzu, um die Logto-Authentifizierungsdienste zu registrieren:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'using Logto.AspNetCore.Authentication;\n\nvar builder = WebApplication.CreateBuilder(args);\n\nbuilder.Services.AddLogtoAuthentication(options =>\n{\n  options.Endpoint = builder.Configuration["Logto:Endpoint"]!;\n  options.AppId = builder.Configuration["Logto:AppId"]!;\n  options.AppSecret = builder.Configuration["Logto:AppSecret"];\n});\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Die Methode ",(0,r.jsx)(n.code,{children:"AddLogtoAuthentication"})," wird Folgendes tun:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Das Standard-Authentifizierungsschema auf ",(0,r.jsx)(n.code,{children:"LogtoDefaults.CookieScheme"})," setzen."]}),"\n",(0,r.jsxs)(n.li,{children:["Das Standard-Challenge-Schema auf ",(0,r.jsx)(n.code,{children:"LogtoDefaults.AuthenticationScheme"})," setzen."]}),"\n",(0,r.jsxs)(n.li,{children:["Das Standard-Abmeldeschema auf ",(0,r.jsx)(n.code,{children:"LogtoDefaults.AuthenticationScheme"})," setzen."]}),"\n",(0,r.jsx)(n.li,{children:"Cookie- und OpenID Connect-Authentifizierungs-Handler zum Authentifizierungsschema hinzuf\xfcgen."}),"\n"]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},74124:(e,n,i)=>{i.d(n,{Ay:()=>l,RM:()=>o});var r=i(25105),t=i(79621),s=i(65113),d=i(76102);const o=[...d.RM,{value:"\xc4ndere die Standardpfade",id:"change-the-default-paths",level:4}];function c(e){const n={code:"code",h4:"h4",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Zuerst konfigurieren wir die ",(0,r.jsx)(n.strong,{children:"Logto-Umleitungs-URI"}),'. F\xfcge die folgende URI zur Liste der "Umleitungs-URIs" auf der Logto-Anwendungsdetailseite hinzu:']}),"\n",(0,r.jsx)(s.A,{children:`http://${d.Ip}/Callback`}),"\n",(0,r.jsxs)(n.p,{children:["Um die ",(0,r.jsx)(n.strong,{children:"Logto-Post-Sign-Out-Umleitungs-URI"}),' zu konfigurieren, f\xfcge die folgende URI zur Liste der "Post-Sign-Out-Umleitungs-URIs" auf der Logto-Anwendungsdetailseite hinzu:']}),"\n",(0,r.jsx)(s.A,{children:`http://${d.Ip}/SignedOutCallback`}),"\n",(0,r.jsx)(n.h4,{id:"change-the-default-paths",children:"\xc4ndere die Standardpfade"}),"\n",(0,r.jsxs)(n.p,{children:["Die ",(0,r.jsx)(n.strong,{children:"Logto-Umleitungs-URI"})," hat einen Standardpfad von ",(0,r.jsx)(n.code,{children:"/Callback"}),", und die ",(0,r.jsx)(n.strong,{children:"Logto-Post-Sign-Out-Umleitungs-URI"})," hat einen Standardpfad von ",(0,r.jsx)(n.code,{children:"/SignedOutCallback"}),"."]}),"\n",(0,r.jsxs)(n.p,{children:["Du kannst sie so belassen, wenn es keine besonderen Anforderungen gibt. Wenn du sie \xe4ndern m\xf6chtest, kannst du die Eigenschaften ",(0,r.jsx)(n.code,{children:"CallbackPath"})," und ",(0,r.jsx)(n.code,{children:"SignedOutCallbackPath"})," f\xfcr ",(0,r.jsx)(n.code,{children:"LogtoOptions"})," festlegen:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'builder.Services.AddLogtoAuthentication(options =>\n{\n  // Andere Konfigurationen...\n  // highlight-start\n  options.CallbackPath = "/Foo";\n  options.SignedOutCallbackPath = "/Bar";\n  // highlight-end\n});\n'})}),"\n",(0,r.jsx)(n.p,{children:"Denke daran, den Wert auf der Logto-Anwendungsdetailseite entsprechend zu aktualisieren."})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},90044:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={admonition:"admonition",code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Manchmal musst du das Zugangstoken oder ID-Token f\xfcr API-Aufrufe abrufen. Du kannst die Methode ",(0,r.jsx)(n.code,{children:"GetTokenAsync"})," verwenden, um die Tokens abzurufen:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"var accessToken = await HttpContext.GetTokenAsync(LogtoParameters.Tokens.AccessToken);\nvar idToken = await HttpContext.GetTokenAsync(LogtoParameters.Tokens.IdToken);\n"})}),"\n",(0,r.jsx)(n.p,{children:"Du musst dir keine Sorgen \xfcber das Ablaufen der Tokens machen, die Authentifizierungsmiddleware wird die Tokens bei Bedarf automatisch auffrischen."}),"\n",(0,r.jsx)(n.admonition,{type:"caution",children:(0,r.jsx)(n.p,{children:"Obwohl die Authentifizierungsmiddleware die Tokens automatisch auffrischt, werden die Anspr\xfcche im Benutzerobjekt aufgrund der Einschr\xe4nkungen des zugrunde liegenden OpenID Connect-Authentifizierungs-Handlers nicht aktualisiert.\nDies kann behoben werden, sobald wir unseren eigenen Authentifizierungs-Handler schreiben."})}),"\n",(0,r.jsxs)(n.p,{children:["Beachte, dass das oben genannte Zugangstoken ein opakes Token f\xfcr den Userinfo-Endpunkt in OpenID Connect ist, welches kein JWT-Token ist. Wenn du die API-Ressource angegeben hast, musst du ",(0,r.jsx)(n.code,{children:"LogtoParameters.Tokens.AccessTokenForResource"})," verwenden, um das Zugangstoken f\xfcr die API-Ressource abzurufen:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",children:"var accessToken = await HttpContext.GetTokenAsync(LogtoParameters.Tokens.AccessTokenForResource);\n"})}),"\n",(0,r.jsx)(n.p,{children:"Dieses Token wird ein JWT-Token mit der API-Ressource als Zielgruppe sein."})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},6578:(e,n,i)=>{i.d(n,{Ay:()=>a,RM:()=>c});var r=i(25105),t=i(79621),s=i(95585),d=i(97091),o=i(8870);const c=[{value:"Benutzerinformationen anzeigen",id:"display-user-information",level:3},{value:"Zus\xe4tzliche Anspr\xfcche anfordern",id:"request-additional-claims",level:3},...s.RM,...o.RM,{value:"Anspr\xfcche, die eine Netzwerkabfrage ben\xf6tigen",id:"claims-that-need-network-request",level:3},{value:"Berechtigungen und Anspr\xfcche",id:"scopes-and-claims",level:3},...d.RM];function l(e){const n={a:"a",code:"code",h3:"h3",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.h3,{id:"display-user-information",children:"Benutzerinformationen anzeigen"}),"\n",(0,r.jsxs)(n.p,{children:["Um zu wissen, ob der Benutzer authentifiziert ist, kannst du die Eigenschaft ",(0,r.jsx)(n.code,{children:"User.Identity?.IsAuthenticated"})," \xfcberpr\xfcfen."]}),"\n",(0,r.jsxs)(n.p,{children:["Um die Benutzerprofilanspr\xfcche zu erhalten, kannst du die Eigenschaft ",(0,r.jsx)(n.code,{children:"User.Claims"})," verwenden:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Controllers/HomeController.cs"',children:"var claims = User.Claims;\n\n// Benutzer-ID abrufen\nvar userId = claims.FirstOrDefault(c => c.Type == LogtoParameters.Claims.Subject)?.Value;\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Siehe ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/csharp/blob/master/src/Logto.AspNetCore.Authentication/LogtoParameters.cs",children:(0,r.jsx)(n.code,{children:"LogtoParameters.Claims"})})," f\xfcr die Liste der Anspruchsnamen und deren Bedeutungen."]}),"\n",(0,r.jsx)(n.h3,{id:"request-additional-claims",children:"Zus\xe4tzliche Anspr\xfcche anfordern"}),"\n",(0,r.jsx)(s.Ay,{method:"User.Claims"}),"\n",(0,r.jsx)(o.Ay,{}),"\n",(0,r.jsxs)(n.p,{children:["Um zus\xe4tzliche Berechtigungen anzufordern, kannst du die Eigenschaft ",(0,r.jsx)(n.code,{children:"Scopes"})," im ",(0,r.jsx)(n.code,{children:"options"}),"-Objekt konfigurieren:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:"builder.Services.AddLogtoAuthentication(options =>\n{\n  // ...\n  // highlight-start\n  options.Scopes = new string[] {\n    LogtoParameters.Scopes.Email,\n    LogtoParameters.Scopes.Phone\n  }\n  // highlight-end\n});\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Dann kannst du auf die zus\xe4tzlichen Anspr\xfcche \xfcber ",(0,r.jsx)(n.code,{children:"User.Claims"})," zugreifen:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Controllers/HomeController.cs"',children:"var claims = User.Claims;\n\n// Benutzer-E-Mail abrufen\nvar email = claims.FirstOrDefault(c => c.Type == LogtoParameters.Claims.Email)?.Value;\n"})}),"\n",(0,r.jsx)(n.h3,{id:"claims-that-need-network-request",children:"Anspr\xfcche, die eine Netzwerkabfrage ben\xf6tigen"}),"\n",(0,r.jsxs)(n.p,{children:["Um eine \xdcberlastung des Benutzerobjekts zu vermeiden, erfordern einige Anspr\xfcche Netzwerkabfragen, um abgerufen zu werden. Zum Beispiel ist der Anspruch custom_data nicht im Benutzerobjekt enthalten, selbst wenn er in den Berechtigungen angefordert wird. Um diese Anspr\xfcche abzurufen, kannst du ",(0,r.jsx)(n.code,{children:"GetClaimsFromUserInfoEndpoint"})," auf ",(0,r.jsx)(n.code,{children:"true"})," im ",(0,r.jsx)(n.code,{children:"options"}),"-Objekt setzen:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:"builder.Services.AddLogtoAuthentication(options =>\n{\n  // ...\n  // highlight-next-line\n  options.GetClaimsFromUserInfoEndpoint = true;\n});\n"})}),"\n",(0,r.jsx)(n.h3,{id:"scopes-and-claims",children:"Berechtigungen und Anspr\xfcche"}),"\n",(0,r.jsx)(d.Ay,{})]})}function a(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},65125:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={a:"a",admonition:"admonition",li:"li",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsx)(n.admonition,{type:"tip",children:(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Die folgende Demonstration basiert auf .NET Core 8.0. Das SDK ist kompatibel mit .NET 6.0 oder h\xf6her."}),"\n",(0,r.jsxs)(n.li,{children:["Die .NET Core-Beispielprojekte sind im ",(0,r.jsx)(n.a,{href:"https://github.com/logto-io/csharp",children:"GitHub-Repository"})," verf\xfcgbar."]}),"\n"]})})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},1941:(e,n,i)=>{i.d(n,{Ay:()=>o,RM:()=>s});var r=i(25105),t=i(79621);const s=[];function d(e){const n={code:"code",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"F\xfcge das NuGet-Paket zu deinem Projekt hinzu:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"dotnet add package Logto.AspNetCore.Authentication\n"})})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},97057:(e,n,i)=>{i.d(n,{Ay:()=>c,RM:()=>d});var r=i(25105),t=i(79621),s=i(52950);const d=[...s.RM];function o(e){const n={li:"li",mermaid:"mermaid",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.p,{children:"Bevor wir fortfahren, gibt es zwei verwirrende Begriffe im .NET Core Authentifizierungs-Middleware, die wir kl\xe4ren m\xfcssen:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"CallbackPath"}),': Die URI, zu der Logto den Benutzer zur\xfcckleitet, nachdem der Benutzer sich angemeldet hat (die "Redirect-URI" in Logto)']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"RedirectUri"}),": Die URI, zu der weitergeleitet wird, nachdem die notwendigen Aktionen im Logto Authentifizierungs-Middleware durchgef\xfchrt wurden."]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Der Anmeldeprozess kann wie folgt veranschaulicht werden:"}),"\n",(0,r.jsx)(n.mermaid,{value:"graph LR\n  subgraph Your app\n    A\n    C\n    D\n  end\n  subgraph Logto\n    B\n  end\n  A(Anmeldepfad) --\x3e|Weiterleitung zu| B(Logto)\n  B --\x3e|Weiterleitung zu| C(CallbackPath)\n  C --\x3e|Weiterleitung zu| D(RedirectUri)"}),"\n",(0,r.jsx)("br",{}),"\n",(0,r.jsxs)(n.p,{children:["\xc4hnlich hat .NET Core auch ",(0,r.jsx)(n.strong,{children:"SignedOutCallbackPath"})," und ",(0,r.jsx)(n.strong,{children:"RedirectUri"})," f\xfcr den Abmeldefluss."]}),"\n",(0,r.jsx)(n.p,{children:"Zur Klarheit werden wir sie wie folgt bezeichnen:"}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Begriff, den wir verwenden"}),(0,r.jsx)(n.th,{children:".NET Core Begriff"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Logto Redirect-URI"}),(0,r.jsx)(n.td,{children:"CallbackPath"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Logto Post-Abmeldung Redirect-URI"}),(0,r.jsx)(n.td,{children:"SignedOutCallbackPath"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Anwendungs-Redirect-URI"}),(0,r.jsx)(n.td,{children:"RedirectUri"})]})]})]}),"\n",(0,r.jsx)(s.Ay,{})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(o,{...e})}):o(e)}},45010:(e,n,i)=>{i.d(n,{Ay:()=>u,RM:()=>a});var r=i(25105),t=i(79621),s=i(41619);function d(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'builder.Services.AddLogtoAuthentication(options =>\n{\n  // ...\n  // highlight-next-line\n  options.Resource = "https://<your-api-resource-indicator>";\n});\n'})})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}function c(e){const n={code:"code",pre:"pre",...(0,t.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-csharp",metastring:'title="Program.cs"',children:'builder.Services.AddLogtoAuthentication(options =>\n{\n  // ...\n  // highlight-start\n  options.Resource = "https://shopping.your-app.com/api";\n  options.Scopes = new string[] {\n    "openid",\n    "profile",\n    "offline_access",\n    "read",\n    "write"\n  };\n  // highlight-end\n});\n'})})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}const a=[...s.RM];function h(e){return(0,r.jsx)(s.Ay,{configResourcesCode:(0,r.jsx)(o,{}),configResourcesWithScopesCode:(0,r.jsx)(l,{})})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h()}},48564:(e,n,i)=>{i.d(n,{A:()=>x});var r=i(8859),t=i(9545),s=i(83702),d=i(1391),o=i(9743),c=i(45247),l=i(86686),a=i(85601),h=i(13526),u=i(57850);const p={codeBlockContent:"codeBlockContent_m3Ux",codeBlockTitle:"codeBlockTitle_P25_",codeBlock:"codeBlock_qGQc",codeBlockStandalone:"codeBlockStandalone_zC50",codeBlockLines:"codeBlockLines_p187",codeBlockLinesWithNumbering:"codeBlockLinesWithNumbering_OFgW",buttonGroup:"buttonGroup_6DOT"};var g=i(25105);function x(e){let{children:n,className:i="",metastring:x,title:j,showLineNumbers:m,language:f}=e;const{prism:{defaultLanguage:z,magicComments:A}}=(0,r.p)(),b=function(e){return e?.toLowerCase()}(f??(0,s.Op)(i)??z),k=(0,t.A)(),w=(0,d.f)(),v=(0,s.wt)(x)||j,{lineClassNames:R,code:B}=(0,s.Li)(n,{metastring:x,language:b,magicComments:A}),C=m??(0,s._u)(x);return(0,g.jsxs)(o.A,{as:"div",className:(0,h.A)(i,b&&!i.includes(`language-${b}`)&&`language-${b}`),children:[v&&(0,g.jsx)("div",{className:p.codeBlockTitle,children:v}),(0,g.jsxs)("div",{className:p.codeBlockContent,children:[(0,g.jsx)(u.f4,{theme:k,code:B,language:b??"text",children:e=>{let{className:n,style:i,tokens:r,getLineProps:t,getTokenProps:s}=e;return(0,g.jsx)("pre",{ref:w.codeBlockRef,tabIndex:0,className:(0,h.A)(n,p.codeBlock,"thin-scrollbar"),style:i,children:(0,g.jsx)("code",{className:(0,h.A)(p.codeBlockLines,C&&p.codeBlockLinesWithNumbering),children:r.map(((e,n)=>(0,g.jsx)(l.A,{line:e,getLineProps:t,getTokenProps:s,classNames:R[n],showLineNumbers:C},n)))})})}}),(0,g.jsxs)("div",{className:p.buttonGroup,children:[(w.isEnabled||w.isCodeScrollable)&&(0,g.jsx)(a.A,{className:p.codeButton,isEnabled:w.isEnabled,onClick:()=>{w.toggle()}}),(0,g.jsx)(c.A,{className:p.codeButton,code:B})]})]})]})}}}]);