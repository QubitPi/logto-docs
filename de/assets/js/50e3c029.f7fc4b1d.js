"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[2590],{29349:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>u,default:()=>c,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"developers/custom-token-claims/common-use-cases","title":"H\xe4ufige Anwendungsf\xe4lle (Common use cases)","description":"In diesem Abschnitt geben wir einige Beispiele, um dir Szenarien zu zeigen, in denen benutzerdefinierte Token-Anspr\xfcche n\xfctzlich sein k\xf6nnen, und bieten dir einige Referenzen. So kannst du, wenn du auf Schwierigkeiten im Zugriffsmanagement st\xf6\xdft, pr\xfcfen, ob benutzerdefinierte Token-Anspr\xfcche dir Vorteile bringen k\xf6nnen.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/developers/custom-token-claims/common-use-cases.mdx","sourceDirName":"developers/custom-token-claims","slug":"/developers/custom-token-claims/common-use-cases","permalink":"/de/developers/custom-token-claims/common-use-cases","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/developers/custom-token-claims/common-use-cases.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"id":"common-use-cases","title":"H\xe4ufige Anwendungsf\xe4lle (Common use cases)","sidebar_label":"H\xe4ufige Anwendungsf\xe4lle (Common use cases)","sidebar_position":2},"sidebar":"docsSidebar","previous":{"title":"Benutzerdefinierte Token-Anspr\xfcche","permalink":"/de/developers/custom-token-claims/"},"next":{"title":"Erstelle ein benutzerdefiniertes Token-Claims-Skript","permalink":"/de/developers/custom-token-claims/create-script"}}');var t=i(25105),r=i(79621);const o={id:"common-use-cases",title:"H\xe4ufige Anwendungsf\xe4lle (Common use cases)",sidebar_label:"H\xe4ufige Anwendungsf\xe4lle (Common use cases)",sidebar_position:2},u="H\xe4ufige Anwendungsf\xe4lle (Common use cases)",d={},l=[{value:"Attributbasierte Zugangskontrolle (ABAC) erm\xf6glichen",id:"make-attribute-based-access-control-abac-possible",level:2},{value:"Token-Ausstellung manuell blockieren",id:"manually-block-token-issuance",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"h\xe4ufige-anwendungsf\xe4lle-common-use-cases",children:"H\xe4ufige Anwendungsf\xe4lle (Common use cases)"})}),"\n",(0,t.jsxs)(n.p,{children:["In diesem Abschnitt geben wir einige Beispiele, um dir Szenarien zu zeigen, in denen ",(0,t.jsx)(n.a,{href:"/developers/custom-token-claims",children:"benutzerdefinierte Token-Anspr\xfcche"})," n\xfctzlich sein k\xf6nnen, und bieten dir einige Referenzen. So kannst du, wenn du auf Schwierigkeiten im Zugriffsmanagement st\xf6\xdft, pr\xfcfen, ob benutzerdefinierte Token-Anspr\xfcche dir Vorteile bringen k\xf6nnen."]}),"\n",(0,t.jsx)(n.h2,{id:"make-attribute-based-access-control-abac-possible",children:"Attributbasierte Zugangskontrolle (ABAC) erm\xf6glichen"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://auth.wiki/abac",children:"Attributbasierte Zugangskontrolle (ABAC)"})," ist ein Zugriffssteuerungsmodell, das Attribute (wie Benutzerrollen, Ressourceneigenschaften und Umweltbedingungen) verwendet, um Zugriffsentscheidungen zu treffen. Es ist eine flexible und dynamische Methode, um den Zugriff auf gesch\xfctzte Ressourcen zu verwalten."]}),"\n",(0,t.jsx)(n.p,{children:"Angenommen, du entwickelst eine App, und die Ver\xf6ffentlichung der App ist in zwei Phasen unterteilt: \xf6ffentliche Beta und offizieller Start. Auch nach dem offiziellen Start der App m\xf6chtest du, dass alte Benutzer, die an der \xf6ffentlichen Beta teilgenommen haben, weiterhin die kostenpflichtigen Funktionen nutzen k\xf6nnen."}),"\n",(0,t.jsxs)(n.p,{children:["Nach dem offiziellen Start der App verwendest du die ",(0,t.jsx)(n.a,{href:"/authorization/role-based-access-control",children:"rollenbasierte Zugangskontrolle (RBAC)"})," von Logto, um die Nutzung der kostenpflichtigen Funktionen zu steuern. Um einfach zu pr\xfcfen, ob ein Benutzer die App bereits w\xe4hrend der \xf6ffentlichen Beta-Phase genutzt hat, kannst du die Methode ",(0,t.jsx)(n.code,{children:"getCustomJwtClaims()"})," verwenden, um einen Anspruch ",(0,t.jsx)(n.code,{children:"createdAt"})," im Token-Payload hinzuzuf\xfcgen."]}),"\n",(0,t.jsx)(n.p,{children:"Wenn du dann die Zugangskontrolle in deinen gesch\xfctzten APIs durchf\xfchrst, musst du Zugangstokens zulassen, die eine der folgenden Bedingungen erf\xfcllen:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Im RBAC-Kontext die Berechtigung f\xfcr den Zugriff auf kostenpflichtige Ressourcen besitzen."}),"\n",(0,t.jsxs)(n.li,{children:["Das Feld ",(0,t.jsx)(n.code,{children:"createdAt"})," ist fr\xfcher als das Ende der \xf6ffentlichen Beta-Phase."]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Ohne die Funktion f\xfcr benutzerdefinierte Token-Anspr\xfcche m\xfcsste beim \xdcberpr\xfcfen der Berechtigungen f\xfcr die ",(0,t.jsx)(n.a,{href:"/authorization",children:"Autorisierung (Authorization)"})," die Logto Management API aufgerufen werden, um zu pr\xfcfen, ob der Benutzer mit dem aktuellen Zugangstoken die Berechtigungen f\xfcr die von einer bestimmten API-Ressource geforderte Rolle besitzt."]}),"\n",(0,t.jsxs)(n.p,{children:["In einem \xe4hnlichen Szenario, angenommen, deine App zeigt Geburtstagsw\xfcnsche auf der Anmeldeseite an, wenn der Geburtstag des Benutzers bevorsteht. Du kannst benutzerdefinierte Token-Anspr\xfcche verwenden, um ein Geburtstagsfeld zum ",(0,t.jsx)(n.a,{href:"/user-management/personal-access-token#example-token-exchange",children:"Token-Payload"})," hinzuzuf\xfcgen, das verwendet werden kann, um zu bestimmen, ob eine bestimmte Nachricht angezeigt werden soll."]}),"\n",(0,t.jsx)(n.h2,{id:"manually-block-token-issuance",children:"Token-Ausstellung manuell blockieren"}),"\n",(0,t.jsxs)(n.p,{children:["Angenommen, Joe betreibt ein Online-Spiel und verwendet Logto als ",(0,t.jsx)(n.a,{href:"https://auth.wiki/iam",children:"Identity and Access Management (IAM)"}),"-System."]}),"\n",(0,t.jsx)(n.p,{children:"Nehmen wir an, dieses Spiel erfordert Aufladungen, um Spielzeit zu kaufen. Joe speichert das Guthaben jedes Benutzers in seinem Spielservice und zieht kontinuierlich vom Guthaben ab, w\xe4hrend die Spielzeit abl\xe4uft. Joe m\xf6chte die Spieler zum Ausloggen zwingen, wenn ihr Kontostand aufgebraucht ist, um sie zum Aufladen zu motivieren."}),"\n",(0,t.jsx)(n.p,{children:"An dieser Stelle kann Joe ebenfalls die Funktion f\xfcr benutzerdefinierte Token-Anspr\xfcche von Logto nutzen, um dies zu erreichen:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Im Skript kann ein externer API-Aufruf ",(0,t.jsx)(n.a,{href:"/developers/custom-token-claims/create-script/#step-3-fetch-external-data",children:"externe Daten abrufen"})," verwendet werden, um das aktuelle Guthaben des Spielers von Joes Spielserver abzurufen."]}),"\n",(0,t.jsxs)(n.li,{children:["Wenn das Guthaben kleiner oder gleich 0 ist, kann die Methode ",(0,t.jsx)(n.a,{href:"/developers/custom-token-claims/create-script/#api",children:(0,t.jsx)(n.code,{children:"api.denyAccess()"})})," verwendet werden, um die Token-Ausstellung zu blockieren."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Da in diesem Fall kein neues g\xfcltiges Zugangstoken mehr erhalten werden kann, wird der Spieler zwangsweise aus dem Spiel ausgeloggt."})]})}function c(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},79621:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>u});var s=i(58101);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function u(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);