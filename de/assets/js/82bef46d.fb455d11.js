"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[42890],{58184:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>d,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"authorization/api-resources/README","title":"API-Ressourcen","description":"API-Ressourcen, auch bekannt als Ressourcenindikatoren, geben die Zielservices oder -ressourcen an, die angefordert werden sollen, in der Regel eine URI-Formatvariable, die die Identit\xe4t der Ressource darstellt. Dies ist ein Schl\xfcsselkonzept im Logto-Autorisierungssystem, da es den Endpunkt definiert, den die Autorisierungsrichtlinie sch\xfctzen soll.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/authorization/api-resources/README.mdx","sourceDirName":"authorization/api-resources","slug":"/authorization/api-resources/","permalink":"/de/authorization/api-resources/","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/authorization/api-resources/README.mdx","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Autorisierung","permalink":"/de/authorization/"},"next":{"title":"Sch\xfctze deine API","permalink":"/de/authorization/api-resources/protect-your-api"}}');var i=r(25105),t=r(79621);const d={sidebar_position:1},o="API-Ressourcen",l={},c=[{value:"Ressourcenindikator",id:"resource-indicator",level:2},{value:"Logto API-Ressourcen-Schema",id:"logto-api-resource-schema",level:2},{value:"Standard-API",id:"default-api",level:2},{value:"Registriere die API-Ressourcen in Logto",id:"register-the-api-resources-in-logto",level:2},{value:"Verwandte Ressourcen",id:"related-resources",level:2}];function a(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{CloudLink:r,Url:s}=n;return r||h("CloudLink",!0),s||h("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"api-ressourcen",children:"API-Ressourcen"})}),"\n",(0,i.jsxs)(n.p,{children:["API-Ressourcen, auch bekannt als ",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Ressourcenindikatoren"}),", geben die Zielservices oder -ressourcen an, die angefordert werden sollen, in der Regel eine URI-Formatvariable, die die Identit\xe4t der Ressource darstellt. Dies ist ein Schl\xfcsselkonzept im Logto-Autorisierungssystem, da es den Endpunkt definiert, den die Autorisierungsrichtlinie sch\xfctzen soll."]}),"\n",(0,i.jsx)(n.h2,{id:"resource-indicator",children:"Ressourcenindikator"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Ein Ressourcenwert gibt den Zielservice oder die Ressource an, auf die zugegriffen werden soll."}),"\n",(0,i.jsxs)(n.li,{children:["Sein Wert ",(0,i.jsx)(n.strong,{children:"MUSS"})," eine absolute URI sein."]}),"\n",(0,i.jsxs)(n.li,{children:["Die URI ",(0,i.jsx)(n.strong,{children:"DARF KEINE"})," Fragmentkomponente enthalten."]}),"\n",(0,i.jsxs)(n.li,{children:["Sie ",(0,i.jsx)(n.strong,{children:"SOLLTE KEINE"})," Abfragekomponente enthalten."]}),"\n",(0,i.jsxs)(n.li,{children:["Du ",(0,i.jsx)(n.strong,{children:"SOLLTES"})," die spezifischste URI bereitstellen, die es f\xfcr die vollst\xe4ndige API oder die Menge der Ressourcen, auf die zugegriffen werden soll, geben kann."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"In der Praxis kann ein Client eine Basis-URI oder die Anwendung oder Ressource kennen, mit der interagiert werden soll. Es w\xe4re angemessen, diese als Wert des Ressourcenparameters zu verwenden."}),"\n",(0,i.jsx)(n.p,{children:"Zum Beispiel die Basis-URI der Logto Management API."}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"https://tenantId.logto.app/api\n"})}),"\n",(0,i.jsxs)(n.p,{children:["Standardm\xe4\xdfig ist diese API-Ressource in deinem Logto-Dienst vorregistriert. Alle ",(0,i.jsx)(n.a,{href:"https://openapi.logto.io/",children:"Management API"})," unter dieser URI sind durch Logto gesch\xfctzt."]}),"\n",(0,i.jsx)(n.h2,{id:"logto-api-resource-schema",children:"Logto API-Ressourcen-Schema"}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Eigenschaftsname"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Eigenschaftsbeschreibung"})}),(0,i.jsx)(n.th,{children:(0,i.jsx)(n.strong,{children:"Erforderlich"})})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"API-Name"}),(0,i.jsx)(n.td,{children:"Ein benutzerfreundlicher Name, der dir helfen kann, die API-Ressource zu identifizieren."}),(0,i.jsx)(n.td,{children:"true"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"API-Identifier"}),(0,i.jsxs)(n.td,{children:["Der eindeutige API-",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"Ressourcenindikator"}),"-Wert, mit den oben aufgef\xfchrten Einschr\xe4nkungen."]}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Logto wird ihn verwenden, um die angeforderte API-Ressource zu identifizieren und die Autorisierungstoken entsprechend zu gew\xe4hren."}),(0,i.jsx)(n.td,{children:"true"}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsxs)(n.td,{children:["Token-Ablaufzeit ",(0,i.jsx)(n.em,{children:"(in Sekunden)"})]}),(0,i.jsxs)(n.td,{children:["Die festgelegte Ablaufzeit f\xfcr ",(0,i.jsx)(n.code,{children:"Zugangstoken"}),". Der Standardablaufwert ist ",(0,i.jsx)(n.strong,{children:"3600"}),"."]}),(0,i.jsx)(n.td,{children:"false"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Standard-API"}),(0,i.jsx)(n.td,{children:"Pro Mandant kann nur null oder eine Standard-API festgelegt werden."}),(0,i.jsx)(n.td,{})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"Wenn eine Standard-API festgelegt ist, kann der Ressourcenparameter in der Authentifizierungsanfrage weggelassen werden. Nachfolgende Token-Austausche verwenden standardm\xe4\xdfig diese API als Zielgruppe, was zur Ausgabe von JWTs f\xfchrt."}),(0,i.jsx)(n.td,{children:"false"}),(0,i.jsx)(n.td,{})]})]})]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["Anfragen mit einem abgelaufenen ",(0,i.jsx)(n.code,{children:"Zugangstoken"})," sollten eingeschr\xe4nkt werden. Dies wird implementiert, um deine API vor einem missbrauchten Token zu sch\xfctzen. Je gr\xf6\xdfer der Wert ist, desto l\xe4nger \xfcberlebt ein ausgegebenes ",(0,i.jsx)(n.code,{children:"Zugangstoken"}),", und desto anf\xe4lliger wird deine API."]})}),"\n",(0,i.jsx)(n.h2,{id:"default-api",children:"Standard-API"}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsx)(n.p,{children:"Diese Funktion ist haupts\xe4chlich f\xfcr Anwendungen gedacht, die OIDC-Ressourcenindikatoren NICHT unterst\xfctzen, z. B. ChatGPT-Plugins."})}),"\n",(0,i.jsxs)(n.p,{children:["Logto nutzt ",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707",children:"RFC 8707: Ressourcenindikatoren f\xfcr OAuth 2.0"}),", um rollenbasierte Zugangskontrolle (RBAC) zu implementieren. Obwohl es eines der Merkmale von OAuth 2.0 ist, wird es noch nicht weit verbreitet unterst\xfctzt."]}),"\n",(0,i.jsxs)(n.p,{children:["In der Implementierung von Logto muss jede benutzerdefinierte Berechtigung (Scope) mit einer API-Ressource verkn\xfcpft sein. Andernfalls wird sie als OpenID Connect (oder OAuth) Berechtigung behandelt. Im Allgemeinen beeinflusst dies deinen Autorisierungsprozess nicht. Wenn du jedoch mit Drittanbieter-Apps integrierst, die keine Unterst\xfctzung f\xfcr ",(0,i.jsx)(n.a,{href:"https://www.rfc-editor.org/rfc/rfc8707.html",children:"RFC 8707"})," bieten (z. B. ChatGPT-Plugins), kann es zu Herausforderungen kommen, da die anf\xe4ngliche Autorisierungsanfrage m\xf6glicherweise keinen ",(0,i.jsx)(n.code,{children:"resource"}),"-Parameter enth\xe4lt. Folglich wird Logto immer Opake Zugangstokens ausstellen."]}),"\n",(0,i.jsx)(n.p,{children:"Um dieses Problem zu l\xf6sen, kannst du eine API-Ressource als standardm\xe4\xdfige Ressource auf Mandantenebene festlegen. Sobald dies geschehen ist:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Logto wird die Standard-API-Ressource verwenden, wenn kein ",(0,i.jsx)(n.code,{children:"resource"}),"-Parameter in der ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AuthRequest",children:"Authentifizierungsanfrage"})," vorhanden ist."]}),"\n",(0,i.jsxs)(n.li,{children:["Wenn der ",(0,i.jsx)(n.code,{children:"openid"}),"-Scope enthalten ist, wird ein Opakes Zugangstoken f\xfcr den ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"Userinfo-Endpunkt"})," ausgestellt, wenn kein ",(0,i.jsx)(n.code,{children:"resource"}),"-Parameter in nachfolgenden ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest",children:"Token-Anfragen"})," vorhanden ist."]}),"\n",(0,i.jsxs)(n.li,{children:["Wenn der ",(0,i.jsx)(n.code,{children:"openid"}),"-Scope nicht enthalten ist, wird ein JWT-Zugangstoken f\xfcr die Standard-API-Ressource ausgestellt, wenn kein ",(0,i.jsx)(n.code,{children:"resource"}),"-Parameter in nachfolgenden ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#TokenRequest",children:"Token-Anfragen"})," vorhanden ist."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Durch die Festlegung einer Standard-API-Ressource kannst du eine reibungslose Integration mit Apps sicherstellen, die keine RFC 8707-Unterst\xfctzung bieten, w\xe4hrend du die entsprechenden Zugangskontrollen beibeh\xe4ltst."}),"\n",(0,i.jsx)(n.h2,{id:"register-the-api-resources-in-logto",children:"Registriere die API-Ressourcen in Logto"}),"\n",(0,i.jsxs)(n.p,{children:["Um ein zielgruppenbeschr\xe4nktes ",(0,i.jsx)(n.code,{children:"Zugangstoken"})," von Logto zu erhalten, registriere zuerst deine Backend-APIs, um die zielgruppenbeschr\xe4nkten Zugangstokens von Logto zu aktivieren. Wenn eine Autorisierungsanfrage eingeht, wird Logto die registrierten API-Ressourcen identifizieren und den Zugang entsprechend gew\xe4hren."]}),"\n",(0,i.jsxs)(n.p,{children:["Um deine APIs zu registrieren, navigiere zu ",(0,i.jsx)(r,{to:"/api-resources",children:"Console > API-Ressourcen"}),". Du wirst eine eingebaute Ressource mit dem API-Identifier angezeigt sehen als ",(0,i.jsx)(n.code,{children:"https://[your-tenant-id].logto.app/api"}),". Diese Ressource umfasst alle Management-APIs von Logto und stellt sicher, dass sie gesch\xfctzt und nur f\xfcr autorisierte Benutzer von Logto zug\xe4nglich sind."]}),"\n",(0,i.jsxs)(n.p,{children:["Klicke auf die Schaltfl\xe4che ",(0,i.jsx)(n.strong,{children:"API-Ressource erstellen"})," und folge dem interaktiven Formular, um deine eigenen API-Ressourcen zu erstellen:"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Ein menschenlesbarer ",(0,i.jsx)(n.strong,{children:"API-Name"}),", der dir besser helfen kann, diese Entit\xe4t zu identifizieren."]}),"\n",(0,i.jsxs)(n.li,{children:["Ein eindeutiger ",(0,i.jsx)(n.strong,{children:"API-Identifier"})," im URI-Format. Er repr\xe4sentiert die Identit\xe4t der API-Ressource."]}),"\n"]}),"\n",(0,i.jsx)(n.p,{children:"Die neue API wird in der Liste angezeigt, sobald sie erstellt wurde. Du kannst sie auf der API-Detailseite verwalten oder l\xf6schen, indem du auf die Entit\xe4t klickst."}),"\n",(0,i.jsx)(n.h2,{id:"related-resources",children:"Verwandte Ressourcen"}),"\n",(0,i.jsx)(s,{href:"https://blog.logto.io/opaque-token-vs-jwt",children:"Opaker Token vs JWT"}),"\n",(0,i.jsx)(s,{href:"https://blog.logto.io/when-should-i-use-jwts",children:"Wann sollte ich JWTs verwenden?"}),"\n",(0,i.jsx)(s,{href:"https://blog.logto.io/api-authorization-methods",children:"API-Autorisierungsmethoden"})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}function h(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,r)=>{r.d(n,{R:()=>d,x:()=>o});var s=r(58101);const i={},t=s.createContext(i);function d(e){const n=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:d(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);