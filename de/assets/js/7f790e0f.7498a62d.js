"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[255],{65674:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>d,default:()=>u,frontMatter:()=>l,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"developers/signing-keys","title":"Signaturschl\xfcssel","description":"Logto OIDC-Signaturschl\xfcssel, auch bekannt als \\"OIDC-Private Keys\\" und \\"OIDC-Cookie-Keys\\", sind die Signaturschl\xfcssel, die verwendet werden, um JWTs (Zugangstokens und ID-Tokens) sowie Browser-Cookies in Logto Anmeldesitzungen zu signieren. Diese Signaturschl\xfcssel werden beim Initialisieren der Logto-Datenbank (Open-Source) oder beim Erstellen eines neuen Mandanten (Cloud) generiert und k\xf6nnen \xfcber die CLI (Open-Source), Management APIs oder die Console UI verwaltet werden.","source":"@site/i18n/de/docusaurus-plugin-content-docs/current/developers/signing-keys.mdx","sourceDirName":"developers","slug":"/developers/signing-keys","permalink":"/de/developers/signing-keys","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/de/docusaurus-plugin-content-docs/current/developers/signing-keys.mdx","tags":[],"version":"current","sidebarPosition":4,"frontMatter":{"id":"signing-keys","title":"Signaturschl\xfcssel","sidebar_label":"Signaturschl\xfcssel","sidebar_position":4},"sidebar":"docsSidebar","previous":{"title":"Benutzermimikry","permalink":"/de/developers/user-impersonation"},"next":{"title":"Webhooks","permalink":"/de/developers/webhooks/"}}');var r=s(25105),t=s(79621);const l={id:"signing-keys",title:"Signaturschl\xfcssel",sidebar_label:"Signaturschl\xfcssel",sidebar_position:4},d="Signaturschl\xfcssel",o={},a=[{value:"Wie funktioniert das?",id:"how-it-works",level:2},{value:"Signaturschl\xfcssel \xfcber die Console UI rotieren",id:"rotate-signing-keys-from-console-ui",level:2},{value:"Verwandte Ressourcen",id:"related-resources",level:2}];function h(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components},{CloudLink:s,Url:i}=n;return s||c("CloudLink",!0),i||c("Url",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"signaturschl\xfcssel",children:"Signaturschl\xfcssel"})}),"\n",(0,r.jsxs)(n.p,{children:["Logto ",(0,r.jsx)(n.a,{href:"https://auth.wiki/signing-key",children:"OIDC-Signaturschl\xfcssel"}),', auch bekannt als "OIDC-Private Keys" und "OIDC-Cookie-Keys", sind die Signaturschl\xfcssel, die verwendet werden, um JWTs (',(0,r.jsx)(n.a,{href:"https://auth.wiki/access-token",children:"Zugangstokens"})," und ",(0,r.jsx)(n.a,{href:"https://auth.wiki/id-token",children:"ID-Tokens"}),") sowie Browser-Cookies in Logto ",(0,r.jsx)(n.a,{href:"/end-user-flows/sign-out#sign-in-session",children:"Anmeldesitzungen"})," zu signieren. Diese Signaturschl\xfcssel werden beim Initialisieren der Logto-Datenbank (",(0,r.jsx)(n.a,{href:"/logto-oss",children:"Open-Source"}),") oder beim Erstellen eines neuen Mandanten (",(0,r.jsx)(n.a,{href:"/logto-cloud",children:"Cloud"}),") generiert und k\xf6nnen \xfcber die ",(0,r.jsx)(n.a,{href:"/logto-oss/using-cli",children:"CLI"})," (Open-Source), Management APIs oder die Console UI verwaltet werden."]}),"\n",(0,r.jsx)(n.p,{children:"Standardm\xe4\xdfig verwendet Logto den Elliptische-Kurven-Algorithmus (EC), um digitale Signaturen zu erzeugen. Da Benutzer jedoch h\xe4ufig JWT-Signaturen \xfcberpr\xfcfen m\xfcssen und viele \xe4ltere Tools den EC-Algorithmus nicht unterst\xfctzen (sondern nur RSA), haben wir die M\xf6glichkeit implementiert, private Schl\xfcssel zu rotieren und den Signaturalgorithmus auszuw\xe4hlen (einschlie\xdflich sowohl RSA als auch EC). Dies stellt die Kompatibilit\xe4t mit Diensten sicher, die veraltete Signatur\xfcberpr\xfcfungstools verwenden."}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"Theoretisch sollten Signaturschl\xfcssel nicht kompromittiert werden und haben keine Ablaufzeit, was bedeutet, dass sie nicht rotiert werden m\xfcssen. Dennoch kann das regelm\xe4\xdfige Rotieren des Signaturschl\xfcssels nach einer bestimmten Zeit die Sicherheit erh\xf6hen."})}),"\n",(0,r.jsx)(n.h2,{id:"how-it-works",children:"Wie funktioniert das?"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OIDC-Private Key"}),"\nBeim Initialisieren einer Logto-Instanz wird automatisch ein Schl\xfcsselpaar aus \xf6ffentlichem und privatem Schl\xfcssel generiert und im zugrunde liegenden OIDC-Provider registriert. Wenn Logto ein neues JWT (Zugangstoken oder ID-Token) ausstellt, wird das Token mit dem privaten Schl\xfcssel signiert. Gleichzeitig kann jede Client-Anwendung, die ein JWT erh\xe4lt, den zugeh\xf6rigen \xf6ffentlichen Schl\xfcssel verwenden, um die Signatur des Tokens zu \xfcberpr\xfcfen und sicherzustellen, dass das Token nicht von Dritten manipuliert wurde. Der private Schl\xfcssel ist auf dem Logto-Server gesch\xfctzt. Der \xf6ffentliche Schl\xfcssel hingegen ist, wie der Name schon sagt, f\xfcr jeden zug\xe4nglich und kann \xfcber die ",(0,r.jsx)(n.code,{children:"/oidc/jwks"}),"-Schnittstelle des OIDC-Endpunkts abgerufen werden. Ein Signaturschl\xfcssel-Algorithmus kann beim Generieren des privaten Schl\xfcssels angegeben werden, und Logto verwendet standardm\xe4\xdfig den EC (Elliptische Kurve) Algorithmus. Die Administratoren k\xf6nnen den Standardalgorithmus durch Rotieren der privaten Schl\xfcssel auf RSA (Rivest-Shamir-Adleman) \xe4ndern."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"OIDC-Cookie-Key"}),'\nWenn ein Benutzer einen Anmelde- oder Registrierungsprozess startet, wird auf dem Server eine "OIDC-Sitzung" sowie eine Reihe von Browser-Cookies erstellt. Mit diesen Cookies kann der Browser die Logto Experience API nutzen, um im Namen des Benutzers eine Reihe von Interaktionen durchzuf\xfchren, wie z. B. Anmeldung, Registrierung und Passwort zur\xfccksetzen. Im Gegensatz zu JWTs werden die Cookies jedoch nur von Logto OIDC selbst signiert und \xfcberpr\xfcft, asymmetrische Kryptografie ist nicht erforderlich. Daher gibt es keine zugeh\xf6rigen \xf6ffentlichen Schl\xfcssel f\xfcr Cookie-Signaturschl\xfcssel und auch keine asymmetrischen Verschl\xfcsselungsalgorithmen.']}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"rotate-signing-keys-from-console-ui",children:"Signaturschl\xfcssel \xfcber die Console UI rotieren"}),"\n",(0,r.jsx)(n.p,{children:'Logto bietet die Funktion "Signaturschl\xfcssel-Rotation", mit der du einen neuen OIDC-Private Key und Cookie-Key in deinem Mandanten erstellen kannst.'}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsxs)(n.p,{children:["Navigiere zu ",(0,r.jsx)(s,{to:"/signing-keys",children:"Console > Signaturschl\xfcssel"}),". Dort kannst du sowohl OIDC-Private Keys als auch OIDC-Cookie-Keys verwalten."]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:'Um den Signaturschl\xfcssel zu rotieren, klicke auf die Schaltfl\xe4che "Private Keys rotieren" oder "Cookie Keys rotieren". Beim Rotieren der privaten Schl\xfcssel hast du die M\xf6glichkeit, den Signaturalgorithmus zu \xe4ndern.'}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:"Du findest eine Tabelle, die alle verwendeten Signaturschl\xfcssel auflistet. Hinweis: Du kannst den vorherigen Schl\xfcssel l\xf6schen, aber nicht den aktuellen."}),"\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Status"}),(0,r.jsx)(n.th,{children:"Beschreibung"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Aktuell"}),(0,r.jsx)(n.td,{children:"Dies zeigt an, dass dieser Schl\xfcssel derzeit aktiv in deinen Anwendungen und APIs verwendet wird."})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:"Vorherig"}),(0,r.jsx)(n.td,{children:"Bezieht sich auf einen Schl\xfcssel, der zuvor verwendet wurde, aber rotiert wurde. Bestehende Tokens mit diesem Schl\xfcssel bleiben g\xfcltig."})]})]})]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Bitte beachte, dass die Rotation die folgenden drei Aktionen umfasst:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Erstellen eines neuen Signaturschl\xfcssels"}),": Dadurch m\xfcssen alle deine ",(0,r.jsx)(n.strong,{children:"Anwendungen"})," und ",(0,r.jsx)(n.strong,{children:"APIs"})," den neuen Signaturschl\xfcssel \xfcbernehmen."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Rotation des aktuellen Schl\xfcssels"}),': Der bestehende Schl\xfcssel wird nach der Rotation als "vorherig" gekennzeichnet und nicht mehr von neu erstellten Anwendungen und APIs verwendet. Tokens, die mit diesem Schl\xfcssel signiert wurden, bleiben jedoch weiterhin g\xfcltig.']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Entfernen des vorherigen Schl\xfcssels"}),': Schl\xfcssel mit der Kennzeichnung "vorherig" werden widerrufen und aus der Tabelle entfernt.']}),"\n"]}),"\n",(0,r.jsxs)(n.admonition,{type:"warning",children:[(0,r.jsx)(n.p,{children:"Rotiere niemals Signaturschl\xfcssel hintereinander (zwei- oder mehrmals), da dies ALLE ausgestellten Tokens ung\xfcltig machen kann."}),(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"F\xfcr OSS-Nutzer ist nach dem Rotieren des Signaturschl\xfcssels ein Neustart der Logto-Instanz erforderlich, damit der neue Signaturschl\xfcssel wirksam wird."}),"\n",(0,r.jsx)(n.li,{children:"F\xfcr Cloud-Nutzer wird der neue Signaturschl\xfcssel unmittelbar nach der Rotation wirksam, aber stelle sicher, dass du den Signaturschl\xfcssel nicht mehrfach hintereinander rotierst."}),"\n"]})]}),"\n",(0,r.jsx)(n.h2,{id:"related-resources",children:"Verwandte Ressourcen"}),"\n",(0,r.jsx)(i,{href:"hhttps://blog.logto.io/introduction-to-ec-and-rsa-signing-algorithms-in-jwt",children:(0,r.jsx)(n.p,{children:"Einf\xfchrung in EC- und RSA-Signaturalgorithmen in JWT"})})]})}function u(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}function c(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},79621:(e,n,s)=>{s.d(n,{R:()=>l,x:()=>d});var i=s(58101);const r={},t=i.createContext(r);function l(e){const n=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:n},e.children)}}}]);