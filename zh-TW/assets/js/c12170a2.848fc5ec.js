"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[216],{53481:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>s});var i=r(25105),t=r(79621);const s=[];function o(e){const n={p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(n.p,{children:["\u4f60\u53ef\u80fd\u6703\u767c\u73fe\u5f9e ",(0,i.jsx)("code",{children:e.method})," \u8fd4\u56de\u7684\u7269\u4ef6\u4e2d\u7f3a\u5c11\u4e00\u4e9b\u4f7f\u7528\u8005\u8cc7\u8a0a\u3002\u9019\u662f\u56e0\u70ba OAuth 2.0 \u548c OpenID Connect (OIDC) \u7684\u8a2d\u8a08\u9075\u5faa\u6700\u5c0f\u6b0a\u9650\u539f\u5247 (PoLP, Principle of Least Privilege)\uff0c\u800c Logto \u662f\u57fa\u65bc\u9019\u4e9b\u6a19\u6e96\u69cb\u5efa\u7684\u3002"]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},1758:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>s});var i=r(25105),t=r(79621);const s=[];function o(e){const{Url:n}={...(0,t.R)(),...e.components};return n||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Url",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n,{href:"/end-user-flows",children:" \u7d42\u7aef\u4f7f\u7528\u8005\u6d41\u7a0b\uff1a\u9a57\u8b49\u6d41\u7a0b\u3001\u5e33\u865f\u6d41\u7a0b\u8207\u7d44\u7e54\u6d41\u7a0b (End-user flows: authentication flows, account flows, and organization flows) "}),"\n",(0,i.jsx)(n,{href:"/connectors",children:" \u8a2d\u5b9a\u9023\u63a5\u5668 (Configure connectors) "}),"\n",(0,i.jsx)(n,{href:"/authorization",children:" \u6388\u6b0a (Authorization) "})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},40878:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>s});var i=r(25105),t=r(79621);const s=[{value:"\u95dc\u65bc\u57fa\u65bc\u91cd\u5c0e\u7684\u767b\u5165",id:"regarding-redirect-based-sign-in",level:3}];function o(e){const n={a:"a",h3:"h3",li:"li",ol:"ol",p:"p",...(0,t.R)(),...e.components},{Details:r,MainSiteUrl:s}=n;return r||d("Details",!0),s||d("MainSiteUrl",!0),(0,i.jsxs)(r,{children:[(0,i.jsx)("summary",{children:(0,i.jsx)(n.h3,{id:"regarding-redirect-based-sign-in",children:"\u95dc\u65bc\u57fa\u65bc\u91cd\u5c0e\u7684\u767b\u5165"})}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["\u6b64\u9a57\u8b49\u6d41\u7a0b\u9075\u5faa ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html",children:"OpenID Connect (OIDC)"})," \u5354\u8b70\uff0cLogto \u5f37\u5236\u57f7\u884c\u56b4\u683c\u7684\u5b89\u5168\u63aa\u65bd\u4ee5\u4fdd\u8b77\u4f7f\u7528\u8005\u767b\u5165\u3002"]}),"\n",(0,i.jsx)(n.li,{children:"\u5982\u679c\u4f60\u6709\u591a\u500b\u61c9\u7528\u7a0b\u5f0f\uff0c\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u8eab\u5206\u63d0\u4f9b\u8005 (IdP, Identity provider)\uff08Logto\uff09\u3002\u4e00\u65e6\u4f7f\u7528\u8005\u767b\u5165\u5176\u4e2d\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\uff0cLogto \u5c07\u5728\u4f7f\u7528\u8005\u8a2a\u554f\u53e6\u4e00\u500b\u61c9\u7528\u7a0b\u5f0f\u6642\u81ea\u52d5\u5b8c\u6210\u767b\u5165\u6d41\u7a0b\u3002"}),"\n"]}),(0,i.jsxs)(n.p,{children:["\u6b32\u4e86\u89e3\u66f4\u591a\u95dc\u65bc\u57fa\u65bc\u91cd\u5c0e\u767b\u5165\u7684\u539f\u7406\u548c\u512a\u52e2\uff0c\u8acb\u53c3\u95b1 ",(0,i.jsx)(s,{href:"/concepts/sign-in-experience",children:"Logto \u767b\u5165\u9ad4\u9a57\u89e3\u6790"}),"\u3002"]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}function d(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},51626:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>s});var i=r(25105),t=r(79621);const s=[];function o(e){const n={a:"a",admonition:"admonition",code:"code",hr:"hr",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u652f\u63f4\u7684\u6b0a\u9650\u7bc4\u570d (Scopes) \u53ca\u5176\u5c0d\u61c9\u7684\u5ba3\u544a (Claims)\uff1a"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"openid"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sub"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u552f\u4e00\u8b58\u5225\u7b26"}),(0,i.jsx)(n.td,{children:"\u5426"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"profile"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"name"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u5168\u540d"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"username"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u7528\u6236\u540d"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"picture"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u500b\u4eba\u8cc7\u6599\u5716\u7247\u7684 URL\u3002\u6b64 URL \u5fc5\u9808\u6307\u5411\u5716\u50cf\u6587\u4ef6\uff08\u4f8b\u5982 PNG\u3001JPEG \u6216 GIF \u5716\u50cf\u6587\u4ef6\uff09\uff0c\u800c\u4e0d\u662f\u5305\u542b\u5716\u50cf\u7684\u7db2\u9801\u3002\u8acb\u6ce8\u610f\uff0c\u6b64 URL \u61c9\u7279\u5225\u53c3\u8003\u9069\u5408\u5728\u63cf\u8ff0\u4f7f\u7528\u8005\u6642\u986f\u793a\u7684\u500b\u4eba\u8cc7\u6599\u7167\u7247\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u8005\u62cd\u651d\u7684\u4efb\u610f\u7167\u7247\u3002"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"created_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u5275\u5efa\u7684\u6642\u9593\u3002\u6642\u9593\u4ee5\u81ea Unix epoch\uff081970-01-01T00:00:00Z\uff09\u4ee5\u4f86\u7684\u6beb\u79d2\u6578\u8868\u793a\u3002"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"updated_at"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"number"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u8cc7\u8a0a\u6700\u5f8c\u66f4\u65b0\u7684\u6642\u9593\u3002\u6642\u9593\u4ee5\u81ea Unix epoch\uff081970-01-01T00:00:00Z\uff09\u4ee5\u4f86\u7684\u6beb\u79d2\u6578\u8868\u793a\u3002"}),(0,i.jsx)(n.td,{children:"\u5426"})]})]})]}),"\n",(0,i.jsxs)(n.p,{children:["\u5176\u4ed6 ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#StandardClaims",children:"\u6a19\u6e96\u5ba3\u544a"})," \u5305\u62ec ",(0,i.jsx)(n.code,{children:"family_name"}),"\u3001",(0,i.jsx)(n.code,{children:"given_name"}),"\u3001",(0,i.jsx)(n.code,{children:"middle_name"}),"\u3001",(0,i.jsx)(n.code,{children:"nickname"}),"\u3001",(0,i.jsx)(n.code,{children:"preferred_username"}),"\u3001",(0,i.jsx)(n.code,{children:"profile"}),"\u3001",(0,i.jsx)(n.code,{children:"website"}),"\u3001",(0,i.jsx)(n.code,{children:"gender"}),"\u3001",(0,i.jsx)(n.code,{children:"birthdate"}),"\u3001",(0,i.jsx)(n.code,{children:"zoneinfo"})," \u548c ",(0,i.jsx)(n.code,{children:"locale"})," \u4e5f\u5c07\u5305\u542b\u5728 ",(0,i.jsx)(n.code,{children:"profile"})," \u6b0a\u9650\u7bc4\u570d\u4e2d\uff0c\u7121\u9700\u8acb\u6c42\u4f7f\u7528\u8005\u8cc7\u8a0a\u7aef\u9ede\u3002\u8207\u4e0a\u8ff0\u5ba3\u544a\u7684\u4e0d\u540c\u4e4b\u8655\u5728\u65bc\uff0c\u9019\u4e9b\u5ba3\u544a\u50c5\u5728\u5176\u503c\u4e0d\u70ba\u7a7a\u6642\u8fd4\u56de\uff0c\u800c\u4e0a\u8ff0\u5ba3\u544a\u5728\u503c\u70ba\u7a7a\u6642\u5c07\u8fd4\u56de ",(0,i.jsx)(n.code,{children:"null"}),"\u3002"]}),"\n",(0,i.jsx)(n.admonition,{type:"note",children:(0,i.jsxs)(n.p,{children:["\u8207\u6a19\u6e96\u5ba3\u544a\u4e0d\u540c\uff0c",(0,i.jsx)(n.code,{children:"created_at"})," \u548c ",(0,i.jsx)(n.code,{children:"updated_at"})," \u5ba3\u544a\u4f7f\u7528\u6beb\u79d2\u800c\u975e\u79d2\u3002"]})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"email"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u96fb\u5b50\u90f5\u4ef6\u5730\u5740"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"email_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"\u96fb\u5b50\u90f5\u4ef6\u5730\u5740\u662f\u5426\u5df2\u9a57\u8b49"}),(0,i.jsx)(n.td,{children:"\u5426"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"phone"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u96fb\u8a71\u865f\u78bc"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"phone_number_verified"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"boolean"})}),(0,i.jsx)(n.td,{children:"\u96fb\u8a71\u865f\u78bc\u662f\u5426\u5df2\u9a57\u8b49"}),(0,i.jsx)(n.td,{children:"\u5426"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"address"})})}),"\n",(0,i.jsxs)(n.p,{children:["\u8acb\u53c3\u95b1 ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#AddressClaim",children:"OpenID Connect Core 1.0"})," \u4ee5\u7372\u53d6\u5730\u5740\u5ba3\u544a\u7684\u8a73\u7d30\u8cc7\u8a0a\u3002"]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"custom_data"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"custom_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u81ea\u8a02\u8cc7\u6599"}),(0,i.jsx)(n.td,{children:"\u662f"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"identities"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u9023\u7d50\u8eab\u5206"}),(0,i.jsx)(n.td,{children:"\u662f"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"sso_identities"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"array"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u9023\u7d50 SSO \u8eab\u5206"}),(0,i.jsx)(n.td,{children:"\u662f"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u7684\u89d2\u8272"}),(0,i.jsx)(n.td,{children:"\u5426"})]})})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organizations"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organizations"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u6240\u5c6c\u7684\u7d44\u7e54 ID"}),(0,i.jsx)(n.td,{children:"\u5426"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_data"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"object[]"})}),(0,i.jsx)(n.td,{children:"\u4f7f\u7528\u8005\u6240\u5c6c\u7684\u7d44\u7e54\u8cc7\u6599"}),(0,i.jsx)(n.td,{children:"\u662f"})]})]})]}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.code,{children:"urn:logto:scope:organization_roles"})})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"\u5ba3\u544a\u540d\u7a31"}),(0,i.jsx)(n.th,{children:"\u985e\u578b"}),(0,i.jsx)(n.th,{children:"\u63cf\u8ff0"}),(0,i.jsx)(n.th,{children:"\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f"})]})}),(0,i.jsx)(n.tbody,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:"organization_roles"}),(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"string[]"})}),(0,i.jsxs)(n.td,{children:["\u4f7f\u7528\u8005\u6240\u5c6c\u7684\u7d44\u7e54\u89d2\u8272\uff0c\u683c\u5f0f\u70ba ",(0,i.jsx)(n.code,{children:"<organization_id>:<role_name>"})]}),(0,i.jsx)(n.td,{children:"\u5426"})]})})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.p,{children:["\u8003\u616e\u5230\u6548\u80fd\u548c\u8cc7\u6599\u5927\u5c0f\uff0c\u5982\u679c\u300c\u9700\u8981\u4f7f\u7528\u8005\u8cc7\u8a0a\u55ce\uff1f\u300d\u70ba\u300c\u662f\u300d\uff0c\u5247\u8868\u793a\u8a72\u5ba3\u544a\u4e0d\u6703\u986f\u793a\u5728 ID \u6b0a\u6756\u4e2d\uff0c\u800c\u6703\u5728 ",(0,i.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"\u4f7f\u7528\u8005\u8cc7\u8a0a\u7aef\u9ede"})," \u56de\u61c9\u4e2d\u8fd4\u56de\u3002"]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},2158:(e,n,r)=>{r.d(n,{Ay:()=>c,RM:()=>s});var i=r(25105),t=r(79621);const s=[];function o(e){const n={admonition:"admonition",code:"code",mermaid:"mermaid",p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0c\u50c5\u8fd4\u56de\u6709\u9650\u7684\u5ba3\u544a (Claims)\u3002\u5982\u679c\u4f60\u9700\u8981\u66f4\u591a\u8cc7\u8a0a\uff0c\u53ef\u4ee5\u8acb\u6c42\u984d\u5916\u7684\u6b0a\u9650\u7bc4\u570d (Scopes) \u4ee5\u5b58\u53d6\u66f4\u591a\u5ba3\u544a\u3002"}),"\n",(0,i.jsx)(n.admonition,{type:"info",children:(0,i.jsx)(n.p,{children:"\u300c\u5ba3\u544a (Claim)\u300d\u662f\u5c0d\u4e3b\u9ad4\u6240\u505a\u7684\u65b7\u8a00\uff1b\u300c\u6b0a\u9650\u7bc4\u570d (Scope)\u300d\u662f\u4e00\u7d44\u5ba3\u544a\u3002\u5728\u76ee\u524d\u7684\u60c5\u6cc1\u4e0b\uff0c\u5ba3\u544a\u662f\u95dc\u65bc\u4f7f\u7528\u8005\u7684\u4e00\u90e8\u5206\u8cc7\u8a0a\u3002"})}),"\n",(0,i.jsx)(n.p,{children:"\u4ee5\u4e0b\u662f\u6b0a\u9650\u7bc4\u570d\u8207\u5ba3\u544a\u95dc\u4fc2\u7684\u975e\u898f\u7bc4\u6027\u7bc4\u4f8b\uff1a"}),"\n",(0,i.jsx)(n.mermaid,{value:"classDiagram\n  class openid {\n    +sub\n  }\n\n  class profile {\n    +name\n    +username\n    +picture\n    +...\n  }\n\n  class email {\n    +email\n    +email_verified\n  }\n\n  class phone {\n    +phone_number\n    +phone_number_verified\n  }"}),"\n",(0,i.jsx)(n.admonition,{type:"tip",children:(0,i.jsx)(n.p,{children:"\u300csub\u300d\u5ba3\u544a\u8868\u793a\u300c\u4e3b\u9ad4 (Subject)\u300d\uff0c\u5373\u4f7f\u7528\u8005\u7684\u552f\u4e00\u8b58\u5225\u7b26\uff08\u4f8b\u5982\u4f7f\u7528\u8005 ID\uff09\u3002"})}),"\n",(0,i.jsxs)(n.p,{children:["Logto SDK \u5c07\u59cb\u7d42\u8acb\u6c42\u4e09\u500b\u6b0a\u9650\u7bc4\u570d\uff1a",(0,i.jsx)(n.code,{children:"openid"}),"\u3001",(0,i.jsx)(n.code,{children:"profile"})," \u548c ",(0,i.jsx)(n.code,{children:"offline_access"}),"\u3002"]})]})}function c(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(o,{...e})}):o(e)}},20966:(e,n,r)=>{r.d(n,{Ay:()=>l,Ip:()=>s,RM:()=>c,YF:()=>o});var i=r(25105),t=r(79621);const s="http://localhost:3000/",o=`${s}callback`,c=[{value:"\u914d\u7f6e\u91cd\u5b9a\u5411 URI",id:"configure-redirect-uris",level:4}];function d(e){const n={h4:"h4",p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:["\n","\n",(0,i.jsx)(n.h4,{id:"configure-redirect-uris",children:"\u914d\u7f6e\u91cd\u5b9a\u5411 URI"}),"\n",(0,i.jsxs)(n.p,{children:["\u5207\u63db\u5230 Logto Console \u7684\u61c9\u7528\u7a0b\u5f0f\u8a73\u7d30\u8cc7\u8a0a\u9801\u9762\u3002\u65b0\u589e\u4e00\u500b\u91cd\u5b9a\u5411 URI ",(0,i.jsx)("code",{children:e.redirectUri??"http://localhost:3000/callback"}),"\u3002"]}),"\n",(0,i.jsx)("img",{alt:"Logto Console \u4e2d\u7684\u91cd\u5b9a\u5411 URI",src:"/img/assets/web-redirect-uri.png",width:"600px"}),"\n",(0,i.jsxs)(n.p,{children:["\u5c31\u50cf\u767b\u5165\u4e00\u6a23\uff0c\u4f7f\u7528\u8005\u61c9\u88ab\u91cd\u5b9a\u5411\u5230 Logto \u4ee5\u767b\u51fa\u5171\u4eab\u6703\u8a71\u3002\u5b8c\u6210\u5f8c\uff0c\u5c07\u4f7f\u7528\u8005\u91cd\u5b9a\u5411\u56de\u4f60\u7684\u7db2\u7ad9\u6703\u5f88\u4e0d\u932f\u3002\u4f8b\u5982\uff0c\u5c07 ",(0,i.jsx)("code",{children:s})," \u65b0\u589e\u70ba\u767b\u51fa\u5f8c\u91cd\u5b9a\u5411 URI \u5340\u6bb5\u3002"]}),"\n",(0,i.jsx)(n.p,{children:"\u7136\u5f8c\u9ede\u64ca\u300c\u5132\u5b58\u300d\u4ee5\u4fdd\u5b58\u66f4\u6539\u3002"})]})}function l(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},70668:(e,n,r)=>{r.d(n,{Ay:()=>d,RM:()=>o});var i=r(25105),t=r(79621),s=r(40878);const o=[...s.RM];function c(e){const n={hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.p,{children:"\u5728\u9032\u5165\u7d30\u7bc0\u4e4b\u524d\uff0c\u9019\u88e1\u5148\u5feb\u901f\u8aaa\u660e\u4e00\u4e0b\u7d42\u7aef\u4f7f\u7528\u8005\u7684\u9ad4\u9a57\u3002\u767b\u5165\u6d41\u7a0b\u53ef\u7c21\u5316\u5982\u4e0b\uff1a"}),"\n",(0,i.jsx)(n.mermaid,{value:"graph LR\n    A(\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f (Your app)) --\x3e|1\\. \u547c\u53eb\u767b\u5165 (Invoke sign-in)| B(Logto)\n    B --\x3e|2\\. \u5b8c\u6210\u767b\u5165 (Finish sign-in)| A"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\u547c\u53eb\u767b\u5165\u65b9\u6cd5\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528\u8005\u88ab\u91cd\u65b0\u5c0e\u5411\u81f3 Logto \u767b\u5165\u9801\u9762\u3002\u5c0d\u65bc\u539f\u751f\u61c9\u7528\u7a0b\u5f0f\uff0c\u6703\u958b\u555f\u7cfb\u7d71\u700f\u89bd\u5668\u3002"}),"\n",(0,i.jsx)(n.li,{children:"\u4f7f\u7528\u8005\u767b\u5165\u5f8c\uff0c\u6703\u88ab\u91cd\u65b0\u5c0e\u5411\u56de\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\uff08\u8a2d\u5b9a\u70ba redirect URI\uff09\u3002"}),"\n"]}),"\n",(0,i.jsx)(s.Ay,{}),"\n",(0,i.jsx)(n.hr,{})]})}function d(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},1832:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>m,contentTitle:()=>g,default:()=>v,frontMatter:()=>x,metadata:()=>i,toc:()=>f});const i=JSON.parse('{"id":"quick-starts/framework/java-spring-boot/README","title":"\u70ba\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u65b0\u589e\u9a57\u8b49 (Authentication)","description":"\u672c\u6307\u5357\u5c07\u5411\u4f60\u5c55\u793a\u5982\u4f55\u5c07 Logto \u6574\u5408\u5230\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u4e2d\u3002","source":"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/quick-starts/framework/java-spring-boot/README.mdx","sourceDirName":"quick-starts/framework/java-spring-boot","slug":"/quick-starts/java-spring-boot","permalink":"/zh-TW/quick-starts/java-spring-boot","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/zh-TW/docusaurus-plugin-content-docs/current/quick-starts/framework/java-spring-boot/README.mdx","tags":[],"version":"current","frontMatter":{"slug":"/quick-starts/java-spring-boot","sidebar_label":"Java Spring Boot","sidebar_custom_props":{"description":"Spring Boot \u662f\u4e00\u500b Java \u7684\u7db2\u9801\u6846\u67b6\uff0c\u8b93\u958b\u767c\u8005\u80fd\u5920\u4f7f\u7528 Java \u7a0b\u5f0f\u8a9e\u8a00\u69cb\u5efa\u5b89\u5168\u3001\u5feb\u901f\u4e14\u53ef\u64f4\u5c55\u7684\u4f3a\u670d\u5668\u61c9\u7528\u7a0b\u5f0f\u3002","logoFilename":"spring-boot.svg"}},"sidebar":"quickStartSidebar","previous":{"title":"Go","permalink":"/zh-TW/quick-starts/go"},"next":{"title":"Next.js (Pages Router)","permalink":"/zh-TW/quick-starts/next"}}');var t=r(25105),s=r(79621),o=r(53481),c=r(1758),d=r(2158),l=r(20966),a=r(70668),h=r(51626);const p=[...h.RM];function u(e){const n={a:"a",code:"code",p:"p",pre:"pre",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:["Logto \u4f7f\u7528 OIDC ",(0,t.jsx)(n.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#Claims",children:"\u6b0a\u9650\u7bc4\u570d (Scopes) \u548c\u5ba3\u544a (Claims) \u6163\u4f8b"})," \u4f86\u5b9a\u7fa9\u5f9e ID \u6b0a\u6756 (ID token) \u548c OIDC ",(0,t.jsx)("a",{href:"https://openid.net/specs/openid-connect-core-1_0.html#UserInfo",children:"userinfo endpoint"})," \u7372\u53d6\u4f7f\u7528\u8005\u8cc7\u8a0a\u7684\u6b0a\u9650\u7bc4\u570d\u548c\u5ba3\u544a\u3002\u7121\u8ad6\u662f\u300c\u6b0a\u9650\u7bc4\u570d (Scope)\u300d\u9084\u662f\u300c\u5ba3\u544a (Claim)\u300d\uff0c\u90fd\u662f OAuth 2.0 \u548c OpenID Connect (OIDC) \u898f\u7bc4\u4e2d\u7684\u8853\u8a9e\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u7c21\u800c\u8a00\u4e4b\uff0c\u7576\u4f60\u8acb\u6c42\u4e00\u500b\u6b0a\u9650\u7bc4\u570d (Scope) \u6642\uff0c\u4f60\u5c07\u7372\u5f97\u4f7f\u7528\u8005\u8cc7\u8a0a\u4e2d\u7684\u76f8\u61c9\u5ba3\u544a (Claims)\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u8acb\u6c42 ",(0,t.jsx)(n.code,{children:"email"})," \u6b0a\u9650\u7bc4\u570d (Scope)\uff0c\u4f60\u5c07\u7372\u5f97\u4f7f\u7528\u8005\u7684 ",(0,t.jsx)(n.code,{children:"email"})," \u548c ",(0,t.jsx)(n.code,{children:"email_verified"})," \u8cc7\u6599\u3002"]}),"\n",(0,t.jsx)(h.Ay,{}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 ",(0,t.jsx)(n.code,{children:"application.properties"})," \u6a94\u6848\u4e2d\u65b0\u589e\u984d\u5916\u7684\u6b0a\u9650\u7bc4\u570d (Scopes) \u548c\u5ba3\u544a (Claims) \u4ee5\u8acb\u6c42\u66f4\u591a\u4f7f\u7528\u8005\u8cc7\u8a0a\u3002\u4f8b\u5982\uff0c\u8981\u8acb\u6c42 ",(0,t.jsx)(n.code,{children:"urn:logto:scope:organizations"})," \u6b0a\u9650\u7bc4\u570d (Scope)\uff0c\u8acb\u5728 ",(0,t.jsx)(n.code,{children:"application.properties"})," \u6a94\u6848\u4e2d\u65b0\u589e\u4ee5\u4e0b\u884c\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"spring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access,urn:logto:scope:organizations\n"})}),"\n",(0,t.jsx)(n.p,{children:"\u4f7f\u7528\u8005\u7684\u7d44\u7e54\u5ba3\u544a (Claims) \u5c07\u5305\u542b\u5728\u6388\u6b0a\u6b0a\u6756 (Authorization token) \u4e2d\u3002"})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(u,{...e})}):u(e)}const x={slug:"/quick-starts/java-spring-boot",sidebar_label:"Java Spring Boot",sidebar_custom_props:{description:"Spring Boot \u662f\u4e00\u500b Java \u7684\u7db2\u9801\u6846\u67b6\uff0c\u8b93\u958b\u767c\u8005\u80fd\u5920\u4f7f\u7528 Java \u7a0b\u5f0f\u8a9e\u8a00\u69cb\u5efa\u5b89\u5168\u3001\u5feb\u901f\u4e14\u53ef\u64f4\u5c55\u7684\u4f3a\u670d\u5668\u61c9\u7528\u7a0b\u5f0f\u3002",logoFilename:"spring-boot.svg"}},g="\u70ba\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u65b0\u589e\u9a57\u8b49 (Authentication)",m={},f=[{value:"\u5148\u6c7a\u689d\u4ef6",id:"prerequisites",level:2},{value:"\u914d\u7f6e\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f",id:"configure-your-java-spring-boot-application",level:2},{value:"\u65b0\u589e\u4f9d\u8cf4\u9805",id:"adding-dependencies",level:3},{value:"OAuth2 \u5ba2\u6236\u7aef\u914d\u7f6e",id:"oauth2-client-configuration",level:3},{value:"\u5be6\u4f5c",id:"implementation",level:2},...a.RM,...l.RM,{value:"\u5be6\u4f5c WebSecurityConfig",id:"implement-the-websecurityconfig",level:3},{value:"\u5728\u4f60\u7684\u5c08\u6848\u4e2d\u5275\u5efa\u4e00\u500b\u65b0\u7684 <code>WebSecurityConfig</code> \u985e\u5225",id:"create-a-new-class-websecurityconfig-in-your-project",level:4},{value:"\u5275\u5efa\u4e00\u500b <code>idTokenDecoderFactory</code> bean",id:"create-a-idtokendecoderfactory-bean",level:4},{value:"\u5275\u5efa\u4e00\u500b LoginSuccessHandler \u985e\u5225\u4f86\u8655\u7406\u767b\u5165\u6210\u529f\u4e8b\u4ef6",id:"create-a-loginsuccesshandler-class-to-handle-the-login-success-event",level:4},{value:"\u5275\u5efa\u4e00\u500b LogoutSuccessHandler \u985e\u5225\u4f86\u8655\u7406\u767b\u51fa\u6210\u529f\u4e8b\u4ef6",id:"create-a-logoutsuccesshandler-class-to-handle-the-logout-success-event",level:4},{value:"\u4f7f\u7528 <code>securityFilterChain</code> \u66f4\u65b0 <code>WebSecurityConfig</code> \u985e\u5225",id:"update-the-websecurityconfig-class-with-a-securityfilterchain",level:4},{value:"\u5275\u5efa\u4e3b\u9801",id:"create-a-home-page",level:3},{value:"\u5275\u5efa\u4f7f\u7528\u8005\u9801\u9762",id:"create-a-user-page",level:3},{value:"\u8acb\u6c42\u984d\u5916\u7684\u5ba3\u544a (Claims)",id:"request-additional-claims",level:4},...o.RM,...d.RM,{value:"\u57f7\u884c\u4e26\u6e2c\u8a66\u61c9\u7528\u7a0b\u5f0f",id:"run-and-test-the-application",level:3},{value:"\u6b0a\u9650\u7bc4\u570d (Scopes) \u548c\u5ba3\u544a (Claims)",id:"scopes-and-claims",level:2},...p,{value:"\u9032\u4e00\u6b65\u95b1\u8b80",id:"further-readings",level:2},...c.RM];function b(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"\u70ba\u4f60\u7684-java-spring-boot-\u61c9\u7528\u7a0b\u5f0f\u65b0\u589e\u9a57\u8b49-authentication",children:"\u70ba\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u65b0\u589e\u9a57\u8b49 (Authentication)"})}),"\n",(0,t.jsx)(n.p,{children:"\u672c\u6307\u5357\u5c07\u5411\u4f60\u5c55\u793a\u5982\u4f55\u5c07 Logto \u6574\u5408\u5230\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u4e2d\u3002"}),"\n",(0,t.jsx)(n.admonition,{type:"tip",children:(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4f60\u53ef\u4ee5\u5728\u6211\u5011\u7684 ",(0,t.jsx)(n.a,{href:"https://github.com/logto-io/spring-boot-sample",children:"spring-boot-sample"})," GitHub \u5132\u5b58\u5eab\u4e2d\u627e\u5230\u672c\u6307\u5357\u7684\u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5c07 Logto \u8207\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f\u6574\u5408\u4e0d\u9700\u8981\u5b98\u65b9 SDK\u3002\u6211\u5011\u5c07\u4f7f\u7528 ",(0,t.jsx)(n.a,{href:"https://spring.io/projects/spring-security",children:"Spring Security"})," \u548c ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/tutorials/spring-boot-oauth2",children:"Spring Security OAuth2"})," \u5eab\u4f86\u8655\u7406\u8207 Logto \u7684 OIDC \u9a57\u8b49\u6d41\u7a0b\u3002"]}),"\n"]})}),"\n",(0,t.jsx)(n.h2,{id:"prerequisites",children:"\u5148\u6c7a\u689d\u4ef6"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["\u4e00\u500b ",(0,t.jsx)(n.a,{href:"https://cloud.logto.io",children:"Logto Cloud"})," \u5e33\u6236\u6216 ",(0,t.jsx)(n.a,{href:"/introduction/set-up-logto-oss",children:"\u81ea\u884c\u8a17\u7ba1\u7684 Logto"}),"\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u6211\u5011\u7684\u7bc4\u4f8b\u7a0b\u5f0f\u78bc\u662f\u4f7f\u7528 Spring Boot \u7684 ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/gs/securing-web",children:"securing web starter"})," \u5275\u5efa\u7684\u3002\u5982\u679c\u4f60\u9084\u6c92\u6709\u61c9\u7528\u7a0b\u5f0f\uff0c\u8acb\u6309\u7167\u6307\u793a\u555f\u52d5\u4e00\u500b\u65b0\u7684\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u3002"]}),"\n",(0,t.jsxs)(n.li,{children:["\u5728\u672c\u6307\u5357\u4e2d\uff0c\u6211\u5011\u5c07\u4f7f\u7528 ",(0,t.jsx)(n.a,{href:"https://spring.io/projects/spring-security",children:"Spring Security"})," \u548c ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/tutorials/spring-boot-oauth2",children:"Spring Security OAuth2"})," \u5eab\u4f86\u8655\u7406\u8207 Logto \u7684 OIDC \u9a57\u8b49\u6d41\u7a0b\u3002\u8acb\u78ba\u4fdd\u95b1\u8b80\u5b98\u65b9\u6587\u4ef6\u4ee5\u4e86\u89e3\u76f8\u95dc\u6982\u5ff5\u3002"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"configure-your-java-spring-boot-application",children:"\u914d\u7f6e\u4f60\u7684 Java Spring Boot \u61c9\u7528\u7a0b\u5f0f"}),"\n",(0,t.jsx)(n.h3,{id:"adding-dependencies",children:"\u65b0\u589e\u4f9d\u8cf4\u9805"}),"\n",(0,t.jsxs)(n.p,{children:["\u5c0d\u65bc ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/gs/gradle",children:"gradle"})," \u4f7f\u7528\u8005\uff0c\u5c07\u4ee5\u4e0b\u4f9d\u8cf4\u9805\u65b0\u589e\u5230\u4f60\u7684 ",(0,t.jsx)(n.code,{children:"build.gradle"})," \u6a94\u6848\u4e2d\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-groovy",metastring:'title="build.gradle"',children:"dependencies {\n  implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n\timplementation 'org.springframework.boot:spring-boot-starter-web'\n  implementation 'org.springframework.boot:spring-boot-starter-security'\n\timplementation 'org.springframework.boot:spring-boot-starter-oauth2-client'\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u5c0d\u65bc ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/gs/maven",children:"maven"})," \u4f7f\u7528\u8005\uff0c\u5c07\u4ee5\u4e0b\u4f9d\u8cf4\u9805\u65b0\u589e\u5230\u4f60\u7684 ",(0,t.jsx)(n.code,{children:"pom.xml"})," \u6a94\u6848\u4e2d\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-xml",metastring:'title="pom.xml"',children:"<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-thymeleaf</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-web</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-security</artifactId>\n</dependency>\n<dependency>\n  <groupId>org.springframework.boot</groupId>\n  <artifactId>spring-boot-starter-oauth2-client</artifactId>\n</dependency>\n"})}),"\n",(0,t.jsx)(n.h3,{id:"oauth2-client-configuration",children:"OAuth2 \u5ba2\u6236\u7aef\u914d\u7f6e"}),"\n",(0,t.jsxs)(n.p,{children:["\u5728 Logto Console \u4e2d\u8a3b\u518a\u4e00\u500b\u65b0\u7684 ",(0,t.jsx)(n.code,{children:"Java Spring Boot"})," \u61c9\u7528\u7a0b\u5f0f\uff0c\u4e26\u7372\u53d6\u4f60\u7684\u7db2\u9801\u61c9\u7528\u7a0b\u5f0f\u7684\u5ba2\u6236\u7aef\u6191\u8b49\u548c IdP \u914d\u7f6e\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u5c07\u4ee5\u4e0b\u914d\u7f6e\u65b0\u589e\u5230\u4f60\u7684 ",(0,t.jsx)(n.code,{children:"application.properties"})," \u6a94\u6848\u4e2d\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"spring.security.oauth2.client.registration.logto.client-name=logto\nspring.security.oauth2.client.registration.logto.client-id={{YOUR_CLIENT_ID}}\nspring.security.oauth2.client.registration.logto.client-secret={{YOUR_CLIENT_ID}}\nspring.security.oauth2.client.registration.logto.redirect-uri={baseUrl}/login/oauth2/code/{registrationId}\nspring.security.oauth2.client.registration.logto.authorization-grant-type=authorization_code\nspring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access\nspring.security.oauth2.client.registration.logto.provider=logto\n\nspring.security.oauth2.client.provider.logto.issuer-uri={{LOGTO_ENDPOINT}}/oidc\nspring.security.oauth2.client.provider.logto.authorization-uri={{LOGTO_ENDPOINT}}/oidc/auth\nspring.security.oauth2.client.provider.logto.jwk-set-uri={{LOGTO_ENDPOINT}}/oidc/jwks\n"})}),"\n",(0,t.jsx)(n.h2,{id:"implementation",children:"\u5be6\u4f5c"}),"\n",(0,t.jsx)(a.Ay,{}),"\n",(0,t.jsxs)(n.p,{children:["\u70ba\u4e86\u5728\u4f7f\u7528\u8005\u767b\u5165\u5f8c\u5c07\u5176\u91cd\u5b9a\u5411\u56de\u4f60\u7684\u61c9\u7528\u7a0b\u5f0f\uff0c\u4f60\u9700\u8981\u5728\u524d\u4e00\u6b65\u4e2d\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"client.registration.logto.redirect-uri"})," \u5c6c\u6027\u8a2d\u7f6e\u91cd\u5b9a\u5411 URI\u3002"]}),"\n",(0,t.jsx)(l.Ay,{}),"\n",(0,t.jsx)(n.h3,{id:"implement-the-websecurityconfig",children:"\u5be6\u4f5c WebSecurityConfig"}),"\n",(0,t.jsxs)(n.h4,{id:"create-a-new-class-websecurityconfig-in-your-project",children:["\u5728\u4f60\u7684\u5c08\u6848\u4e2d\u5275\u5efa\u4e00\u500b\u65b0\u7684 ",(0,t.jsx)(n.code,{children:"WebSecurityConfig"})," \u985e\u5225"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.code,{children:"WebSecurityConfig"})," \u985e\u5225\u5c07\u7528\u65bc\u914d\u7f6e\u61c9\u7528\u7a0b\u5f0f\u7684\u5b89\u5168\u8a2d\u7f6e\u3002\u5b83\u662f\u8655\u7406\u9a57\u8b49\u548c\u6388\u6b0a\u6d41\u7a0b\u7684\u95dc\u9375\u985e\u5225\u3002\u8acb\u67e5\u770b ",(0,t.jsx)(n.a,{href:"https://spring.io/guides/topicals/spring-security-architecture",children:"Spring Security \u6587\u4ef6"})," \u4ee5\u7372\u53d6\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:"package com.example.securingweb;\n\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\n\n@Configuration\n@EnableWebSecurity\n\npublic class WebSecurityConfig {\n // ...\n}\n"})}),"\n",(0,t.jsxs)(n.h4,{id:"create-a-idtokendecoderfactory-bean",children:["\u5275\u5efa\u4e00\u500b ",(0,t.jsx)(n.code,{children:"idTokenDecoderFactory"})," bean"]}),"\n",(0,t.jsxs)(n.p,{children:["\u9019\u662f\u5fc5\u9700\u7684\uff0c\u56e0\u70ba Logto \u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"ES384"})," \u4f5c\u70ba\u9810\u8a2d\u7b97\u6cd5\uff0c\u6211\u5011\u9700\u8981\u8986\u5beb\u9810\u8a2d\u7684 ",(0,t.jsx)(n.code,{children:"OidcIdTokenDecoderFactory"})," \u4ee5\u4f7f\u7528\u76f8\u540c\u7684\u7b97\u6cd5\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:"import org.springframework.context.annotation.Bean;\nimport org.springframework.security.oauth2.client.oidc.authentication.OidcIdTokenDecoderFactory;\nimport org.springframework.security.oauth2.client.registration.ClientRegistration;\nimport org.springframework.security.oauth2.jose.jws.SignatureAlgorithm;\nimport org.springframework.security.oauth2.jwt.JwtDecoderFactory;\n\npublic class WebSecurityConfig {\n  // ...\n\n  @Bean\n  public JwtDecoderFactory<ClientRegistration> idTokenDecoderFactory() {\n    OidcIdTokenDecoderFactory idTokenDecoderFactory = new OidcIdTokenDecoderFactory();\n    idTokenDecoderFactory.setJwsAlgorithmResolver(clientRegistration -> SignatureAlgorithm.ES384);\n    return idTokenDecoderFactory;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h4,{id:"create-a-loginsuccesshandler-class-to-handle-the-login-success-event",children:"\u5275\u5efa\u4e00\u500b LoginSuccessHandler \u985e\u5225\u4f86\u8655\u7406\u767b\u5165\u6210\u529f\u4e8b\u4ef6"}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u5011\u5c07\u5728\u6210\u529f\u767b\u5165\u5f8c\u5c07\u4f7f\u7528\u8005\u91cd\u5b9a\u5411\u5230 ",(0,t.jsx)(n.code,{children:"/user"})," \u9801\u9762\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="CustomSuccessHandler.java"',children:'package com.example.securingweb;\n\nimport java.io.IOException;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.AuthenticationSuccessHandler;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\n\npublic class CustomSuccessHandler implements AuthenticationSuccessHandler {\n  @Override\n  public void onAuthenticationSuccess(HttpServletRequest request, HttpServletResponse response,\n      Authentication authentication) throws IOException, ServletException {\n    response.sendRedirect("/user");\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h4,{id:"create-a-logoutsuccesshandler-class-to-handle-the-logout-success-event",children:"\u5275\u5efa\u4e00\u500b LogoutSuccessHandler \u985e\u5225\u4f86\u8655\u7406\u767b\u51fa\u6210\u529f\u4e8b\u4ef6"}),"\n",(0,t.jsx)(n.p,{children:"\u6e05\u9664\u6703\u8a71\u4e26\u5c07\u4f7f\u7528\u8005\u91cd\u5b9a\u5411\u5230\u4e3b\u9801\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="CustomLogoutHandler.java"',children:'package com.example.securingweb;\n\nimport java.io.IOException;\n\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.web.authentication.logout.LogoutSuccessHandler;\n\nimport jakarta.servlet.ServletException;\nimport jakarta.servlet.http.HttpServletRequest;\nimport jakarta.servlet.http.HttpServletResponse;\nimport jakarta.servlet.http.HttpSession;\n\npublic class CustomLogoutHandler implements LogoutSuccessHandler {\n  @Override\n  public void onLogoutSuccess(HttpServletRequest request, HttpServletResponse response, Authentication authentication)\n      throws IOException, ServletException {\n    HttpSession session = request.getSession();\n\n    if (session != null) {\n      session.invalidate();\n    }\n\n    response.sendRedirect("/home");\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.h4,{id:"update-the-websecurityconfig-class-with-a-securityfilterchain",children:["\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"securityFilterChain"})," \u66f4\u65b0 ",(0,t.jsx)(n.code,{children:"WebSecurityConfig"})," \u985e\u5225"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/DefaultSecurityFilterChain.html",children:"securityFilterChain"})," \u662f\u4e00\u500b\u8ca0\u8cac\u8655\u7406\u50b3\u5165\u8acb\u6c42\u548c\u56de\u61c9\u7684\u904e\u6ffe\u5668\u93c8\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u6211\u5011\u5c07\u914d\u7f6e ",(0,t.jsx)(n.code,{children:"securityFilterChain"})," \u4ee5\u5141\u8a31\u8a2a\u554f\u4e3b\u9801\uff0c\u4e26\u8981\u6c42\u5c0d\u6240\u6709\u5176\u4ed6\u8acb\u6c42\u9032\u884c\u9a57\u8b49\u3002\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"CustomSuccessHandler"})," \u548c ",(0,t.jsx)(n.code,{children:"CustomLogoutHandler"})," \u4f86\u8655\u7406\u767b\u5165\u548c\u767b\u51fa\u4e8b\u4ef6\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="WebSecurityConfig.java"',children:'import org.springframework.context.annotation.Bean;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.web.DefaultSecurityFilterChain;\n\npublic class WebSecurityConfig {\n  // ...\n\n  @Bean\n  public DefaultSecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n    http\n      .authorizeRequests(authorizeRequests ->\n        authorizeRequests\n          .antMatchers("/", "/home").permitAll() // \u5141\u8a31\u8a2a\u554f\u4e3b\u9801\n          .anyRequest().authenticated() // \u6240\u6709\u5176\u4ed6\u8acb\u6c42\u9700\u8981\u9a57\u8b49\n      )\n      .oauth2Login(oauth2Login ->\n        oauth2Login\n          .successHandler(new CustomSuccessHandler())\n      )\n      .logout(logout ->\n        logout\n          .logoutSuccessHandler(new CustomLogoutHandler())\n      );\n    return http.build();\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-home-page",children:"\u5275\u5efa\u4e3b\u9801"}),"\n",(0,t.jsx)(n.p,{children:"\uff08\u5982\u679c\u4f60\u7684\u5c08\u6848\u4e2d\u5df2\u7d93\u6709\u4e3b\u9801\uff0c\u53ef\u4ee5\u8df3\u904e\u6b64\u6b65\u9a5f\uff09"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="HomeController.java"',children:'package com.example.securingweb;\n\nimport java.security.Principal;\n\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.GetMapping;\n\n@Controller\npublic class HomeController {\n  @GetMapping({ "/", "/home" })\n  public String home(Principal principal) {\n    return principal != null ? "redirect:/user" : "home";\n  }\n}\n'})}),"\n",(0,t.jsx)(n.p,{children:"\u6b64\u63a7\u5236\u5668\u5c07\u5728\u4f7f\u7528\u8005\u9a57\u8b49\u5f8c\u5c07\u5176\u91cd\u5b9a\u5411\u5230\u4f7f\u7528\u8005\u9801\u9762\uff0c\u5426\u5247\u5c07\u986f\u793a\u4e3b\u9801\u3002\u5728\u4e3b\u9801\u4e0a\u65b0\u589e\u4e00\u500b\u767b\u5165\u9023\u7d50\u3002"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",metastring:'title="resources/templates/home.html"',children:'<body>\n  <h1>Welcome!</h1>\n\n  <p><a th:href="@{/oauth2/authorization/logto}">Login with Logto</a></p>\n</body>\n'})}),"\n",(0,t.jsx)(n.h3,{id:"create-a-user-page",children:"\u5275\u5efa\u4f7f\u7528\u8005\u9801\u9762"}),"\n",(0,t.jsx)(n.p,{children:"\u5275\u5efa\u4e00\u500b\u65b0\u7684\u63a7\u5236\u5668\u4f86\u8655\u7406\u4f7f\u7528\u8005\u9801\u9762\uff1a"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-java",metastring:'title="UserController.java"',children:'package com.example.securingweb;\n\nimport java.security.Principal;\nimport java.util.Map;\n\nimport org.springframework.security.oauth2.client.authentication.OAuth2AuthenticationToken;\nimport org.springframework.security.oauth2.core.user.OAuth2User;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\n\n@Controller\n@RequestMapping("/user")\npublic class UserController {\n\n  @GetMapping\n  public String user(Model model, Principal principal) {\n    if (principal instanceof OAuth2AuthenticationToken) {\n      OAuth2AuthenticationToken token = (OAuth2AuthenticationToken) principal;\n      OAuth2User oauth2User = token.getPrincipal();\n      Map<String, Object> attributes = oauth2User.getAttributes();\n\n      model.addAttribute("username", attributes.get("username"));\n      model.addAttribute("email", attributes.get("email"));\n      model.addAttribute("sub", attributes.get("sub"));\n    }\n\n    return "user";\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["\u4e00\u65e6\u4f7f\u7528\u8005\u9a57\u8b49\u6210\u529f\uff0c\u6211\u5011\u5c07\u5f9e\u5df2\u9a57\u8b49\u7684 principal \u7269\u4ef6\u4e2d\u6aa2\u7d22 ",(0,t.jsx)(n.code,{children:"OAuth2User"})," \u8cc7\u6599\u3002\u8acb\u53c3\u95b1 ",(0,t.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/client/authentication/OAuth2AuthenticationToken.html",children:"OAuth2AuthenticationToken"})," \u548c ",(0,t.jsx)(n.a,{href:"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/oauth2/core/user/OAuth2User.html",children:"OAuth2User"})," \u4ee5\u7372\u53d6\u66f4\u591a\u8a73\u7d30\u8cc7\u8a0a\u3002"]}),"\n",(0,t.jsxs)(n.p,{children:["\u8b80\u53d6\u4f7f\u7528\u8005\u8cc7\u6599\u4e26\u5c07\u5176\u50b3\u905e\u7d66 ",(0,t.jsx)(n.code,{children:"user.html"})," \u6a21\u677f\u3002"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-html",metastring:'title="resources/templates/user.html"',children:'<body>\n  <h1>User Details</h1>\n  <div>\n    <p>\n    <div><strong>name:</strong> <span th:text="${username}"></span></div>\n    <div><strong>email:</strong> <span th:text="${email}"></span></div>\n    <div><strong>id:</strong> <span th:text="${sub}"></span></div>\n    </p>\n  </div>\n\n  <form th:action="@{/logout}" method="post">\n    <input type="submit" value="Logout" />\n  </form>\n</body>\n'})}),"\n",(0,t.jsx)(n.h4,{id:"request-additional-claims",children:"\u8acb\u6c42\u984d\u5916\u7684\u5ba3\u544a (Claims)"}),"\n",(0,t.jsx)(o.Ay,{method:"principal (OAuth2AuthenticationToken)"}),"\n",(0,t.jsx)(d.Ay,{}),"\n",(0,t.jsxs)(n.p,{children:["\u82e5\u8981\u6aa2\u7d22\u984d\u5916\u7684\u4f7f\u7528\u8005\u8cc7\u8a0a\uff0c\u4f60\u53ef\u4ee5\u5728 ",(0,t.jsx)(n.code,{children:"application.properties"})," \u6a94\u6848\u4e2d\u65b0\u589e\u984d\u5916\u7684\u6b0a\u9650\u7bc4\u570d (Scopes)\u3002\u4f8b\u5982\uff0c\u8981\u8acb\u6c42 ",(0,t.jsx)(n.code,{children:"email"}),"\u3001",(0,t.jsx)(n.code,{children:"phone"})," \u548c ",(0,t.jsx)(n.code,{children:"urn:logto:scope:organizations"})," \u6b0a\u9650\u7bc4\u570d\uff0c\u8acb\u5728 ",(0,t.jsx)(n.code,{children:"application.properties"})," \u6a94\u6848\u4e2d\u65b0\u589e\u4ee5\u4e0b\u884c\uff1a"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-properties",metastring:'title="application.properties"',children:"  spring.security.oauth2.client.registration.logto.scope=openid,profile,offline_access,email,phone,urn:logto:scope:organizations\n"})}),"\n",(0,t.jsxs)(n.p,{children:["\u7136\u5f8c\u4f60\u53ef\u4ee5\u5728 ",(0,t.jsx)(n.code,{children:"OAuth2User"})," \u7269\u4ef6\u4e2d\u8a2a\u554f\u984d\u5916\u7684\u5ba3\u544a (Claims)\u3002"]}),"\n",(0,t.jsx)(n.h3,{id:"run-and-test-the-application",children:"\u57f7\u884c\u4e26\u6e2c\u8a66\u61c9\u7528\u7a0b\u5f0f"}),"\n",(0,t.jsxs)(n.p,{children:["\u57f7\u884c\u61c9\u7528\u7a0b\u5f0f\u4e26\u5c0e\u822a\u81f3 ",(0,t.jsx)(n.code,{children:"http://localhost:8080"}),"\u3002"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"\u4f60\u5c07\u770b\u5230\u5e36\u6709\u767b\u5165\u9023\u7d50\u7684\u4e3b\u9801\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u9ede\u64ca\u9023\u7d50\u4ee5\u4f7f\u7528 Logto \u767b\u5165\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u9a57\u8b49\u6210\u529f\u5f8c\uff0c\u4f60\u5c07\u88ab\u91cd\u5b9a\u5411\u5230\u986f\u793a\u4f7f\u7528\u8005\u8a73\u7d30\u8cc7\u8a0a\u7684\u4f7f\u7528\u8005\u9801\u9762\u3002"}),"\n",(0,t.jsx)(n.li,{children:"\u9ede\u64ca\u767b\u51fa\u6309\u9215\u4ee5\u767b\u51fa\u3002\u4f60\u5c07\u88ab\u91cd\u5b9a\u5411\u56de\u4e3b\u9801\u3002"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"scopes-and-claims",children:"\u6b0a\u9650\u7bc4\u570d (Scopes) \u548c\u5ba3\u544a (Claims)"}),"\n",(0,t.jsx)(j,{}),"\n",(0,t.jsx)(n.h2,{id:"further-readings",children:"\u9032\u4e00\u6b65\u95b1\u8b80"}),"\n",(0,t.jsx)(c.Ay,{})]})}function v(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(b,{...e})}):b(e)}},79621:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>c});var i=r(58101);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);