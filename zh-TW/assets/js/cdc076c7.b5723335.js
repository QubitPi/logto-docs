"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[4978],{44953:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>t,contentTitle:()=>i,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"logto-oss/file-storage-provider","title":"\u6a94\u6848\u5132\u5b58\u63d0\u4f9b\u8005","description":"\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cLogto Console \u4f7f\u7528\u6587\u5b57\u8f38\u5165\u4f86\u8655\u7406\u975c\u614b\u6a94\u6848 URL\uff0c\u4f8b\u5982\u982d\u50cf\u3002\u82e5\u8981\u555f\u7528\u66f4\u76f4\u89c0\u7684\u62d6\u653e\u5f0f\u6a94\u6848\u4e0a\u50b3\u9ad4\u9a57\uff0c\u4f60\u9700\u8981\u914d\u7f6e\u5132\u5b58\u63d0\u4f9b\u8005\u3002","source":"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/logto-oss/file-storage-provider.mdx","sourceDirName":"logto-oss","slug":"/logto-oss/file-storage-provider","permalink":"/zh-TW/logto-oss/file-storage-provider","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/zh-TW/docusaurus-plugin-content-docs/current/logto-oss/file-storage-provider.mdx","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"sidebar_position":6},"sidebar":"docsSidebar","previous":{"title":"\u4e2d\u592e\u5feb\u53d6","permalink":"/zh-TW/logto-oss/central-cache"},"next":{"title":"\u958b\u767c\u4f60\u7684\u9023\u63a5\u5668","permalink":"/zh-TW/logto-oss/develop-your-connector/"}}');var c=n(25105),r=n(79621);const l={sidebar_position:6},i="\u6a94\u6848\u5132\u5b58\u63d0\u4f9b\u8005",t={},d=[{value:"Azure Storage",id:"azure-storage",level:2},{value:"\u5148\u6c7a\u689d\u4ef6",id:"prerequisites",level:3},{value:"\u4f7f\u7528 CLI \u914d\u7f6e",id:"config-using-cli",level:3},{value:"<code>connectionString</code>",id:"connectionstring",level:4},{value:"<code>container</code>",id:"container",level:4},{value:"<code>publicUrl</code>",id:"publicurl",level:4},{value:"S3 Storage",id:"s3-storage",level:2},{value:"\u5148\u6c7a\u689d\u4ef6",id:"prerequisites-1",level:3},{value:"\u4f7f\u7528 CLI \u914d\u7f6e",id:"config-using-cli-1",level:3},{value:"<code>accessKeyId</code>",id:"accesskeyid",level:4},{value:"<code>accessSecretKey</code>",id:"accesssecretkey",level:4},{value:"<code>bucket</code>",id:"bucket",level:4},{value:"<code>region</code>",id:"region",level:4},{value:"<code>endpoint</code>",id:"endpoint",level:4},{value:"<code>publicUrl</code>",id:"publicurl-1",level:4},{value:"Google Cloud Storage",id:"google-cloud-storage",level:2},{value:"\u5148\u6c7a\u689d\u4ef6",id:"prerequisites-2",level:3},{value:"\u7372\u53d6\u91d1\u9470\u6a94\u6848",id:"obtain-the-key-file",level:3},{value:"\u5c07\u91d1\u9470\u6a94\u6848\u65b0\u589e\u5230 Logto",id:"add-the-key-file-to-logto",level:3},{value:"\u4f7f\u7528 CLI \u914d\u7f6e",id:"config-using-cli-2",level:3},{value:"<code>projectId</code>",id:"projectid",level:4},{value:"<code>keyFilename</code>",id:"keyfilename",level:4},{value:"<code>bucketName</code>",id:"bucketname",level:4},{value:"<code>publicUrl</code>",id:"publicurl-2",level:4}];function a(e){const o={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(o.header,{children:(0,c.jsx)(o.h1,{id:"\u6a94\u6848\u5132\u5b58\u63d0\u4f9b\u8005",children:"\u6a94\u6848\u5132\u5b58\u63d0\u4f9b\u8005"})}),"\n",(0,c.jsx)(o.p,{children:"\u9810\u8a2d\u60c5\u6cc1\u4e0b\uff0cLogto Console \u4f7f\u7528\u6587\u5b57\u8f38\u5165\u4f86\u8655\u7406\u975c\u614b\u6a94\u6848 URL\uff0c\u4f8b\u5982\u982d\u50cf\u3002\u82e5\u8981\u555f\u7528\u66f4\u76f4\u89c0\u7684\u62d6\u653e\u5f0f\u6a94\u6848\u4e0a\u50b3\u9ad4\u9a57\uff0c\u4f60\u9700\u8981\u914d\u7f6e\u5132\u5b58\u63d0\u4f9b\u8005\u3002"}),"\n",(0,c.jsx)(o.p,{children:"Logto \u652f\u63f4\u591a\u500b\u5132\u5b58\u63d0\u4f9b\u8005\uff0c\u5305\u62ec AWS S3 \u548c Azure Storage\u3002\u672c\u6307\u5357\u5c07\u793a\u7bc4\u5982\u4f55\u70ba Logto \u914d\u7f6e\u5132\u5b58\u63d0\u4f9b\u8005\u3002"}),"\n",(0,c.jsxs)(o.p,{children:["\u914d\u7f6e\u5132\u5b58\u5728\u8cc7\u6599\u5eab\u7684 ",(0,c.jsx)(o.code,{children:"systems"}),' \u8868\u4e2d\uff0c\u4f46\u5efa\u8b70\u4f7f\u7528 CLI \u4f86\u914d\u7f6e\u5132\u5b58\u63d0\u4f9b\u8005\u3002\u6b32\u4e86\u89e3\u66f4\u591a\u8cc7\u8a0a\uff0c\u8acb\u5617\u8a66\u4f7f\u7528 "help" \u547d\u4ee4\uff1a']}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-sh",children:"pnpm logto db system --help\n"})}),"\n",(0,c.jsx)(o.h2,{id:"azure-storage",children:"Azure Storage"}),"\n",(0,c.jsx)(o.p,{children:"Azure Storage \u662f\u4e00\u500b\u5f37\u5927\u4e14\u53ef\u64f4\u5c55\u7684\u96f2\u7aef\u5132\u5b58\u89e3\u6c7a\u65b9\u6848\uff0c\u5141\u8a31\u4f60\u5728\u96f2\u7aef\u5132\u5b58\u548c\u7ba1\u7406\u8cc7\u6599\u3002\u4ee5\u4e0b\u6307\u5357\u5c07\u793a\u7bc4\u5982\u4f55\u5c07 Azure Storage \u914d\u7f6e\u70ba Logto \u7684\u5132\u5b58\u63d0\u4f9b\u8005\u3002"}),"\n",(0,c.jsx)(o.h3,{id:"prerequisites",children:"\u5148\u6c7a\u689d\u4ef6"}),"\n",(0,c.jsxs)(o.ul,{children:["\n",(0,c.jsx)(o.li,{children:(0,c.jsx)(o.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview",children:"Azure Storage \u5e33\u6236"})}),"\n"]}),"\n",(0,c.jsx)(o.h3,{id:"config-using-cli",children:"\u4f7f\u7528 CLI \u914d\u7f6e"}),"\n",(0,c.jsx)(o.p,{children:"\u7bc4\u4f8b\u7528\u6cd5\uff1a"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{children:'pnpm logto db system set storageProvider \'{"provider":"AzureStorage","connectionString":"DefaultEndpointsProtocol=https;AccountName=logto;AccountKey=oRhfTBHOHiBxxxxxxxxxxxxxxxxZ0se6XROftl/Xrow==;EndpointSuffix=core.windows.net","container":"logto"}\'\n'})}),"\n",(0,c.jsx)(o.h4,{id:"connectionstring",children:(0,c.jsx)(o.code,{children:"connectionString"})}),"\n",(0,c.jsx)(o.p,{children:"\u8981\u5b58\u53d6 Azure Storage\uff0c\u4f60\u9700\u8981\u4f7f\u7528\u9023\u63a5\u5b57\u4e32\uff0c\u9019\u662f\u4e00\u4e32\u5305\u542b\u5efa\u7acb\u8207\u5132\u5b58\u5e33\u6236\u9023\u63a5\u6240\u9700\u8cc7\u8a0a\u7684\u5b57\u5143\u3002"}),"\n",(0,c.jsxs)(o.p,{children:["\u8981\u7372\u53d6\u9023\u63a5\u5b57\u4e32\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-configure-connection-string",children:"Azure Storage \u9023\u63a5\u5b57\u4e32\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"container",children:(0,c.jsx)(o.code,{children:"container"})}),"\n",(0,c.jsx)(o.p,{children:"\u5bb9\u5668\u662f\u4e00\u7a2e\u5132\u5b58\u8cc7\u6e90\uff0c\u7528\u65bc\u5b58\u5132 blob\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u5bb9\u5668\u4f86\u7d44\u7e54 blob \u4e26\u63a7\u5236\u5c0d\u8cc7\u6599\u7684\u5b58\u53d6\u3002"}),"\n",(0,c.jsxs)(o.p,{children:["\u8981\u5efa\u7acb\u5bb9\u5668\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.microsoft.com/en-us/azure/storage/blobs/storage-blobs-introduction#containers",children:"Azure Storage \u5bb9\u5668\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"publicurl",children:(0,c.jsx)(o.code,{children:"publicUrl"})}),"\n",(0,c.jsx)(o.p,{children:"\u53ef\u9078\u3002"}),"\n",(0,c.jsxs)(o.p,{children:['\u516c\u958b URL \u662f\u53ef\u7528\u65bc\u516c\u958b\u5b58\u53d6\u5132\u5b58\u8cc7\u6e90\u7684 URL\u3002\u5982\u679c\u4f60\u672a\u4f7f\u7528 CDN\uff0c\u53ef\u4ee5\u5c07\u5176\u7559\u7a7a\u4ee5\u4f7f\u7528 Azure Storage \u7684\u9810\u8a2d\u300c\u4e3b\u8981\u7aef\u9ede\u300d\u4f5c\u70ba\u516c\u958b URL\u3002Logto \u5c07\u900f\u904e Azure SDK \u5f9e "connectionString" \u4e2d\u7372\u53d6\u6b64\u503c\u3002\u8981\u4e86\u89e3\u66f4\u591a\u95dc\u65bc\u5132\u5b58\u5e33\u6236\u4e3b\u8981\u7aef\u9ede\u7684\u8cc7\u8a0a\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ',(0,c.jsx)(o.a,{href:"https://docs.microsoft.com/en-us/azure/storage/common/storage-account-overview#primary-endpoints",children:"Azure Storage \u4e3b\u8981\u7aef\u9ede\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h2,{id:"s3-storage",children:"S3 Storage"}),"\n",(0,c.jsx)(o.p,{children:"S3 Storage \u662f\u4e00\u7a2e\u96f2\u7aef\u5132\u5b58\u670d\u52d9\uff0c\u900f\u904e\u7db2\u8def\u670d\u52d9\u4ecb\u9762\u63d0\u4f9b\u7269\u4ef6\u5132\u5b58\u3002\u4ee5\u4e0b\u6307\u5357\u5c07\u793a\u7bc4\u5982\u4f55\u5c07 S3 Storage \u914d\u7f6e\u70ba Logto \u7684\u5132\u5b58\u63d0\u4f9b\u8005\u3002"}),"\n",(0,c.jsx)(o.h3,{id:"prerequisites-1",children:"\u5148\u6c7a\u689d\u4ef6"}),"\n",(0,c.jsxs)(o.ul,{children:["\n",(0,c.jsxs)(o.li,{children:[(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets.html",children:"S3 Storage \u5e33\u6236"})," \u6216\u5176\u4ed6 S3 \u76f8\u5bb9\u5132\u5b58\u670d\u52d9\uff0c\u4f8b\u5982 ",(0,c.jsx)(o.a,{href:"https://min.io/",children:"MinIO"})]}),"\n"]}),"\n",(0,c.jsx)(o.h3,{id:"config-using-cli-1",children:"\u4f7f\u7528 CLI \u914d\u7f6e"}),"\n",(0,c.jsx)(o.p,{children:"\u7bc4\u4f8b\u7528\u6cd5\uff1a"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{children:'pnpm logto db system set storageProvider \'{"provider":"S3Storage","accessKeyId":"my-access-key-id","accessSecretKey": "my-secret-access-key","bucket":"logto","endpoint":"https://s3.us-east-2.amazonaws.com"}\'\n'})}),"\n",(0,c.jsx)(o.h4,{id:"accesskeyid",children:(0,c.jsx)(o.code,{children:"accessKeyId"})}),"\n",(0,c.jsxs)(o.p,{children:["\u5b58\u53d6\u91d1\u9470 ID \u662f AWS \u5e33\u6236\u7684\u8b58\u5225\u78bc\u3002\u8981\u67e5\u627e AWS \u5e33\u6236\u7684\u5b58\u53d6\u91d1\u9470 ID\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey",children:"AWS \u5b58\u53d6\u91d1\u9470 ID \u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"accesssecretkey",children:(0,c.jsx)(o.code,{children:"accessSecretKey"})}),"\n",(0,c.jsxs)(o.p,{children:["\u79d8\u5bc6\u5b58\u53d6\u91d1\u9470\u8207\u5b58\u53d6\u91d1\u9470 ID \u4e00\u8d77\u4f7f\u7528\uff0c\u7528\u65bc\u7c3d\u7f72\u7a0b\u5f0f\u8acb\u6c42\u3002\u8981\u67e5\u627e AWS \u5e33\u6236\u7684\u79d8\u5bc6\u5b58\u53d6\u91d1\u9470\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/IAM/latest/UserGuide/id_credentials_access-keys.html#Using_CreateAccessKey",children:"AWS \u79d8\u5bc6\u5b58\u53d6\u91d1\u9470\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"bucket",children:(0,c.jsx)(o.code,{children:"bucket"})}),"\n",(0,c.jsxs)(o.p,{children:["bucket \u662f Amazon S3 \u4e2d\u5b58\u5132\u7269\u4ef6\u7684\u5bb9\u5668\u3002\u8981\u5efa\u7acb bucket\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/AmazonS3/latest/userguide/creating-buckets.html",children:"AWS S3 bucket \u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"region",children:(0,c.jsx)(o.code,{children:"region"})}),"\n",(0,c.jsx)(o.p,{children:"\u53ef\u9078\u3002"}),"\n",(0,c.jsxs)(o.p,{children:["\u5340\u57df\u662f AWS S3 bucket \u6240\u5728\u7684\u5730\u7406\u5340\u57df\u3002\u5982\u679c ",(0,c.jsx)(o.code,{children:"endpoint"})," \u662f\u6a19\u6e96 AWS S3 \u7aef\u9ede\uff0c\u5247\u53ef\u4ee5\u5f9e ",(0,c.jsx)(o.code,{children:"endpoint"})," \u4e2d\u89e3\u6790\u51fa\u4f86\u3002\u8981\u67e5\u627e AWS S3 \u5340\u57df\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/general/latest/gr/s3.html",children:"AWS S3 \u5340\u57df\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.p,{children:"\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f S3 \u76f8\u5bb9\u5132\u5b58\u670d\u52d9\uff0c\u53ef\u4ee5\u5c07\u6b64\u6b04\u4f4d\u7559\u7a7a\u3002"}),"\n",(0,c.jsx)(o.h4,{id:"endpoint",children:(0,c.jsx)(o.code,{children:"endpoint"})}),"\n",(0,c.jsx)(o.p,{children:"\u53ef\u9078\u3002"}),"\n",(0,c.jsxs)(o.p,{children:["\u7aef\u9ede\u662f\u7528\u65bc\u5b58\u53d6 AWS S3 \u670d\u52d9\u7684 URL\u3002\u8981\u67e5\u627e AWS S3 \u7aef\u9ede\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 ",(0,c.jsx)(o.a,{href:"https://docs.aws.amazon.com/general/latest/gr/s3.html",children:"AWS S3 \u7aef\u9ede\u6587\u4ef6"}),"\u3002"]}),"\n",(0,c.jsx)(o.p,{children:"\u4f60\u53ef\u4ee5\u5c07\u6b64\u6b04\u4f4d\u7559\u7a7a\u4ee5\u4f7f\u7528\u8a72\u5340\u57df\u7684\u9810\u8a2d\u7aef\u9ede\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f S3 \u76f8\u5bb9\u5132\u5b58\u670d\u52d9\uff0c\u53ef\u4ee5\u4f7f\u7528\u8a72\u670d\u52d9\u7684\u7aef\u9ede\u3002"}),"\n",(0,c.jsx)(o.h4,{id:"publicurl-1",children:(0,c.jsx)(o.code,{children:"publicUrl"})}),"\n",(0,c.jsx)(o.p,{children:"\u53ef\u9078\u3002"}),"\n",(0,c.jsx)(o.p,{children:"\u516c\u958b URL \u662f\u53ef\u7528\u65bc\u516c\u958b\u5b58\u53d6\u5132\u5b58\u8cc7\u6e90\u7684 URL\u3002\u5982\u679c\u4f60\u672a\u4f7f\u7528 CDN\uff0c\u53ef\u4ee5\u5c07\u5176\u7559\u7a7a\u4ee5\u4f7f\u7528 S3 Storage \u7684\u9810\u8a2d URL\u3002"}),"\n",(0,c.jsx)(o.h2,{id:"google-cloud-storage",children:"Google Cloud Storage"}),"\n",(0,c.jsx)(o.p,{children:"Google Cloud Storage \u662f\u4e00\u7a2e\u96f2\u7aef\u5132\u5b58\u670d\u52d9\uff0c\u900f\u904e\u7db2\u8def\u670d\u52d9\u4ecb\u9762\u63d0\u4f9b\u7269\u4ef6\u5132\u5b58\u3002\u4ee5\u4e0b\u6307\u5357\u5c07\u793a\u7bc4\u5982\u4f55\u5c07 Google Cloud Storage \u914d\u7f6e\u70ba Logto \u7684\u5132\u5b58\u63d0\u4f9b\u8005\u3002"}),"\n",(0,c.jsx)(o.h3,{id:"prerequisites-2",children:"\u5148\u6c7a\u689d\u4ef6"}),"\n",(0,c.jsxs)(o.ul,{children:["\n",(0,c.jsx)(o.li,{children:"\u4e00\u500b Google Cloud \u5c08\u6848"}),"\n",(0,c.jsxs)(o.li,{children:["\u4e00\u500b bucket\uff0c\u8acb\u53c3\u95b1\u5b98\u65b9 Google Cloud \u6587\u4ef6\uff1a",(0,c.jsx)(o.a,{href:"https://cloud.google.com/storage/docs/creating-buckets%E3%80%82",children:"https://cloud.google.com/storage/docs/creating-buckets\u3002"})]}),"\n"]}),"\n",(0,c.jsx)(o.h3,{id:"obtain-the-key-file",children:"\u7372\u53d6\u91d1\u9470\u6a94\u6848"}),"\n",(0,c.jsx)(o.p,{children:"Google Cloud SDK \u901a\u5e38\u4f7f\u7528\u300c\u91d1\u9470\u6a94\u6848\u300d\u3002\u5982\u679c\u4f60\u4e0d\u719f\u6089 Google Cloud\uff0c\u9019\u53ef\u80fd\u662f\u6700\u5177\u6311\u6230\u6027\u7684\u90e8\u5206\u3002\u4ee5\u4e0b\u662f\u7372\u53d6\u65b9\u6cd5\uff1a"}),"\n",(0,c.jsxs)(o.ol,{children:["\n",(0,c.jsxs)(o.li,{children:["\u524d\u5f80\u670d\u52d9\u5e33\u6236\u9801\u9762\uff1a",(0,c.jsx)(o.a,{href:"https://console.cloud.google.com/iam-admin/serviceaccounts",children:"https://console.cloud.google.com/iam-admin/serviceaccounts"})]}),"\n",(0,c.jsx)(o.li,{children:"\u5efa\u7acb\u5e33\u6236\uff0c\u8f38\u5165\u540d\u7a31\uff0c\u7136\u5f8c\u7e7c\u7e8c\u3002"}),"\n",(0,c.jsx)(o.li,{children:"\u5728\u4e0b\u4e00\u6b65\u4e2d\uff0c\u9078\u64c7\u300cStorage Object User\u300d\u89d2\u8272\u3002\u4f60\u53ef\u4ee5\u4f7f\u7528\u7be9\u9078\u5668\u627e\u5230\u5b83\u3002"}),"\n",(0,c.jsx)(o.li,{children:"\u5b8c\u6210\u5e33\u6236\u5efa\u7acb\u5f8c\uff0c\u524d\u5f80\u5e33\u6236\u8a73\u7d30\u8cc7\u8a0a\u9801\u9762\u4e26\u9078\u64c7\u300c\u91d1\u9470\u300d\u6a19\u7c64\u3002"}),"\n",(0,c.jsx)(o.li,{children:"\u9ede\u64ca\u300c\u65b0\u589e\u91d1\u9470\u300d\uff0c\u9078\u64c7\u300c\u5efa\u7acb\u65b0\u91d1\u9470\u300d\uff0c\u5728\u5c0d\u8a71\u6846\u4e2d\u9078\u64c7\u300cjson\u300d\uff0c\u7136\u5f8c\u4e0b\u8f09\u4f60\u7684 json \u6a94\u6848\u3002"}),"\n"]}),"\n",(0,c.jsx)(o.h3,{id:"add-the-key-file-to-logto",children:"\u5c07\u91d1\u9470\u6a94\u6848\u65b0\u589e\u5230 Logto"}),"\n",(0,c.jsx)(o.p,{children:"Logto \u61c9\u80fd\u5b58\u53d6\u91d1\u9470\u6a94\u6848\u3002"}),"\n",(0,c.jsx)(o.p,{children:(0,c.jsx)(o.strong,{children:"\u5728 Node.js \u4e2d\u904b\u884c"})}),"\n",(0,c.jsxs)(o.p,{children:["\u5c07\u6a94\u6848\u8907\u88fd\u5230 ",(0,c.jsx)(o.code,{children:"/path/to/logto/core"})," \u4e26\u91cd\u547d\u540d\u70ba ",(0,c.jsx)(o.code,{children:"google-storage-key.json"}),"\u3002"]}),"\n",(0,c.jsx)(o.p,{children:(0,c.jsx)(o.strong,{children:"\u5728 Docker \u5bb9\u5668\u4e2d\u904b\u884c"})}),"\n",(0,c.jsx)(o.p,{children:"\u5982\u679c\u4f60\u5728 Docker \u5bb9\u5668\u4e2d\u904b\u884c Logto\uff0c\u9700\u8981\u5c07\u6a94\u6848\u639b\u8f09\u5230\u5bb9\u5668\u4e2d\u3002\u5047\u8a2d\u4f60\u4f7f\u7528 Docker Compose\uff0c\u5c07\u4ee5\u4e0b\u5167\u5bb9\u65b0\u589e\u5230\u914d\u7f6e\u4e2d\uff1a"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{className:"language-yaml",children:"volumes:\n  - ./path/to/google-storage-key.json:/etc/logto/core/google-storage-key.json\n"})}),"\n",(0,c.jsxs)(o.p,{children:["\u8a18\u5f97\u5c07 ",(0,c.jsx)(o.code,{children:"/path/to"})," \u66ff\u63db\u70ba\u5be6\u969b\u8def\u5f91\u3002"]}),"\n",(0,c.jsx)(o.h3,{id:"config-using-cli-2",children:"\u4f7f\u7528 CLI \u914d\u7f6e"}),"\n",(0,c.jsx)(o.p,{children:"\u7bc4\u4f8b\u7528\u6cd5\uff1a"}),"\n",(0,c.jsx)(o.pre,{children:(0,c.jsx)(o.code,{children:'pnpm logto db system set storageProvider \'{"provider":"GoogleStorage","projectId":"psychic-trainer-403801","keyFilename":"google-storage-key.json","bucketName":"logto-test2"}\'\n'})}),"\n",(0,c.jsx)(o.h4,{id:"projectid",children:(0,c.jsx)(o.code,{children:"projectId"})}),"\n",(0,c.jsx)(o.p,{children:"\u4f60\u7684 Google Cloud \u5c08\u6848 ID\u3002"}),"\n",(0,c.jsx)(o.h4,{id:"keyfilename",children:(0,c.jsx)(o.code,{children:"keyFilename"})}),"\n",(0,c.jsxs)(o.p,{children:["\u91d1\u9470\u6a94\u6848\u7684\u540d\u7a31\uff0c\u5982\u679c\u4f60\u9075\u5faa\u4e0a\u8ff0\u6b65\u9a5f\uff0c\u5247\u70ba ",(0,c.jsx)(o.code,{children:"google-storage-key.json"}),"\u3002"]}),"\n",(0,c.jsx)(o.h4,{id:"bucketname",children:(0,c.jsx)(o.code,{children:"bucketName"})}),"\n",(0,c.jsx)(o.p,{children:"bucket \u540d\u7a31\u3002"}),"\n",(0,c.jsx)(o.h4,{id:"publicurl-2",children:(0,c.jsx)(o.code,{children:"publicUrl"})}),"\n",(0,c.jsx)(o.p,{children:"\u53ef\u9078\u3002"}),"\n",(0,c.jsx)(o.p,{children:"\u516c\u958b URL \u662f\u53ef\u7528\u65bc\u516c\u958b\u5b58\u53d6\u5132\u5b58\u8cc7\u6e90\u7684 URL\u3002\u5982\u679c\u4f60\u672a\u4f7f\u7528 CDN\uff0c\u53ef\u4ee5\u5c07\u5176\u7559\u7a7a\u4ee5\u4f7f\u7528 S3 Storage \u7684\u9810\u8a2d URL\u3002"})]})}function h(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,c.jsx)(o,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},79621:(e,o,n)=>{n.d(o,{R:()=>l,x:()=>i});var s=n(58101);const c={},r=s.createContext(c);function l(e){const o=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function i(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(c):e.components||c:l(e.components),s.createElement(r.Provider,{value:o},e.children)}}}]);