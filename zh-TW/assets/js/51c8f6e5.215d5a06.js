"use strict";(self.webpackChunk_logto_docs=self.webpackChunk_logto_docs||[]).push([[9734],{85852:(e,d,s)=>{s.r(d),s.d(d,{assets:()=>h,contentTitle:()=>l,default:()=>j,frontMatter:()=>c,metadata:()=>n,toc:()=>t});const n=JSON.parse('{"id":"developers/sdk-conventions/core-sdk-convention","title":"\u6838\u5fc3 SDK \u898f\u7bc4","description":"\u57fa\u672c\u898f\u7bc4 \\\\","source":"@site/i18n/zh-TW/docusaurus-plugin-content-docs/current/developers/sdk-conventions/core-sdk-conventions.mdx","sourceDirName":"developers/sdk-conventions","slug":"/developers/sdk-conventions/core-sdk-convention","permalink":"/zh-TW/developers/sdk-conventions/core-sdk-convention","draft":false,"unlisted":false,"editUrl":"https://github.com/logto-io/docs/tree/master/i18n/zh-TW/docusaurus-plugin-content-docs/current/developers/sdk-conventions/core-sdk-conventions.mdx","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"core-sdk-convention","title":"\u6838\u5fc3 SDK \u898f\u7bc4","sidebar_label":"\u6838\u5fc3 SDK \u898f\u7bc4","sidebar_position":3},"sidebar":"docsSidebar","previous":{"title":"\u8a2d\u8a08\u7b56\u7565","permalink":"/zh-TW/developers/sdk-conventions/design-strategy"},"next":{"title":"\u5e73\u53f0 SDK \u898f\u7bc4","permalink":"/zh-TW/developers/sdk-conventions/platform-sdk-convention"}}');var r=s(25105),i=s(79621);const c={id:"core-sdk-convention",title:"\u6838\u5fc3 SDK \u898f\u7bc4",sidebar_label:"\u6838\u5fc3 SDK \u898f\u7bc4",sidebar_position:3},l="\u6838\u5fc3 SDK \u898f\u7bc4",h={},t=[{value:"\u57fa\u672c\u898f\u7bc4",id:"basic-conventions",level:2},{value:"\u57fa\u672c\u8981\u6c42",id:"basic-requirements",level:2},{value:"\u985e\u578b",id:"types",level:3},{value:"OidcConfigResponse",id:"oidcconfigresponse",level:3},{value:"CodeTokenResponse",id:"codetokenresponse",level:3},{value:"RefreshTokenResponse",id:"refreshtokenresponse",level:3},{value:"IdTokenClaims",id:"idtokenclaims",level:3},{value:"\u5de5\u5177\u51fd\u6578",id:"utility-functions",level:3},{value:"generateCodeVerifier",id:"generatecodeverifier",level:3},{value:"generateCodeChallenge",id:"generatecodechallenge",level:3},{value:"generateState",id:"generatestate",level:3},{value:"decodeIdToken",id:"decodeidtoken",level:3},{value:"verifyIdToken",id:"verifyidtoken",level:3},{value:"verifyAndParseCodeFromCallbackUri",id:"verifyandparsecodefromcallbackuri",level:3},{value:"\u6838\u5fc3\u529f\u80fd",id:"core-functions",level:3},{value:"fetchOidcConfig",id:"fetchoidcconfig",level:3},{value:"generateSignInUri",id:"generatesigninuri",level:3},{value:"generateSignOutUri",id:"generatesignouturi",level:3},{value:"fetchTokenByAuthorizationCode",id:"fetchtokenbyauthorizationcode",level:3},{value:"fetchTokenByRefreshToken",id:"fetchtokenbyrefreshtoken",level:3},{value:"revoke",id:"revoke",level:3}];function x(e){const d={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{Details:s}=d;return s||function(e,d){throw new Error("Expected "+(d?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.header,{children:(0,r.jsx)(d.h1,{id:"\u6838\u5fc3-sdk-\u898f\u7bc4",children:"\u6838\u5fc3 SDK \u898f\u7bc4"})}),"\n",(0,r.jsx)(d.h2,{id:"basic-conventions",children:"\u57fa\u672c\u898f\u7bc4"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u6838\u5fc3\u61c9\u50c5\u5305\u542b\u8207\u5e73\u53f0\u7121\u95dc\u7684\u529f\u80fd\u3002"}),"\n",(0,r.jsxs)(d.li,{children:["\u6838\u5fc3\u61c9\u547d\u540d\u70ba ",(0,r.jsx)(d.code,{children:"{$language}"})," \u4e26\u4f4d\u65bc\u5132\u5b58\u5eab\u6839\u76ee\u9304\u4e0b\u3002\u4f8b\u5982\uff0c",(0,r.jsx)(d.code,{children:"logto/js/js"}),"\uff0c",(0,r.jsx)(d.code,{children:"logto/kotlin/kotlin"}),"\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u6838\u5fc3\u5957\u4ef6\u61c9\u5728 Logto \u7bc4\u7587\u4e0b\u547d\u540d\u70ba ",(0,r.jsx)(d.code,{children:"{$language}"}),"\u3002\u4f8b\u5982\uff0c",(0,r.jsx)(d.code,{children:"@logto/js"}),"\uff0c",(0,r.jsx)(d.code,{children:"io.logto.sdk:kotlin"}),"\u3002"]}),"\n"]}),"\n",(0,r.jsx)(d.h2,{id:"basic-requirements",children:"\u57fa\u672c\u8981\u6c42"}),"\n",(0,r.jsx)(d.p,{children:"\u4efb\u4f55\u6838\u5fc3 SDK \u61c9\u5305\u542b\uff1a"}),"\n",(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u985e\u578b"}),"\n",(0,r.jsx)(d.li,{children:"\u5de5\u5177\u51fd\u6578"}),"\n",(0,r.jsx)(d.li,{children:"\u6838\u5fc3\u529f\u80fd"}),"\n"]}),"\n",(0,r.jsx)(d.h3,{id:"types",children:"\u985e\u578b"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"oidcconfigresponse",children:"OidcConfigResponse"})}),(0,r.jsxs)(d.p,{children:["\u8eab\u5206\u63d0\u4f9b\u8005\u7684\u914d\u7f6e\uff0c\u53ef\u900f\u904e ",(0,r.jsx)(d.code,{children:"/oidc/.well-known/openid-configuration"})," API \u7372\u53d6\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c6c\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"authorizationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endSessionEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"revocationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"jwksUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"issuer"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"codetokenresponse",children:"CodeTokenResponse"})}),(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u900f\u904e\u6388\u6b0a\u78bc\uff09\u7684\u56de\u61c9\u8cc7\u6599\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c6c\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"accessToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"expiresIn"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"refreshtokenresponse",children:"RefreshTokenResponse"})}),(0,r.jsxs)(d.p,{children:[(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u900f\u904e\u91cd\u65b0\u6574\u7406\u6b0a\u6756\uff09\u5728\u4f7f\u7528\u91cd\u65b0\u6574\u7406\u6b0a\u6756\u6642\u7684\u56de\u61c9\u8cc7\u6599\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c6c\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"accessToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"expiresIn"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]})]})]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"idtokenclaims",children:"IdTokenClaims"})}),(0,r.jsx)(d.p,{children:"ID \u6b0a\u6756\u6240\u651c\u5e36\u7684\u5ba3\u544a\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u5c6c\u6027"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"sub"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"aud"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"exp"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"iat"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"number"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"iss"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"atHash"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"username"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"name"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"avatar"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]})]}),"\n",(0,r.jsx)(d.h3,{id:"utility-functions",children:"\u5de5\u5177\u51fd\u6578"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatecodeverifier",children:"generateCodeVerifier"})}),(0,r.jsxs)(d.p,{children:["\u751f\u6210\u4e00\u500b code verifier\u3002",(0,r.jsx)(d.br,{}),"\n","code verifier \u7684\u9577\u5ea6\u56fa\u5b9a\u70ba 64\u3002",(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u503c\u5fc5\u9808\u52a0\u5bc6\u70ba URL \u5b89\u5168\u7684 base64 \u683c\u5f0f\u5b57\u4e32\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://oauth.net/2/pkce/",children:"PKCE"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsx)(d.p,{children:"\u7121\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{id:"generatecodeverifier",children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatecodechallenge",children:"generateCodeChallenge"})}),(0,r.jsxs)(d.p,{children:["\u57fa\u65bc code verifier \u751f\u6210\u4e00\u500b code challenge\u3002",(0,r.jsx)(d.br,{}),"\n","\u6b64\u65b9\u6cd5\u52a0\u5bc6 code verifier \u4e26\u4ee5 URL \u5b89\u5168\u7684 Base64 \u683c\u5f0f\u8fd4\u56de\u7d50\u679c\u3002",(0,r.jsx)(d.br,{}),"\n","\u6211\u5011\u5728 Logto V1 \u4e2d\u5c07\u52a0\u5bc6\u7b97\u6cd5\u56fa\u5b9a\u70ba ",(0,r.jsx)(d.code,{children:"SHA-256"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://oauth.net/2/pkce/",children:"PKCE"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeVerifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u7531 generateCodeVerifier \u751f\u6210"})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatestate",children:"generateState"})}),(0,r.jsxs)(d.p,{children:['"State" \u7528\u65bc\u9632\u6b62 CSRF \u653b\u64ca\u3002',(0,r.jsx)(d.br,{}),"\n",'"State" \u7684\u9577\u5ea6\u56fa\u5b9a\u70ba 64\u3002',(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u7684\u5b57\u4e32\u5fc5\u9808\u52a0\u5bc6\u70ba URL \u5b89\u5168\u7684 base64 \u683c\u5f0f\u5b57\u4e32\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-10.12",children:"CSRF"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsx)(d.p,{children:"\u7121\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"decodeidtoken",children:"decodeIdToken"})}),(0,r.jsxs)(d.p,{children:["\u89e3\u78bc\u4e00\u500b ID \u6b0a\u6756\u800c\u4e0d\u9032\u884c\u5bc6\u9470\u9a57\u8b49\u3002",(0,r.jsx)(d.br,{}),"\n","\u8fd4\u56de\u4e00\u500b ",(0,r.jsx)(d.code,{children:"IdTokenClaims"}),"\uff0c\u5176\u4e2d\u5305\u542b\u6b0a\u6756\u5728 payload \u90e8\u5206\u7684\u6240\u6709\u5ba3\u544a\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"IdTokenClaims"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:[(0,r.jsx)(d.code,{children:"token"})," \u4e0d\u662f\u6709\u6548\u7684 JWT\u3002"]}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"verifyidtoken",children:"verifyIdToken"})}),(0,r.jsx)(d.p,{children:"\u9a57\u8b49\u4e00\u500b ID \u6b0a\u6756\u662f\u5426\u5408\u6cd5\u3002"}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a57\u8b49\u7c3d\u540d\u5bc6\u9470"})}),(0,r.jsxs)(d.p,{children:["OIDC \u652f\u63f4 JSON Web Key Set\u3002",(0,r.jsx)(d.br,{}),"\n","\u6b64\u51fd\u6578\u63a5\u53d7\u4f86\u81ea\u7b2c\u4e09\u65b9\u5eab\uff08jose\uff09\u7684 ",(0,r.jsx)(d.code,{children:"JsonWebKeySet"})," \u7269\u4ef6\u9032\u884c\u9a57\u8b49\u3002"]}),(0,r.jsx)(d.pre,{children:(0,r.jsx)(d.code,{className:"language-json",children:'// JsonWebKeySet \u7bc4\u4f8b\n{\n  "keys": [\n    {\n      "kty": "RSA",\n      "use": "sig",\n      "kid": "xxxx",\n      "e": "xxxx",\n      "n": "xxxx"\n    }\n  ]\n}\n'})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a57\u8b49\u5ba3\u544a"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ID \u6b0a\u6756\u4e2d\u7684 ",(0,r.jsx)(d.code,{children:"iss"})," \u662f\u5426\u8207\u6b64\u6b0a\u6756\u7684\u7c3d\u767c\u8005\u5339\u914d\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ",(0,r.jsx)(d.code,{children:"aud"}),"\uff08\u53d7\u773e\uff09\u5ba3\u544a\u662f\u5426\u7b49\u65bc\u5ba2\u6236\u7aef ID\u3002"]}),"\n",(0,r.jsx)(d.li,{children:"\u9a57\u8b49\u7576\u524d\u6642\u9593\u662f\u5426\u5728\u904e\u671f\u6642\u9593\u4e4b\u524d\u3002"}),"\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49\u7c3d\u767c\u6642\u9593 (",(0,r.jsx)(d.code,{children:"iat"}),") \u8207\u7576\u524d\u6642\u9593\u7684\u5dee\u7570\u4e0d\u8d85\u904e +/- 1 \u5206\u9418\u3002"]}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u8003"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:(0,r.jsx)(d.a,{href:"https://openid.net/specs/openid-connect-core-1_0.html#IDTokenValidation",children:"OpenID connect core - ID Token Validation"})}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"issuer"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"jwks"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"JsonWebKeySet"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"void"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u9a57\u8b49\u7c3d\u540d\u5bc6\u9470\u5931\u6557"}),"\n",(0,r.jsx)(d.li,{children:"\u9a57\u8b49\u5ba3\u544a\u5931\u6557"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"verifyandparsecodefromcallbackuri",children:"verifyAndParseCodeFromCallbackUri"})}),(0,r.jsxs)(d.p,{children:["\u9a57\u8b49\u767b\u5165 callbackUri \u662f\u5426\u5408\u6cd5\u4e26\u8fd4\u56de\u5f9e callbackUri \u63d0\u53d6\u7684 ",(0,r.jsx)(d.code,{children:"code"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u9a57\u8b49 Callback URI"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u61c9\u4ee5 ",(0,r.jsx)(d.code,{children:"redirectUri"})," \u958b\u982d"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u4e2d\u6c92\u6709 ",(0,r.jsx)(d.code,{children:"error"}),"\uff08\u53c3\u8003 ",(0,r.jsx)(d.a,{href:"https://datatracker.ietf.org/doc/html/rfc6749#section-4.1.2.1",children:"Error Response"})," \u5728 redirect URI \u4e2d\uff09\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u5305\u542b ",(0,r.jsx)(d.code,{children:"state"}),"\uff0c\u61c9\u7b49\u65bc\u4f60\u5728 ",(0,r.jsx)(d.code,{children:"generateSignInUri"})," \u4e2d\u6307\u5b9a\u7684 ",(0,r.jsx)(d.code,{children:"state"})," \u503c\u3002"]}),"\n",(0,r.jsxs)(d.li,{children:["\u9a57\u8b49 ",(0,r.jsx)(d.code,{children:"callbackUri"})," \u5305\u542b\u53c3\u6578\u503c ",(0,r.jsx)(d.code,{children:"code"}),"\uff0c\u4f60\u5c07\u5728\u8acb\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u900f\u904e\u91cd\u65b0\u6574\u7406\u6b0a\u6756\uff09\u6642\u4f7f\u7528\u3002"]}),"\n"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"callbackUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u9a57\u8b49\u5931\u6557"}),"\n"]})]}),"\n",(0,r.jsx)(d.h3,{id:"core-functions",children:"\u6838\u5fc3\u529f\u80fd"}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchoidcconfig",children:"fetchOidcConfig"})}),(0,r.jsxs)(d.p,{children:["\u900f\u904e\u8acb\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/.well-known/openid-configuration"})," \u8fd4\u56de ",(0,r.jsx)(d.code,{children:"OidcConfigResponse"}),"\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsx)(d.tbody,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"OIDC \u670d\u52d9\u7aef\u9ede"})]})})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"OidcConfigResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u7372\u53d6\u5931\u6557"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatesigninuri",children:"generateSignInUri"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"authorizationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeChallenge"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scopes"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{children:"\u5be6\u73fe\u53ef\u80fd\u6839\u64da\u8a9e\u8a00\u898f\u7bc4\u800c\u6709\u6240\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resources"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{children:"\u5be6\u73fe\u53ef\u80fd\u6839\u64da\u8a9e\u8a00\u898f\u7bc4\u800c\u6709\u6240\u4e0d\u540c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"prompt"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u9810\u8a2d\u503c\uff1a",(0,r.jsx)(d.code,{children:"consent"}),"\u3002"]})]})]})]}),(0,r.jsxs)(d.p,{children:["URL \u5c07\u57fa\u65bc ",(0,r.jsx)(d.code,{children:"authorizationEndpoint"})," \u751f\u6210\uff0c\u4e26\u5305\u542b\u4ee5\u4e0b\u67e5\u8a62\u53c3\u6578\uff1a"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u767b\u5165 URL \u67e5\u8a62\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8a62\u9375"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirect_uri"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_challenge"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_challenge_method"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"\u56fa\u5b9a\u70ba S256\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"state"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"scope \u59cb\u7d42\u5305\u542b openid \u548c offline_access\uff0c\u5373\u4f7f\u8f38\u5165\u7684 scope \u63d0\u4f9b\u4e86\u7a7a\u6216\u7a7a\u7684 scope \u503c\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u6211\u5011\u53ef\u4ee5\u591a\u6b21\u5c07\u8cc7\u6e90\u6dfb\u52a0\u5230 uri\uff0c\u5f8c\u7aef\u5c07\u5b83\u5011\u8f49\u63db\u70ba\u5217\u8868\u3002\u4f8b\u5982 ",(0,r.jsx)(d.code,{children:"resource=a&resource=b"})]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"response_type"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{children:"\u56fa\u5b9a\u70ba code\u3002"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"prompt"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"generatesignouturi",children:"generateSignOutUri"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"endSessionEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"idToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"postLogoutRedirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsxs)(d.p,{children:["URL \u5c07\u57fa\u65bc ",(0,r.jsx)(d.code,{children:"endSessionEndpoint"})," \u751f\u6210\uff0c\u4e26\u5305\u542b\u4ee5\u4e0b\u67e5\u8a62\u53c3\u6578\uff1a"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u767b\u51fa URL \u67e5\u8a62\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8a62\u9375"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"id_token_hint"}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsxs)(d.td,{children:["\u8f38\u5165\u7684 ",(0,r.jsx)(d.code,{children:"idToken"})," \u53c3\u6578"]})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"post_logout_redirect_uri"}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u8f38\u5165\u7684 ",(0,r.jsx)(d.code,{children:"postLogoutRedirectUri"})," \u53c3\u6578"]})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"string"})})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchtokenbyauthorizationcode",children:"fetchTokenByAuthorizationCode"})}),(0,r.jsxs)(d.p,{children:["\u900f\u904e\u8acb\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u900f\u904e\u6388\u6b0a\u78bc\uff09\u7372\u53d6\u6b0a\u6756 (",(0,r.jsx)(d.code,{children:"CodeTokenResponse"}),")\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"codeVerifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirectUri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8acb\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u9ede\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["Content-Type\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8f09\u8377\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8a62\u9375"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"grant_type"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string: 'authorization_code'"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"code_verifier"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"redirect_uri"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"CodeTokenResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u7372\u53d6\u5931\u6557"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"fetchtokenbyrefreshtoken",children:"fetchTokenByRefreshToken"})}),(0,r.jsxs)(d.p,{children:["\u900f\u904e ",(0,r.jsx)(d.code,{children:"/oidc/token"}),"\uff08\u900f\u904e\u91cd\u65b0\u6574\u7406\u6b0a\u6756\uff09\u7372\u53d6\u6b0a\u6756 (",(0,r.jsx)(d.code,{children:"RefreshTokenTokenResponse"}),")\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"tokenEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refreshToken"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scopes"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string[]"})}),(0,r.jsx)(d.td,{})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8acb\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u9ede\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["Content-Type\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8f09\u8377\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8a62\u9375"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5fc5\u9700"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"grant_type"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string: 'refresh_token'"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"refresh_token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u2705"}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"resource"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"scope"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{}),(0,r.jsxs)(d.td,{children:["\u6211\u5011\u5c07 ",(0,r.jsx)(d.code,{children:"scopes"})," \u503c\u7528\u7a7a\u683c\u9023\u63a5\u4f86\u69cb\u5efa\u6b64 ",(0,r.jsx)(d.code,{children:"scope"})," \u5b57\u4e32"]})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"RefreshTokenTokenResponse"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u7372\u53d6\u5931\u6557"}),"\n"]})]}),"\n",(0,r.jsxs)(s,{children:[(0,r.jsx)("summary",{children:(0,r.jsx)(d.h3,{id:"revoke",children:"revoke"})}),(0,r.jsxs)(d.p,{children:["\u8acb\u6c42 ",(0,r.jsx)(d.code,{children:"/oidc/token/revocation"})," API \u901a\u77e5\u6388\u6b0a\u4f3a\u670d\u5668\u5148\u524d\u7372\u5f97\u7684\u91cd\u65b0\u6574\u7406\u6216\u5b58\u53d6\u6b0a\u6756\u4e0d\u518d\u9700\u8981\u3002"]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u53c3\u6578"})}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u540d\u7a31"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"}),(0,r.jsx)(d.th,{children:"\u5099\u8a3b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"revocationEndpoint"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"clientId"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})}),(0,r.jsx)(d.td,{children:"\u8981\u64a4\u92b7\u7684\u6b0a\u6756"})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"HTTP \u8acb\u6c42"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsxs)(d.li,{children:["\u7aef\u9ede\uff1a",(0,r.jsx)(d.code,{children:"/oidc/token/revocation"})]}),"\n",(0,r.jsxs)(d.li,{children:["\u65b9\u6cd5\uff1a",(0,r.jsx)(d.code,{children:"POST"})]}),"\n",(0,r.jsxs)(d.li,{children:["Content-Type\uff1a",(0,r.jsx)(d.code,{children:"application/x-www-form-urlencoded"})]}),"\n",(0,r.jsx)(d.li,{children:"\u8f09\u8377\uff1a"}),"\n"]}),(0,r.jsxs)(d.table,{children:[(0,r.jsx)(d.thead,{children:(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.th,{children:"\u67e5\u8a62\u9375"}),(0,r.jsx)(d.th,{children:"\u985e\u578b"})]})}),(0,r.jsxs)(d.tbody,{children:[(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"client_id"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]}),(0,r.jsxs)(d.tr,{children:[(0,r.jsx)(d.td,{children:"token"}),(0,r.jsx)(d.td,{children:(0,r.jsx)(d.code,{children:"string"})})]})]})]}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u8fd4\u56de\u985e\u578b"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.code,{children:"void"})}),(0,r.jsx)(d.p,{children:(0,r.jsx)(d.strong,{children:"\u62cb\u51fa"})}),(0,r.jsxs)(d.ul,{children:["\n",(0,r.jsx)(d.li,{children:"\u64a4\u92b7\u5931\u6557"}),"\n"]})]})]})}function j(e={}){const{wrapper:d}={...(0,i.R)(),...e.components};return d?(0,r.jsx)(d,{...e,children:(0,r.jsx)(x,{...e})}):x(e)}},79621:(e,d,s)=>{s.d(d,{R:()=>c,x:()=>l});var n=s(58101);const r={},i=n.createContext(r);function c(e){const d=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(d):{...d,...e}}),[d,e])}function l(e){let d;return d=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:c(e.components),n.createElement(i.Provider,{value:d},e.children)}}}]);